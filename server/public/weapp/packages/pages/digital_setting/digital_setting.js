"use strict";const e=require("../../../common/vendor.js"),i=require("../../../api/digital.js");if(require("../../../utils/request/index.js"),require("../../../utils/request/http.js"),require("../../../enums/requestEnums.js"),require("../../../utils/request/cancel.js"),require("../../../stores/user.js"),require("../../../api/user.js"),require("../../../enums/constantEnums.js"),require("../../../utils/auth.js"),require("../../../utils/cache.js"),require("../../../utils/unique-id.js"),require("../../../router/index.js"),require("../../../config/index.js"),require("../../../utils/client.js"),require("../../../enums/appEnums.js"),!Array){(e.resolveComponent("u-input")+e.resolveComponent("u-form-item")+e.resolveComponent("app-upload")+e.resolveComponent("u-form")+e.resolveComponent("u-button"))()}Math||((()=>"../../../uni_modules/vk-uview-ui/components/u-input/u-input.js")+(()=>"../../../uni_modules/vk-uview-ui/components/u-form-item/u-form-item.js")+(()=>"../../../components/app-upload/app-upload.js")+a+(()=>"../../../uni_modules/vk-uview-ui/components/u-form/u-form.js")+(()=>"../../../uni_modules/vk-uview-ui/components/u-button/u-button.js"))();const a=()=>"../../components/dub-picker/dub-picker.js",r=e.defineComponent({__name:"digital_setting",setup(a){const r=e.useRouter(),u=e.useRoute(),l=e.shallowRef(),t=e.ref({name:"",avatar:"",image:"",wide_stay_video:"",wide_talk_video:"",vertical_stay_video:"",vertical_talk_video:"",channel:"",dubbing:"",idle_time:10,idle_reply:""}),o={name:[{required:!0,message:"请输入形象名称"}],avatar:[{required:!0,type:"string",message:"请选择形象头像"}],image:[{required:!0,type:"string",message:"请选择形象封面"}],wide_stay_video:[{required:!0,type:"string",message:"请选择宽屏人物待机视频"}],wide_talk_video:[{required:!0,type:"string",message:"请选择宽屏人物说话视频"}],vertical_stay_video:[{required:!0,type:"string",message:"请选择竖屏人物待机视频"}],vertical_talk_video:[{required:!0,type:"string",message:"请选择竖屏人物说话视频"}],dubbing:[{required:!0,message:"请选择配音角色"}],idle_time:[{required:!0,message:"请输入自定义闲时时间"}],idle_reply:[{required:!0,type:"string",message:"请输入闲时回复内容"}]},s=()=>{l.value.validate((async e=>{e&&(t.value.idle_time=Number(t.value.idle_time),await i.putDigital(t.value),setTimeout((()=>{r.navigateBack()}),1e3))}))};return e.onMounted((()=>{(async()=>{t.value=await i.getDigitalDetail({id:u.query.id})})(),setTimeout((()=>{l.value.setRules(o)}),10)})),(i,a)=>({a:i.$theme.navColor,b:i.$theme.navBgColor,c:i.$theme.pageStyle,d:e.o((e=>t.value.name=e)),e:e.p({placeholder:"请输入形象名称",border:!0,modelValue:t.value.name}),f:e.p({label:"形象名称",prop:"name",required:!0}),g:e.o((e=>t.value.avatar=e)),h:e.p({modelValue:t.value.avatar}),i:e.p({label:"形象头像",prop:"avatar",required:!0}),j:e.o((e=>t.value.image=e)),k:e.p({modelValue:t.value.image}),l:e.p({label:"形象封面",prop:"image",required:!0}),m:e.o((e=>t.value.wide_stay_video=e)),n:e.p({accept:"video",modelValue:t.value.wide_stay_video}),o:e.p({label:"宽屏人物待机视频",prop:"wide_stay_video",required:!0}),p:e.o((e=>t.value.wide_talk_video=e)),q:e.p({accept:"video",modelValue:t.value.wide_talk_video}),r:e.p({label:"宽屏人物说话视频",prop:"wide_talk_video",required:!0}),s:e.o((e=>t.value.vertical_stay_video=e)),t:e.p({accept:"video",modelValue:t.value.vertical_stay_video}),v:e.p({label:"竖屏人物待机视频",prop:"vertical_stay_video",required:!0}),w:e.o((e=>t.value.vertical_talk_video=e)),x:e.p({accept:"video",modelValue:t.value.vertical_talk_video}),y:e.p({label:"竖屏人物说话视频",prop:"vertical_talk_video",required:!0}),z:e.o((e=>t.value.dubbing=e)),A:e.p({modelValue:t.value.dubbing}),B:e.p({label:"选择配音",prop:"dubbing",required:!0}),C:e.o((e=>t.value.idle_time=e)),D:e.p({type:"number",placeholder:"请输入自定义闲时时间",modelValue:t.value.idle_time}),E:e.p({label:"自定义闲时时间",prop:"idle_time",required:!0}),F:e.o((e=>t.value.idle_reply=e)),G:e.p({type:"textarea",height:150,placeholder:"请输入内容",border:!0,modelValue:t.value.idle_reply}),H:e.p({label:"闲时回复内容",prop:"idle_reply",required:!0}),I:e.sr(l,"6e0e6dee-0",{k:"uFormRef"}),J:e.p({rules:o,model:t.value,"label-position":"top","border-bottom":!1}),K:e.o(s),L:e.p({type:"primary"})})}});wx.createPage(r);
