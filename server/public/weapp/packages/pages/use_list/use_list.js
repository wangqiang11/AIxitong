"use strict";const e=require("../../../common/vendor.js"),t=require("../../../api/user.js"),r=require("../../../common/assets.js"),s=require("../../../stores/app.js");if(require("../../../utils/request/index.js"),require("../../../utils/request/http.js"),require("../../../enums/requestEnums.js"),require("../../../utils/request/cancel.js"),require("../../../stores/user.js"),require("../../../enums/constantEnums.js"),require("../../../utils/auth.js"),require("../../../utils/cache.js"),require("../../../utils/unique-id.js"),require("../../../router/index.js"),require("../../../config/index.js"),require("../../../utils/client.js"),require("../../../enums/appEnums.js"),require("../../../api/app.js"),require("../../../api/shop.js"),!Array){(e.resolveComponent("u-tabs")+e.resolveComponent("z-paging"))()}Math||((()=>"../../../uni_modules/vk-uview-ui/components/u-tabs/u-tabs.js")+(()=>"../../../node-modules/z-paging/components/z-paging/z-paging.js"))();const i=e.defineComponent({__name:"use_list",setup(i){const u=s.useAppStore(),o=e.useRoute(),a=e.useRouter(),n=e.shallowRef(),p=e.computed((()=>[{name:`${u.getTokenUnit}明细`,type:1},{name:"智能体明细",type:2}])),c=e.reactive({current:0,lists:[]}),l=e=>{c.current=e,n.value.reload()},m=async(e,r)=>{try{const{lists:s}=await t.accountLog({page_no:e,page_size:r,type:p.value[c.current].type});n.value.complete(s)}catch(s){n.value.complete(!1),console.log("请求佣金列表失败",s)}};return e.onLoad((()=>{const e=o.query;e.type&&(c.current=1==e.type?0:1)})),(t,s)=>({a:t.$theme.navColor,b:t.$theme.navBgColor,c:t.$theme.pageStyle,d:e.o(l),e:e.o((e=>c.current=e)),f:e.p({list:e.unref(p),"is-scroll":!1,"active-color":t.$theme.primaryColor,modelValue:c.current}),g:e.f(c.lists,((t,r,s)=>e.e({a:e.t(t.change_type),b:e.t(t.create_time),c:1==t.action},1==t.action?{d:e.t(t.change_amount)}:{},{e:2==t.action},2==t.action?{f:e.t(t.change_amount)}:{},{g:t.id,h:e.o((e=>{return r=t.id,void a.navigateTo(`/packages/pages/use_detail/use_detail?id=${r}&type=${p.value[c.current].type}`);var r}),t.id)}))),h:e.sr(n,"3c701ffb-1",{k:"paging"}),i:e.o(m),j:e.o((e=>c.lists=e)),k:e.p({fixed:!1,height:"100%","empty-view-text":"暂无明细记录～","empty-view-img":e.unref(r.EmptyWithdrawImage),"empty-view-style":{"margin-top":"100px"},"empty-view-center":!1,"auto-clean-list-when-reload":!1,"auto-scroll-to-top-when-reload":!1,"empty-view-img-style":{width:"360rpx",height:"360rpx"},modelValue:c.lists})})}}),u=e._export_sfc(i,[["__scopeId","data-v-3c701ffb"]]);wx.createPage(u);
