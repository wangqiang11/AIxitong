"use strict";const e=require("../../../../common/vendor.js");if(!Array){(e.resolveComponent("u-input")+e.resolveComponent("u-form-item")+e.resolveComponent("u-radio")+e.resolveComponent("u-radio-group")+e.resolveComponent("u-form")+e.resolveComponent("u-button")+e.resolveComponent("u-popup"))()}Math||((()=>"../../../../uni_modules/vk-uview-ui/components/u-input/u-input.js")+(()=>"../../../../uni_modules/vk-uview-ui/components/u-form-item/u-form-item.js")+(()=>"../../../../uni_modules/vk-uview-ui/components/u-radio/u-radio.js")+(()=>"../../../../uni_modules/vk-uview-ui/components/u-radio-group/u-radio-group.js")+(()=>"../../../../uni_modules/vk-uview-ui/components/u-form/u-form.js")+(()=>"../../../../uni_modules/vk-uview-ui/components/u-button/u-button.js")+(()=>"../../../../uni_modules/vk-uview-ui/components/u-popup/u-popup.js"))();const o=e.defineComponent({__name:"create-share",props:{mode:null,data:null,show:{type:Boolean},type:null},emits:["update:show","confirm"],setup(o,{emit:u}){const a=o,t=e.shallowRef(),{show:p}=e.useVModels(a,u),n=e.ref({name:"",password:"",chat_type:1}),l={name:[{required:!0,message:"请输入链接名称"}]},s=()=>{t.value.validate((o=>{o&&(u("confirm",{value:e.lodashExports.cloneDeep(n.value),type:a.mode}),p.value=!1)}))};return e.watch(p,(e=>{var o,u,p;e&&(setTimeout((()=>{t.value.setRules(l)})),"add"==a.mode?n.value={name:"",password:"",chat_type:1}:n.value={id:null==(o=a.data)?void 0:o.id,name:null==(u=a.data)?void 0:u.name,password:null==(p=a.data)?void 0:p.secret})})),(u,a)=>e.e({a:e.t("add"==o.mode?"创建":"编辑"),b:e.o((e=>n.value.name=e)),c:e.p({placeholder:"请输入链接名称",border:!0,modelValue:n.value.name}),d:e.p({label:"链接名称",prop:"name",required:!0}),e:e.o((e=>n.value.password=e)),f:e.p({placeholder:"请输入访问密码",border:!0,type:"password",modelValue:n.value.password}),g:e.p({label:"访问密码",prop:"password"}),h:1===o.type&&"add"==o.mode},1===o.type&&"add"==o.mode?{i:e.p({name:1}),j:e.p({name:2}),k:e.o((e=>n.value.chat_type=e)),l:e.p({modelValue:n.value.chat_type}),m:e.p({label:"对话模式",prop:"chat_type"})}:{},{n:e.sr(t,"d170b3e0-1,d170b3e0-0",{k:"uFormRef"}),o:e.p({model:n.value,"label-position":"top","border-bottom":!1}),p:e.o((e=>p.value=!1)),q:e.o(s),r:e.p({type:"primary"}),s:e.o((o=>e.isRef(p)?p.value=o:null)),t:e.p({"safe-area-inset-bottom":!0,closeable:!0,"border-radius":"16",mode:"bottom",modelValue:e.unref(p)})})}});wx.createComponent(o);
