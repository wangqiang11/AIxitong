"use strict";const e=require("../../../../common/vendor.js"),s=require("../../../../api/role.js"),i=require("../../../../stores/user.js");if(require("../../../../utils/request/index.js"),require("../../../../utils/request/http.js"),require("../../../../enums/requestEnums.js"),require("../../../../utils/request/cancel.js"),require("../../../../router/index.js"),require("../../../../utils/cache.js"),require("../../../../enums/constantEnums.js"),require("../../../../config/index.js"),require("../../../../utils/client.js"),require("../../../../enums/appEnums.js"),require("../../../../api/user.js"),require("../../../../utils/auth.js"),require("../../../../utils/unique-id.js"),!Array){(e.resolveComponent("u-search")+e.resolveComponent("u-image")+e.resolveComponent("u-icon")+e.resolveComponent("z-paging"))()}Math||((()=>"../../../../uni_modules/vk-uview-ui/components/u-search/u-search.js")+(()=>"../../../../uni_modules/vk-uview-ui/components/u-image/u-image.js")+(()=>"../../../../uni_modules/vk-uview-ui/components/u-icon/u-icon.js")+(()=>"../../../../node-modules/z-paging/components/z-paging/z-paging.js"))();const r=e.defineComponent({__name:"role",setup(r){const u=i.useUserStore(),o=e.useRouter(),a=e.ref(""),n=e.reactive({lists:[],current:0}),t=e.ref([]),l=e.shallowRef(),c=async(e,i)=>{var r,u;try{const{lists:u=[]}=await s.getRoleMobileList({keyword:a.value,category_id:n.current,page_size:i,page_no:e});null==(r=l.value)||r.complete(u)}catch(o){null==(u=l.value)||u.complete(!1)}},d=()=>{var e;null==(e=l.value)||e.reload()};return e.watch((()=>n.current),(()=>{d()})),e.onShow((async()=>{await(async()=>{n.lists=await s.getRoleCateList()})(),d()})),(s,i)=>({a:e.o((e=>d())),b:e.o((e=>d())),c:e.o((e=>d())),d:e.o((e=>a.value=e)),e:e.p({placeholder:"请输入关键词搜索",height:"72","bg-color":"#ffffff",modelValue:a.value}),f:e.f(n.lists,((s,i,r)=>({a:e.t(s.name),b:s.id==n.current?1:"",c:s.id,d:e.o((e=>n.current=s.id),s.id)}))),g:e.f(t.value,((s,i,r)=>({a:"4a412df6-2-"+r+",4a412df6-1",b:e.p({src:s.image,width:"130",height:"130","border-radius":"20"}),c:e.t(s.name),d:e.t(s.describe),e:"4a412df6-3-"+r+",4a412df6-1",f:s.id,g:e.o((e=>(async e=>{u.isLogin||o.navigateTo("/pages/login/login"),o.navigateTo({path:"/packages/pages/dialogue_role/dialogue_role",query:{id:e.id}})})(s)),s.id)}))),h:e.p({name:"account"}),i:e.sr(l,"4a412df6-1",{k:"pagingRef"}),j:e.o(c),k:e.o((e=>t.value=e)),l:e.p({"auto-clean-list-when-reload":!1,fixed:!1,modelValue:t.value})})}}),u=e._export_sfc(r,[["__scopeId","data-v-4a412df6"]]);wx.createComponent(u);
