"use strict";const e=require("../../../../common/vendor.js"),o=require("../../../../hooks/useLockFn.js"),i=require("../aiPPT.js"),r=require("../../../../api/ai_ppt.js");if(require("../../../../stores/user.js"),require("../../../../api/user.js"),require("../../../../utils/request/index.js"),require("../../../../utils/request/http.js"),require("../../../../enums/requestEnums.js"),require("../../../../utils/request/cancel.js"),require("../../../../router/index.js"),require("../../../../utils/cache.js"),require("../../../../enums/constantEnums.js"),require("../../../../config/index.js"),require("../../../../utils/client.js"),require("../../../../enums/appEnums.js"),require("../../../../utils/auth.js"),require("../../../../utils/unique-id.js"),!Array){(e.resolveComponent("u-image")+e.resolveComponent("u-icon")+e.resolveComponent("u-button"))()}Math||((()=>"../../../../uni_modules/vk-uview-ui/components/u-image/u-image.js")+(()=>"../../../../uni_modules/vk-uview-ui/components/u-icon/u-icon.js")+(()=>"../../../../uni_modules/vk-uview-ui/components/u-button/u-button.js"))();const u=e.defineComponent({__name:"select-template",setup(u){const s=i.useAiPPTStore(),t=["科技","商务","小清新","极简","中国风","可爱卡通"],n=[{label:"红色",value:"#D7000F"},{label:"橙色",value:"#FF7A00"},{label:"黄色",value:"#FFC700"},{label:"绿色",value:"#39D819"},{label:"青色",value:"#3f9097"},{label:"蓝色",value:"#0385FF"},{label:"紫色",value:"#C73AFF"},{label:"粉色",value:"#FF3AA0"}],l=e.reactive({color:"红色",style:"科技"});let a="";const c=e.ref([]),{lockFn:p,isLock:d}=o.useLockFn((async()=>{e.index.showLoading({title:"加载中"});try{a=s.options.prompt,c.value=await r.getPPTTemplate({prompt:s.options.prompt,...l}),(()=>{const[e]=c.value;e&&e.cover_id&&(s.options.cover_id=e.cover_id)})()}finally{e.index.hideLoading()}})),v=async()=>{await s.genPPTSubmit({...s.options}),s.showTemplate=!1,s.showOutline=!1},m=e.computed((()=>c.value.find((e=>e.cover_id===s.options.cover_id))||{}));return e.watch(l,(()=>{p()}),{deep:!0}),p(),(o,i)=>({a:e.p({width:"100%",height:"368rpx","border-radius":"20",src:e.unref(m).cover_image}),b:e.f(t,((o,i,r)=>({a:e.t(o),b:i,c:l.style===o?1:"",d:e.o((e=>l.style=o),i)}))),c:e.f(n,((o,i,r)=>e.e({a:l.color===o.label},l.color===o.label?{b:"cc4b5b96-1-"+r,c:e.p({name:"check",size:24})}:{},{d:i,e:o.value,f:e.o((e=>l.color=o.label),i)}))),d:e.f(c.value,((o,i,r)=>({a:"cc4b5b96-2-"+r,b:e.p({width:"100%",height:"200rpx",src:o.cover_image}),c:e.unref(s).options.cover_id===o.cover_id?1:"",d:o.cover_id,e:e.o((i=>e.unref(s).options.cover_id=o.cover_id),o.cover_id)}))),e:e.o(v),f:e.p({type:"primary"})})}}),s=e._export_sfc(u,[["__scopeId","data-v-cc4b5b96"]]);wx.createComponent(s);
