"use strict";const e=require("../../../common/vendor.js"),u=require("../../../stores/app.js"),i=require("./aiPPT.js"),r=require("../../../api/ai_ppt.js"),s=require("../../../hooks/useCopy.js"),o=require("../../../hooks/useLockFn.js");if(require("../../../api/app.js"),require("../../../utils/request/index.js"),require("../../../utils/request/http.js"),require("../../../enums/requestEnums.js"),require("../../../utils/request/cancel.js"),require("../../../stores/user.js"),require("../../../api/user.js"),require("../../../enums/constantEnums.js"),require("../../../utils/auth.js"),require("../../../utils/cache.js"),require("../../../utils/unique-id.js"),require("../../../router/index.js"),require("../../../config/index.js"),require("../../../utils/client.js"),require("../../../enums/appEnums.js"),require("../../../api/shop.js"),!Array){(e.resolveComponent("u-image")+e.resolveComponent("u-icon")+e.resolveComponent("u-button")+e.resolveComponent("u-popup"))()}Math||((()=>"../../../uni_modules/vk-uview-ui/components/u-image/u-image.js")+(()=>"../../../uni_modules/vk-uview-ui/components/u-icon/u-icon.js")+(()=>"../../../uni_modules/vk-uview-ui/components/u-button/u-button.js")+(()=>"../../../uni_modules/vk-uview-ui/components/u-popup/u-popup.js"))();const n=e.defineComponent({__name:"detail",setup(n){const t=e.useRoute(),{copy:p}=s.useCopy(),a=u.useAppStore(),c=i.useAiPPTStore();c.getPPTConfig();const l=e.ref(!1),d=e.ref({preview:[]}),m=async()=>{const{file_url:e}=await r.downloadPPT({id:t.query.id});await p(e),l.value=!1},{lockFn:q,isLock:j}=o.useLockFn((async()=>{l.value=!0}));return(async()=>{const[e]=await r.getPPTDetail({id:t.query.id});e&&e.id&&(d.value=e)})(),(u,i)=>({a:e.f(d.value.preview,((u,i,r)=>({a:"cbf4ce28-0-"+r,b:e.p({width:"100%",height:"400rpx",src:u}),c:e.t(i+1),d:i}))),b:e.t(d.value.pay_status?"":e.unref(c).config.isVipFree?"(会员免费)":e.unref(c).config.price>0?"-"+e.unref(c).config.price+e.unref(a).getTokenUnit:""),c:e.p({name:"download",size:"30"}),d:e.o(e.unref(q)),e:e.p({type:"primary",loading:e.unref(j)}),f:e.o(m),g:e.p({type:"primary",shape:"circle"}),h:e.o((e=>l.value=e)),i:e.p({mode:"center","border-radius":"15",closeable:!0,modelValue:l.value})})}}),t=e._export_sfc(n,[["__scopeId","data-v-cbf4ce28"]]);wx.createPage(t);
