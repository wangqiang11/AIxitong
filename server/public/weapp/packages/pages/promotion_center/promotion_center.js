"use strict";const e=require("../../../common/vendor.js"),u=require("../../../api/promotion.js"),s=require("../../../stores/theme.js"),t=require("../../../enums/appEnums.js"),r=require("../../../common/assets.js");if(require("../../../utils/request/index.js"),require("../../../utils/request/http.js"),require("../../../enums/requestEnums.js"),require("../../../utils/request/cancel.js"),require("../../../stores/user.js"),require("../../../api/user.js"),require("../../../enums/constantEnums.js"),require("../../../utils/auth.js"),require("../../../utils/cache.js"),require("../../../utils/unique-id.js"),require("../../../router/index.js"),require("../../../config/index.js"),require("../../../utils/client.js"),require("../../../utils/theme.js"),!Array){(e.resolveComponent("u-empty")+e.resolveComponent("page-status"))()}Math||(a+n+(()=>"../../../uni_modules/vk-uview-ui/components/u-empty/u-empty.js")+(()=>"../../../components/page-status/page-status.js"))();const a=()=>"./components/content.js",n=()=>"./components/apply.js",i=e.defineComponent({__name:"promotion_center",setup(a){const n=e.ref(t.PageStatusEnum.LOADING),i=e.ref({}),o=e.ref({}),l=e.shallowRef({}),p=e.ref({}),c=e.ref(!1),m=e.ref(!1),v=async()=>{const e=await u.getDistributionIndex();i.value=e.user,o.value=e.apply_detail,c.value=e.is_open,l.value=e.config,p.value=e.withdraw_config,m.value=!!i.value.is_distribution},q=e.ref(!1),f=s.useThemeStore();return e.computed((()=>q.value?f.primaryColor:"transparent")),e.onShow((async()=>{try{await v(),n.value=t.PageStatusEnum.NORMAL}catch(e){n.value=t.PageStatusEnum.ERROR}})),e.onPullDownRefresh((async()=>{try{await v(),n.value=t.PageStatusEnum.NORMAL}catch(u){n.value=t.PageStatusEnum.ERROR}e.index.stopPullDownRefresh()})),(u,s)=>e.e({a:u.$theme.pageStyle,b:m.value&&c.value},m.value&&c.value?{c:e.p({"user-info":i.value,config:e.unref(l),"withdraw-config":p.value})}:!m.value&&c.value?{e:e.o(v),f:e.p({"apply-detail":o.value})}:{},{d:!m.value&&c.value,g:!c.value},c.value?{}:{h:e.p({"font-size":"28","icon-size":"300",text:"该功能还未开启～",src:e.unref(r.EmptyDistributeCenterImage)})},{i:e.p({status:n.value})})}}),o=e._export_sfc(i,[["__scopeId","data-v-e3dd1645"]]);wx.createPage(o);
