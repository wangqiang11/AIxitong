"use strict";const e=require("../../../../../common/vendor.js"),r=require("../../../../../api/robot.js"),u=require("../../useRobot.js");if(require("../../../../../utils/request/index.js"),require("../../../../../utils/request/http.js"),require("../../../../../enums/requestEnums.js"),require("../../../../../utils/request/cancel.js"),require("../../../../../stores/user.js"),require("../../../../../api/user.js"),require("../../../../../enums/constantEnums.js"),require("../../../../../utils/auth.js"),require("../../../../../utils/cache.js"),require("../../../../../utils/unique-id.js"),require("../../../../../router/index.js"),require("../../../../../config/index.js"),require("../../../../../utils/client.js"),require("../../../../../enums/appEnums.js"),!Array){(e.resolveComponent("u-form")+e.resolveComponent("u-button"))()}Math||(t+s+i+n+o+(()=>"../../../../../uni_modules/vk-uview-ui/components/u-form/u-form.js")+(()=>"../../../../../uni_modules/vk-uview-ui/components/u-button/u-button.js"))();const t=()=>"./base-config.js",s=()=>"./search-config.js",i=()=>"./interface-config.js",n=()=>"./digital-config.js",o=()=>"./flow-config.js",a=e.defineComponent({__name:"index",setup(t){const s=e.useRouter(),i=e.reactive({list:[{name:"基本设置",type:"base"},{name:"AI模型/搜索配置",type:"search"},{name:"界面设置",type:"interface"},{name:"形象设置",type:"digital"},{name:"工作流设置",type:"flow"}],current:"base"}),n=e.ref(0),o=e.shallowRef(),{robotInfo:a,getRobotInfo:l}=u.useRobot(),m={image:[{required:!0,message:"请选择智能体图标"}],name:[{required:!0,message:"请输入智能体名称",trigger:["change"]}],model_sub_id:[{required:!0,message:"请选择AI模型"}],cate_id:[{required:!0,message:"请选择智能体分类"}],digital_id:[{required:!0,message:"请选择形象",validator:(e,r,u)=>r>0}]},c=()=>{o.value.validate((async e=>{e&&(await r.putRobot(a.value),l(),setTimeout((()=>{s.navigateBack()}),1e3))}))};return e.onMounted((()=>{setTimeout((()=>{o.value.setRules(m)}),10)})),(r,u)=>e.e({a:e.f(i.list,((r,u,t)=>({a:e.t(r.name),b:r.type,c:r.type==i.current?1:"",d:e.o((u=>{return t=r.type,i.current=t,n.value=10,void e.nextTick$1((()=>{n.value=0}));var t}),r.type)}))),b:"base"==i.current,c:e.o((r=>e.isRef(a)?a.value=r:null)),d:e.p({modelValue:e.unref(a)}),e:"search"==i.current,f:e.o((r=>e.isRef(a)?a.value=r:null)),g:e.p({modelValue:e.unref(a)}),h:"interface"==i.current},"interface"==i.current?{i:e.o((r=>e.isRef(a)?a.value=r:null)),j:e.p({modelValue:e.unref(a)})}:{},{k:"digital"==i.current,l:e.o((r=>e.isRef(a)?a.value=r:null)),m:e.p({modelValue:e.unref(a)}),n:"flow"==i.current,o:e.o((r=>e.isRef(a)?a.value=r:null)),p:e.p({modelValue:e.unref(a)}),q:e.sr(o,"2b90afc8-0",{k:"uFormRef"}),r:e.p({model:e.unref(a),rules:m,"label-position":"top","border-bottom":!1}),s:n.value,t:e.o(c),v:e.p({type:"primary","custom-style":{"z-index":0}})})}});wx.createComponent(a);
