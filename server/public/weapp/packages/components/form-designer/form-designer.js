"use strict";const e=require("../../../common/vendor.js");if(!Array){(e.resolveComponent("u-form-item")+e.resolveComponent("u-form"))()}Math||(o+r+t+i+d+(()=>"../../../uni_modules/vk-uview-ui/components/u-form-item/u-form-item.js")+(()=>"../../../uni_modules/vk-uview-ui/components/u-form/u-form.js"))();const o=()=>"./widgets/input.js",r=()=>"./widgets/textarea.js",t=()=>"./widgets/radio.js",i=()=>"./widgets/select.js",d=()=>"./widgets/checkbox.js",s=e.defineComponent({__name:"form-designer",props:{formLists:{default:()=>[]},modelValue:null,labelPosition:{default:"top"},borderBottom:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(o,{expose:r,emit:t}){const i=o,d=e.shallowRef(),s=e.computed({get:()=>i.modelValue,set(e){t("update:modelValue",e)}}),p=e.ref({});return e.watch((()=>i.formLists),(o=>{p.value=null==o?void 0:o.reduce(((e,o)=>(s.value[o.props.field]=void 0,o.props.isRequired&&(e[o.props.field]=[{required:!0,message:"必填项不能为空"}]),e)),{}),e.nextTick$1((()=>{var e;null==(e=d.value)||e.setRules(p.value)}))}),{immediate:!0}),r({validate:async()=>new Promise(((e,o)=>{var r;null==(r=d.value)||r.validate((r=>{r?e(!0):o()}))}))}),(r,t)=>({a:e.f(o.formLists,((r,t,i)=>e.e({a:"WidgetInput"===r.name},"WidgetInput"===r.name?{b:"5c8b62c2-2-"+i+",5c8b62c2-1-"+i,c:e.o((o=>e.unref(s)[r.props.field]=o),r.id),d:e.p({...r.props,modelValue:e.unref(s)[r.props.field]})}:"WidgetTextarea"===r.name?{f:"5c8b62c2-3-"+i+",5c8b62c2-1-"+i,g:e.o((o=>e.unref(s)[r.props.field]=o),r.id),h:e.p({...r.props,modelValue:e.unref(s)[r.props.field]})}:"WidgetRadio"===r.name?{j:"5c8b62c2-4-"+i+",5c8b62c2-1-"+i,k:e.o((o=>e.unref(s)[r.props.field]=o),r.id),l:e.p({...r.props,modelValue:e.unref(s)[r.props.field]})}:"WidgetSelect"===r.name?{n:"5c8b62c2-5-"+i+",5c8b62c2-1-"+i,o:e.o((o=>e.unref(s)[r.props.field]=o),r.id),p:e.p({...r.props,modelValue:e.unref(s)[r.props.field]})}:"WidgetCheckbox"===r.name?{r:"5c8b62c2-6-"+i+",5c8b62c2-1-"+i,s:e.o((o=>e.unref(s)[r.props.field]=o),r.id),t:e.p({...r.props,modelValue:e.unref(s)[r.props.field]})}:{},{e:"WidgetTextarea"===r.name,i:"WidgetRadio"===r.name,m:"WidgetSelect"===r.name,q:"WidgetCheckbox"===r.name,v:r.id,w:"5c8b62c2-1-"+i+",5c8b62c2-0",x:e.p({prop:r.props.field,label:r.props.title,borderBottom:o.borderBottom,required:r.props.isRequired})}))),b:e.sr(d,"5c8b62c2-0",{k:"formRef"}),c:e.p({model:e.unref(s),...{...r.$attrs,...i},rules:p.value})})}});wx.createComponent(s);
