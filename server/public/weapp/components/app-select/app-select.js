"use strict";const e=require("../../common/vendor.js"),o={options:{styleIsolation:"shared",multipleSlots:!0},props:{dataLists:{default:()=>[],type:Array},name:{default:"name"},value:{default:"value"},modelValue:{type:[String,Number,Array]},type:{default:"radio",type:String},popupTitle:{default:"列表选择",type:String},placeholder:{default:"请输入搜索内容"},filter:{default:!0,type:Boolean},disabled:{default:!1,type:Boolean},closeable:{default:!0,type:Boolean}},computed:{filterOptions(){return this.filter?this.dataLists.filter((e=>e[this.name].includes(this.keyword))):this.dataLists},shouldShowPlaceholder(){return Array.isArray(this.modelValue)?0==this.modelValue.length:void 0===this.modelValue||null===this.modelValue||""===this.modelValue},checkboxData(){if("checkbox"!==this.type||!Array.isArray(this.modelValue))return[];const e=[];return this.modelValue.forEach((o=>{const t=this.dataLists.find((e=>e[this.value]==o));t?e.push(t):e.push({[this.name]:o,[this.value]:o})})),e},radioData(){if("radio"!==this.type||Array.isArray(this.modelValue))return{};return this.dataLists.find((e=>e[this.value]===this.modelValue))||{[this.name]:this.modelValue,[this.value]:this.modelValue}}},data:()=>({show:!1,keyword:"",scrollTop:0,checkboxValue:[],radioValue:""}),watch:{modelValue:{handler(e,o){"radio"==this.type?this.radioValue=e:"checkbox"==this.type&&(this.checkboxValue=(e||[]).slice())},immediate:!0},show(e){e&&(this.keyword="","radio"==this.type?this.radioValue=this.modelValue:"checkbox"==this.type&&(this.checkboxValue=(this.modelValue||[]).slice()))}},methods:{removeSelect(e){const o=this.checkboxValue.findIndex((o=>o==e[this.value]));o>-1&&(this.checkboxValue.splice(o,1),this.$emit("change",this.checkboxValue.slice()),this.$emit("update:modelValue",this.checkboxValue.slice()))},cancel(){this.show=!1},submit(){"radio"==this.type?this.$emit("update:modelValue",this.radioValue):"checkbox"==this.type&&this.$emit("update:modelValue",this.checkboxValue.slice()),this.$emit("change"),this.cancel()}}};if(!Array){(e.resolveComponent("u-tag")+e.resolveComponent("u-icon")+e.resolveComponent("u-search")+e.resolveComponent("u-radio")+e.resolveComponent("u-radio-group")+e.resolveComponent("u-checkbox")+e.resolveComponent("u-checkbox-group")+e.resolveComponent("u-button")+e.resolveComponent("u-popup"))()}Math||((()=>"../../uni_modules/vk-uview-ui/components/u-tag/u-tag.js")+(()=>"../../uni_modules/vk-uview-ui/components/u-icon/u-icon.js")+(()=>"../../uni_modules/vk-uview-ui/components/u-search/u-search.js")+(()=>"../../uni_modules/vk-uview-ui/components/u-radio/u-radio.js")+(()=>"../../uni_modules/vk-uview-ui/components/u-radio-group/u-radio-group.js")+(()=>"../../uni_modules/vk-uview-ui/components/u-checkbox/u-checkbox.js")+(()=>"../../uni_modules/vk-uview-ui/components/u-checkbox-group/u-checkbox-group.js")+(()=>"../../uni_modules/vk-uview-ui/components/u-button/u-button.js")+(()=>"../../uni_modules/vk-uview-ui/components/u-popup/u-popup.js"))();const t=e._export_sfc(o,[["render",function(o,t,a,i,l,u){return e.e({a:u.shouldShowPlaceholder},u.shouldShowPlaceholder?{b:e.t(a.placeholder)}:{},{c:"checkbox"==a.type},"checkbox"==a.type?{d:e.f(u.checkboxData,((o,t,i)=>({a:e.o((e=>u.removeSelect(o)),o[a.value]),b:"a9fb107a-0-"+i,c:e.p({text:o[a.name],size:"mini",mode:"light",closeable:!0}),d:o[a.value]})))}:{},{e:"radio"==a.type&&u.radioData[a.name]},"radio"==a.type&&u.radioData[a.name]?e.e({f:e.t(u.radioData[a.name]),g:e.r("label",{item:u.radioData}),h:u.radioData[a.name]&&a.closeable},u.radioData[a.name]&&a.closeable?{i:e.p({name:"close-circle\n"}),j:e.o((e=>{o.$emit("update:modelValue",""),o.$emit("change","")}))}:{}):{},{k:e.p({name:"arrow-down"}),l:a.disabled?1:"",m:e.o((e=>l.show=!0)),n:e.t(a.popupTitle),o:a.filter},a.filter?{p:e.o((e=>l.keyword=e)),q:e.p({placeholder:"输入关键词搜索","show-action":!1,modelValue:l.keyword})}:{},{r:"radio"==a.type},"radio"==a.type?{s:e.f(u.filterOptions,((o,t,i)=>({a:e.t(o[a.name]),b:"label-"+i,c:e.r("label",{item:o},i),d:t,e:"a9fb107a-6-"+i+",a9fb107a-5",f:e.p({name:o[a.value]})}))),t:e.o((e=>l.radioValue=e)),v:e.p({wrap:!0,width:"100%",modelValue:l.radioValue})}:{},{w:"checkbox"==a.type},"checkbox"==a.type?{x:e.f(u.filterOptions,((o,t,i)=>({a:e.t(o[a.name]),b:"label-"+i,c:e.r("label",{item:o},i),d:t,e:"a9fb107a-8-"+i+",a9fb107a-7",f:e.p({name:o[a.value],modelValue:!!l.checkboxValue.some((e=>e==o[a.value]))})}))),y:e.o((e=>l.checkboxValue=e)),z:e.p({wrap:!0,width:"100%",modelValue:l.checkboxValue})}:{},{A:l.scrollTop,B:e.o((e=>o.$emit("lower"))),C:e.o(u.cancel),D:e.o(u.submit),E:e.p({type:"primary",throttleTime:"1000"}),F:e.o(u.cancel),G:e.p({modelValue:l.show,mode:"bottom","safe-area-inset-bottom":!0})})}],["__scopeId","data-v-a9fb107a"]]);wx.createComponent(t);
