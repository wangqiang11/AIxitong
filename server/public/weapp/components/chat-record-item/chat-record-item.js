"use strict";const e=require("../../common/vendor.js"),o=require("../../common/assets.js"),t=require("../../hooks/useCopy.js"),s=require("../../stores/app.js");if(require("../../api/app.js"),require("../../utils/request/index.js"),require("../../utils/request/http.js"),require("../../enums/requestEnums.js"),require("../../utils/request/cancel.js"),require("../../stores/user.js"),require("../../api/user.js"),require("../../enums/constantEnums.js"),require("../../utils/auth.js"),require("../../utils/cache.js"),require("../../utils/unique-id.js"),require("../../router/index.js"),require("../../config/index.js"),require("../../utils/client.js"),require("../../enums/appEnums.js"),require("../../api/shop.js"),!Array){(e.resolveComponent("u-image")+e.resolveComponent("u-tag")+e.resolveComponent("audio-play")+e.resolveComponent("u-collapse-item")+e.resolveComponent("u-collapse")+e.resolveComponent("u-loading"))()}Math||((()=>"../../uni_modules/vk-uview-ui/components/u-image/u-image.js")+(()=>"../../uni_modules/vk-uview-ui/components/u-tag/u-tag.js")+n+r+(()=>"../audio-play/audio-play.js")+(()=>"../../uni_modules/vk-uview-ui/components/u-collapse-item/u-collapse-item.js")+(()=>"../../uni_modules/vk-uview-ui/components/u-collapse/u-collapse.js")+i+(()=>"../../uni_modules/vk-uview-ui/components/u-loading/u-loading.js"))();const i=()=>"./text-item.js",n=()=>"./record-image.js",r=()=>"./record-file.js",l=e.defineComponent({options:{virtualHost:!0,styleIsolation:"shared"},__name:"chat-record-item",props:{recordId:null,type:null,content:{default:""},reasoning:null,showCopyBtn:{type:Boolean,default:!0},showCollectBtn:{type:Boolean,default:!0},showRewriteBtn:{type:Boolean,default:!1},showPosterBtn:{type:Boolean,default:!1},showVoiceBtn:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},index:null,isCollect:null,avatar:null,time:{default:""},audio:null,chatType:{default:1},images:{default:()=>[]},files:{default:()=>[]},videos:{default:()=>[]},filesPlugin:{default:()=>[]},bg:null,color:null,modelName:{default:""},showPoster:{type:Boolean,default:!1}},emits:["close","rewrite","update","click-link","poster"],setup(i,{emit:n}){const r=i,l=s.useAppStore(),{copy:u}=t.useCopy(),a=e.computed((()=>"left"==r.type));return(t,s)=>e.e({a:e.p({src:i.avatar,width:60,shape:"circle",height:60}),b:i.time},i.time?e.e({c:e.t(i.time),d:i.modelName&&e.unref(l).getChatConfig.is_show_model},i.modelName&&e.unref(l).getChatConfig.is_show_model?{e:e.p({size:"mini",text:i.modelName,type:"success"})}:{}):{},{f:i.filesPlugin.length},i.filesPlugin.length?{g:e.f(i.filesPlugin,((o,t,s)=>e.e({a:"image"==o.type||"10"==o.type},"image"==o.type||"10"==o.type?{b:"27ae5ac0-2-"+s,c:e.p({url:o.url,name:o.name})}:"file"==o.type||"30"==o.type?{e:"27ae5ac0-3-"+s,f:e.p({url:o.url,name:o.name})}:{},{d:"file"==o.type||"30"==o.type,g:t})))}:{},{h:i.audio},i.audio?{i:e.p({url:i.audio,reverse:"right"===i.type,"bg-color":"#fff"}),j:"right"===i.type?1:""}:{},{k:i.reasoning&&"left"===i.type},i.reasoning&&"left"===i.type?{l:e.t(i.reasoning),m:e.p({open:!0})}:{},{n:e.unref(e.isArray)(i.content)},e.unref(e.isArray)(i.content)?{o:e.f(i.content,((o,t,s)=>({a:e.o((e=>n("poster")),t),b:"27ae5ac0-7-"+s,c:e.p({"is-markdown":e.unref(a),content:o,loading:i.loading,index:t,"record-id":i.recordId,"show-copy-btn":i.showCopyBtn&&"left"===i.type,type:i.chatType,images:i.images,files:i.files,videos:i.videos,"show-voice-btn":e.unref(l).getIsVoiceOpen&&i.showVoiceBtn,color:i.color,"show-poster":i.showPoster}),d:t,e:t>0?1:""})))}:{p:e.o((e=>n("click-link",e))),q:e.o((e=>n("poster"))),r:e.p({"is-markdown":e.unref(a),content:i.content,loading:i.loading,index:0,"record-id":i.recordId,"show-copy-btn":i.showCopyBtn&&"left"===i.type,"show-voice-btn":e.unref(l).getIsVoiceOpen&&i.showVoiceBtn,color:i.color,images:i.images,files:i.files,videos:i.videos,type:i.chatType,"show-poster":i.showPoster})},{s:i.loading},i.loading?{t:e.p({mode:"flower"})}:{},{v:e.n(`chat-record-item__${i.type}-content`),w:e.s(i.color?`--color:${i.color}`:""),x:"right"==i.type&&i.showCopyBtn},"right"==i.type&&i.showCopyBtn?{y:o._imports_0$8,z:e.o((o=>e.unref(u)(i.content)))}:{},{A:"right"==i.type?1:"",B:e.n(`chat-record-item__${i.type}`),C:"left"==i.type},(i.type,{}),{D:e.s(i.bg?`--bg-color:${i.bg}`:"")})}}),u=e._export_sfc(l,[["__scopeId","data-v-27ae5ac0"]]);wx.createComponent(u);
