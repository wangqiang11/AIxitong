"use strict";const e=require("../../common/vendor.js"),o=require("../../utils/util.js");if(!Array){e.resolveComponent("u-icon")()}Math;const t=e.defineComponent({__name:"avatar-upload",props:{modelValue:{type:String},size:{type:[String,Number],default:140},round:{type:[Boolean,String,Number],default:!1},border:{type:Boolean,default:!0}},emits:["update:modelValue","upload"],setup(t,{emit:a}){const n=t;e.useRouter();const r=e.computed((()=>{const t=o.addUnit(n.size);return{width:t,height:t,borderRadius:e.lodashExports.isBoolean(n.round)?n.round?"50%":"":o.addUnit(n.round)}})),d=async e=>{var o;const t=null==(o=e.detail)?void 0:o.avatarUrl;t&&u(t)},u=async e=>{a("update:modelValue",e),a("upload",e)};return e.index.$on("uAvatarCropper",(e=>{u(e)})),e.onUnmounted((()=>{e.index.$off("uAvatarCropper")})),(o,a)=>e.e({a:t.modelValue},t.modelValue?{b:e.s(e.unref(r)),c:t.modelValue}:{d:e.p({name:"plus",size:36}),e:e.s(e.unref(r))},{f:e.o(d),g:e.o(d)})}}),a=e._export_sfc(t,[["__scopeId","data-v-246dd5ff"]]);wx.createComponent(a);
