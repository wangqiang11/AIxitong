"use strict";const e=require("../../common/vendor.js"),r=require("../../api/create.js");if(require("../../utils/request/index.js"),require("../../utils/request/http.js"),require("../../enums/requestEnums.js"),require("../../utils/request/cancel.js"),require("../../stores/user.js"),require("../../api/user.js"),require("../../enums/constantEnums.js"),require("../../utils/auth.js"),require("../../utils/cache.js"),require("../../utils/unique-id.js"),require("../../router/index.js"),require("../../config/index.js"),require("../../utils/client.js"),require("../../enums/appEnums.js"),!Array){(e.resolveComponent("u-search")+e.resolveComponent("u-image")+e.resolveComponent("u-icon")+e.resolveComponent("z-paging")+e.resolveComponent("tabbar"))()}Math||((()=>"../../uni_modules/vk-uview-ui/components/u-search/u-search.js")+(()=>"../../uni_modules/vk-uview-ui/components/u-image/u-image.js")+(()=>"../../uni_modules/vk-uview-ui/components/u-icon/u-icon.js")+(()=>"../../node-modules/z-paging/components/z-paging/z-paging.js")+(()=>"../../components/tabbar/tabbar.js"))();const i=e.defineComponent({__name:"ai_creation",setup(i){const t=e.shallowRef(),a=e.useRouter(),s=e.ref(""),o=e.ref([]),u=e.reactive({lists:[],current:0}),n=async(e,i)=>{try{const{lists:a}=await r.getCreationList({page_no:e,page_size:i,category_id:u.current,keyword:s.value});t.value.complete(a)}catch(a){t.value.complete(!1)}};return e.watch((()=>u.current),(()=>{var e;null==(e=t.value)||e.reload()})),e.onShow((async()=>{await(async()=>{u.lists=await r.getCategoryList()})()})),(i,l)=>({a:i.$theme.navColor,b:i.$theme.navBgColor,c:i.$theme.pageStyle,d:e.o((r=>{var i;return null==(i=e.unref(t))?void 0:i.reload()})),e:e.o((r=>{var i;return null==(i=e.unref(t))?void 0:i.reload()})),f:e.o((r=>{var i;return null==(i=e.unref(t))?void 0:i.reload()})),g:e.o((e=>s.value=e)),h:e.p({placeholder:"请输入关键词搜索",height:"72","bg-color":"#F7F8F9",modelValue:s.value}),i:e.f(u.lists,((r,i,t)=>({a:e.t(r.name),b:r.id==u.current?1:"",c:r.id,d:e.o((e=>u.current=r.id),r.id)}))),j:e.f(o.value,((i,s,o)=>e.e({a:"ec173522-2-"+o+",ec173522-1",b:e.p({src:i.image,width:"64",height:"64"}),c:e.t(i.name),d:e.t(i.tips),e:e.t(i.use_num),f:!i.is_collect},i.is_collect?{}:{g:"ec173522-3-"+o+",ec173522-1",h:e.p({size:38,name:"star",color:"#999"})},{i:!!i.is_collect},i.is_collect?{j:"ec173522-4-"+o+",ec173522-1",k:e.p({size:38,name:"star-fill",color:"#FFB529"})}:{},{l:e.o((e=>(async e=>{var i;await r.collection({id:e}),null==(i=t.value)||i.refresh()})(i.id)),i.id),m:i.id,n:e.o((e=>{return r=i.id,void a.navigateTo({path:"/packages/pages/create/create",query:{id:r}});var r}),i.id)}))),k:e.sr(t,"ec173522-1",{k:"pagingRef"}),l:e.o(n),m:e.o((e=>o.value=e)),n:e.p({"auto-clean-list-when-reload":!1,"safe-area-inset-bottom":!0,fixed:!1,height:"100%",modelValue:o.value})})}});wx.createPage(i);
