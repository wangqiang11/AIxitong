"use strict";const e=require("../../../../common/vendor.js"),n=require("../../../../api/kb.js"),u=require("../../../../stores/user.js");if(require("../../../../utils/request/index.js"),require("../../../../utils/request/http.js"),require("../../../../enums/requestEnums.js"),require("../../../../utils/request/cancel.js"),require("../../../../router/index.js"),require("../../../../utils/cache.js"),require("../../../../enums/constantEnums.js"),require("../../../../config/index.js"),require("../../../../utils/client.js"),require("../../../../enums/appEnums.js"),require("../../../../api/user.js"),require("../../../../utils/auth.js"),require("../../../../utils/unique-id.js"),!Array){(e.resolveComponent("u-image")+e.resolveComponent("u-icon")+e.resolveComponent("z-paging"))()}Math||((()=>"../../../../uni_modules/vk-uview-ui/components/u-image/u-image.js")+(()=>"../../../../uni_modules/vk-uview-ui/components/u-icon/u-icon.js")+(()=>"../../../../node-modules/z-paging/components/z-paging/z-paging.js")+r+i)();const r=()=>"../add-btn.js",i=()=>"./add-popup.js",t=e.defineComponent({__name:"index",props:{tabIndex:null,currentIndex:null},setup(r){const i=u.useUserStore(),t=e.reactive({list:[{name:"全部知识库",type:0},{name:"我的知识库",type:1},{name:"共享给我",type:2}],current:0}),s=e.ref(!1),a=e.ref(),o=e.shallowRef(),l=e.useRouter(),d=async(e,u)=>{var r,i;try{const{lists:i=[]}=await n.getKBList({page_size:u,page_no:e,type:t.current});null==(r=o.value)||r.complete(i)}catch(s){null==(i=o.value)||i.complete(!1)}},p=async()=>{if(!i.isLogin)return l.navigateTo("/pages/login/login");s.value=!0},c=()=>{e.nextTick$1((()=>{o.value&&o.value.refresh()}))};return(n,u)=>({a:e.f(t.list,((n,u,r)=>({a:e.t(n.name),b:n.type,c:n.type==t.current?1:"",d:e.o((e=>{return u=n.type,t.current=u,void c();var u}),n.type)}))),b:e.f(a.value,((n,u,r)=>({a:"3dd894b2-1-"+r+",3dd894b2-0",b:e.p({src:n.image,width:"100%",height:"272rpx"}),c:"3dd894b2-2-"+r+",3dd894b2-0",d:e.t(n.team_people),e:e.t(null==n?void 0:n.name),f:e.t((null==n?void 0:n.intro)||"这个知识库还没有介绍~"),g:n.id,h:e.o((e=>{return u=n.id,void l.navigateTo({path:`/packages/pages/kb_info/kb_info?id=${u}`});var u}),n.id)}))),c:e.p({name:"man-add"}),d:e.sr(o,"3dd894b2-0",{k:"pagingRef"}),e:e.o(d),f:e.o((e=>a.value=e)),g:e.p({"auto-clean-list-when-reload":!1,fixed:!1,modelValue:a.value}),h:e.o(p),i:e.o((()=>{s.value=!1,c()})),j:e.o((e=>s.value=e)),k:e.p({modelValue:s.value})})}}),s=e._export_sfc(t,[["__scopeId","data-v-3dd894b2"]]);wx.createComponent(s);
