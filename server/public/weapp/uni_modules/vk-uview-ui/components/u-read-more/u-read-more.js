"use strict";const e=require("../../../../common/vendor.js"),t={name:"u-read-more",emits:["open","close"],props:{showHeight:{type:[Number,String],default:400},toggle:{type:Boolean,default:!1},closeText:{type:String,default:"展开阅读全文"},openText:{type:String,default:"收起"},color:{type:String,default:"#2979ff"},fontSize:{type:[String,Number],default:28},shadowStyle:{type:Object,default:()=>({backgroundImage:"linear-gradient(-180deg, rgba(255, 255, 255, 0) 0%, #fff 80%)",paddingTop:"300rpx",marginTop:"-300rpx"})},textIndent:{type:String,default:"2em"},index:{type:[Number,String],default:""}},watch:{paramsChange(e){this.init()}},computed:{paramsChange(){return`${this.toggle}-${this.showHeight}`},innerShadowStyle(){return this.showMore?{}:this.shadowStyle}},data(){return{isLongContent:!1,showMore:!1,elId:this.$u.guid()}},mounted(){this.$nextTick((()=>{this.init()}))},methods:{init(){this.$uGetRect("."+this.elId).then((t=>{t.height>e.index.upx2px(this.showHeight)&&(this.isLongContent=!0,this.showMore=!1)}))},toggleReadMore(){this.showMore=!this.showMore,0==this.toggle&&(this.isLongContent=!1),this.$emit(this.showMore?"open":"close",this.index)}}};if(!Array){e.resolveComponent("u-icon")()}Math;const o=e._export_sfc(t,[["render",function(t,o,n,i,r,s){return e.e({a:e.n(r.elId),b:r.isLongContent&&!r.showMore?n.showHeight+"rpx":"auto",c:n.textIndent,d:r.isLongContent},r.isLongContent?{e:e.t(r.showMore?n.openText:n.closeText),f:n.fontSize+"rpx",g:n.color,h:e.p({color:n.color,size:n.fontSize,name:r.showMore?"arrow-up":"arrow-down"}),i:e.o(((...e)=>s.toggleReadMore&&s.toggleReadMore(...e))),j:r.showMore?1:"",k:e.s(s.innerShadowStyle)}:{})}],["__scopeId","data-v-570a9541"]]);wx.createComponent(o);
