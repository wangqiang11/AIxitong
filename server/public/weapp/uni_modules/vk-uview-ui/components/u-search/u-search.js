"use strict";const e=require("../../../../common/vendor.js"),t={name:"u-search",emits:["update:modelValue","input","change","search","custom","clear","focus","blur"],props:{value:{type:String,default:""},modelValue:{type:String,default:""},shape:{type:String,default:"round"},bgColor:{type:String,default:"#f2f2f2"},placeholder:{type:String,default:"请输入关键字"},clearabled:{type:Boolean,default:!0},focus:{type:Boolean,default:!1},showAction:{type:Boolean,default:!0},actionStyle:{type:Object,default:()=>({})},actionText:{type:String,default:"搜索"},inputAlign:{type:String,default:"left"},disabled:{type:Boolean,default:!1},animation:{type:Boolean,default:!1},borderColor:{type:String,default:"none"},height:{type:[Number,String],default:64},inputStyle:{type:Object,default:()=>({})},maxlength:{type:[Number,String],default:"-1"},searchIconColor:{type:String,default:""},color:{type:String,default:"#606266"},placeholderColor:{type:String,default:"#909399"},margin:{type:String,default:"0"},searchIcon:{type:String,default:"search"}},data(){return{keyword:"",showClear:!1,show:!1,focused:this.focus}},watch:{keyword(e){this.$emit("input",e),this.$emit("update:modelValue",e),this.$emit("change",e)},valueCom:{immediate:!0,handler(e){this.keyword=e}}},computed:{valueCom(){return this.modelValue},showActionBtn(){return!(this.animation||!this.showAction)},borderStyle(){return this.borderColor?`1px solid ${this.borderColor}`:"none"}},methods:{inputChange(e){this.keyword=e.detail.value},clear(){this.keyword="",this.$nextTick((()=>{this.$emit("clear")}))},search(t){this.$emit("search",t.detail.value);try{e.index.hideKeyboard()}catch(o){}},custom(){this.$emit("custom",this.keyword);try{e.index.hideKeyboard()}catch(t){}},getFocus(){this.focused=!0,this.animation&&this.showAction&&(this.show=!0),this.$emit("focus",this.keyword)},blur(){setTimeout((()=>{this.focused=!1}),100),this.show=!1,this.$emit("blur",this.keyword)},clickHandler(){this.disabled&&this.$emit("click")}}};if(!Array){e.resolveComponent("u-icon")()}Math;const o=e._export_sfc(t,[["render",function(t,o,r,a,l,i){return e.e({a:e.p({size:30,name:r.searchIcon,color:r.searchIconColor?r.searchIconColor:r.color}),b:e.o(((...e)=>i.blur&&i.blur(...e))),c:i.valueCom,d:e.o(((...e)=>i.search&&i.search(...e))),e:e.o(((...e)=>i.inputChange&&i.inputChange(...e))),f:r.disabled,g:e.o(((...e)=>i.getFocus&&i.getFocus(...e))),h:r.focus,i:r.maxlength,j:r.placeholder,k:`color: ${r.placeholderColor}`,l:e.s({textAlign:r.inputAlign,color:r.color,backgroundColor:r.bgColor}),m:e.s(r.inputStyle),n:l.keyword&&r.clearabled&&l.focused},l.keyword&&r.clearabled&&l.focused?{o:e.p({name:"close-circle-fill",size:"34",color:"#c0c4cc"}),p:e.o(((...e)=>i.clear&&i.clear(...e)))}:{},{q:r.bgColor,r:"round"==r.shape?"100rpx":"10rpx",s:i.borderStyle,t:r.height+"rpx",v:e.t(r.actionText),w:e.s(r.actionStyle),x:e.n(i.showActionBtn||l.show?"u-action-active":""),y:e.o(((...e)=>i.custom&&i.custom(...e))),z:e.o(((...e)=>i.clickHandler&&i.clickHandler(...e))),A:r.margin})}],["__scopeId","data-v-5d185498"]]);wx.createComponent(o);
