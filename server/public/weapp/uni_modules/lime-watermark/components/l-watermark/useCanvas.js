"use strict";const e=require("../../../../common/vendor.js"),t=require("./utils.js");exports.useCanvas=function(n,i={}){const{context:s,width:a=300,height:c=150}=i;if("undefined"!=typeof document)return document.createElement("canvas");if(t.isCanvas2d)return e.index.createOffscreenCanvas({type:"2d",width:a,height:c});{const t=e.index.createCanvasContext(n,s);return e.reactive({getContext(e){if("2d"==e)return t},toDataURL:()=>new Promise(((i,a)=>{const c="toTempFilePath";c in t?t[c]({success(e){i(e.filePath)},fail(e){a(e)}}):e.index.canvasToTempFilePath({canvasId:n,success(e){i(e.tempFilePath)},fail(e){a(e)}},s)})),width:300,height:150})}};
