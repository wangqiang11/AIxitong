"use strict";const t=require("../../../uv-ui-tools/libs/mixin/mpMixin.js"),e=require("../../../uv-ui-tools/libs/mixin/mixin.js"),i=require("./props.js"),s=require("../../../../common/vendor.js");require("../../../uv-ui-tools/libs/function/index.js"),require("../../../uv-ui-tools/libs/function/test.js"),require("../../../uv-ui-tools/libs/function/digit.js"),require("../../../uv-ui-tools/libs/util/route.js"),require("../../../uv-ui-tools/libs/function/debounce.js"),require("../../../uv-ui-tools/libs/function/throttle.js");const o={name:"uv-subsection",mixins:[t.mpMixin,e.mixin,i.props],data:()=>({itemRect:{width:0,height:0}}),watch:{list:{deep:!0,handler(){this.init()}},current:{immediate:!0,handler(t){}}},computed:{wrapperStyle(){const t={};return"button"===this.mode&&(t.backgroundColor=this.bgColor),t},barStyle(){const t={};return t.width=`${this.itemRect.width}px`,t.height=`${this.itemRect.height}px`,t.transform=`translateX(${this.current*this.itemRect.width}px)`,"subsection"===this.mode&&(t.backgroundColor=this.activeColor),this.$uv.deepMerge(t,this.$uv.addStyle(this.customItemStyle))},itemStyle(t){return t=>{const e={};return"subsection"===this.mode&&(e.borderColor=this.activeColor,e.borderWidth="1px",e.borderStyle="solid"),e}},textStyle(t){return t=>{const e={};return e.fontWeight=this.bold&&this.current===t?"bold":"normal",e.fontSize=this.$uv.addUnit(this.fontSize),"subsection"===this.mode?e.color=this.current===t?"#fff":this.inactiveColor:e.color=this.current===t?this.activeColor:this.inactiveColor,e}}},mounted(){this.init()},methods:{init(){this.$uv.sleep().then((()=>this.getRect()))},getText(t){return"object"==typeof t?t[this.keyName]:t},getRect(){this.$uvGetRect(".uv-subsection__item--0").then((t=>{this.itemRect=t}))},clickHandler(t){this.$emit("change",t)}}};const n=s._export_sfc(o,[["render",function(t,e,i,o,n,r){return{a:s.s(r.barStyle),b:s.n("button"===t.mode&&"uv-subsection--button__bar"),c:s.n(0===t.current&&"subsection"===t.mode&&"uv-subsection__bar--first"),d:s.n(t.current>0&&t.current<t.list.length-1&&"subsection"===t.mode&&"uv-subsection__bar--center"),e:s.n(t.current===t.list.length-1&&"subsection"===t.mode&&"uv-subsection__bar--last"),f:s.f(t.list,((e,i,o)=>({a:s.t(r.getText(e)),b:s.s(r.textStyle(i)),c:s.n(`uv-subsection__item--${i}`),d:s.n(i<t.list.length-1&&"uv-subsection__item--no-border-right"),e:s.n(0===i&&"uv-subsection__item--first"),f:s.n(i===t.list.length-1&&"uv-subsection__item--last"),g:`uv-subsection__item--${i}`,h:s.s(r.itemStyle(i)),i:s.o((t=>r.clickHandler(i)),i),j:i}))),g:s.n(`uv-subsection--${t.mode}`),h:s.s(t.$uv.addStyle(t.customStyle)),i:s.s(r.wrapperStyle)}}],["__scopeId","data-v-96ea80eb"]]);wx.createComponent(n);
