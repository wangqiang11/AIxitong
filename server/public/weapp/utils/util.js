"use strict";const e=require("../common/vendor.js");exports.addUnit=(e,t="rpx")=>Object.is(Number(e),NaN)?e:`${e}${t}`,exports.formatPrice=function({price:e,take:t="all",prec:r}){let[s,n=""]=(e+"").split(".");if(void 0!==r){for(let e=r-n.length;e>0;--e)n+="0";n=n.substr(0,r)}switch(t){case"int":return s;case"dec":return n;case"all":return s+"."+n}},exports.getRect=(t,r=!1,s)=>new Promise(((n,c)=>{let o=e.index.createSelectorQuery();s&&(o=e.index.createSelectorQuery().in(s)),o[r?"selectAll":"select"](t).boundingClientRect((function(e){return r&&Array.isArray(e)&&e.length||!r&&e?n(e):void c("找不到元素")})).exec()})),exports.paramsToStr=function(t){let r="";if(e.isObject$1(t)){r="?";for(const e in t)r+=`${e}=${t[e]}&`;r=r.slice(0,-1)}return r},exports.series=function(...e){return function(t){return new Promise(((r,s)=>{const n=e.values(),c=e=>{const t=n.next();t.done?r(e):Promise.resolve(t.value(e)).then(c).catch(s)};c(t)}))}},exports.sliceArray=(e,t)=>{const r=[];for(let s=0;s<Math.ceil(e.length/t);s++){const n=s*t,c=n+t;r.push(e.slice(n,c))}return r},exports.splitDomain=e=>e.includes("https://")?e.replace(/^https?:\/\//,""):e.includes("http://")?e.replace(/^http?:\/\//,""):e,exports.strToParams=function(e){if(""===e||"?"===e)return{};const t={};for(const r of e.split("&"))t[r.split("=")[0]]=r.split("=")[1];return t};
