import{_ as e}from"./page-meta.d751427a.js";import{d as a,J as l,s,K as t,x as r,L as o,o as i,k as u,b as c,w as n,e as p,F as d,l as m,z as _,r as f,a as x,j as g,D as v,c as h,m as y,f as b,t as k,B as w,p as j,g as C}from"./index-d6d2a33a.js";import{_ as z}from"./u-search.7e682473.js";import{_ as F}from"./u-image.9574760c.js";import{_ as V}from"./u-icon.992584aa.js";import{_ as B}from"./z-paging.6c8c2edf.js";import{_ as S}from"./tabbar.vue_vue_type_script_setup_true_lang.e2e30d1a.js";import{g as U,a as q,c as D}from"./create.07ec191c.js";import{_ as I}from"./_plugin-vue_export-helper.1b428a4d.js";import"./u-badge.f9b9ebb9.js";const J=I(a({__name:"ai_creation",setup(a){const I=l(),J=_(),K=s(""),L=s([]),Q=t({lists:[],current:0}),R=async(e,a)=>{try{const{lists:l}=await q({page_no:e,page_size:a,category_id:Q.current,keyword:K.value});I.value.complete(l)}catch(l){I.value.complete(!1)}};return r((()=>Q.current),(()=>{var e;null==(e=I.value)||e.reload()})),o((async()=>{await(async()=>{Q.lists=await U()})()})),(a,l)=>{const s=f(x("page-meta"),e),t=f(x("u-search"),z),r=g,o=v,_=f(x("u-image"),F),U=f(x("u-icon"),V),q=f(x("z-paging"),B),T=f(x("tabbar"),S);return i(),u(d,null,[c(s,{"page-style":a.$theme.pageStyle},null,8,["page-style"]),c(r,{class:"ai-creation"},{default:n((()=>[c(r,{class:"py-[14rpx] px-[30rpx] bg-white"},{default:n((()=>[c(t,{modelValue:K.value,"onUpdate:modelValue":l[0]||(l[0]=e=>K.value=e),placeholder:"è¯·è¾“å…¥å…³é”®è¯æœç´¢",height:"72","bg-color":"#F7F8F9",onSearch:l[1]||(l[1]=e=>{var a;return null==(a=p(I))?void 0:a.reload()}),onCustom:l[2]||(l[2]=e=>{var a;return null==(a=p(I))?void 0:a.reload()}),onClear:l[3]||(l[3]=e=>{var a;return null==(a=p(I))?void 0:a.reload()})},null,8,["modelValue"])])),_:1}),c(o,{"scroll-x":"",class:"whitespace-nowrap"},{default:n((()=>[c(r,{class:"inline-flex py-[20rpx] px-[10rpx]"},{default:n((()=>[(i(!0),u(d,null,m(Q.lists,(e=>(i(),h(r,{class:y(["category-item mx-[10rpx]",{"!text-white !bg-primary":e.id==Q.current}]),key:e.id,onClick:a=>Q.current=e.id},{default:n((()=>[b(k(e.name),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1}),c(r,{class:"flex-1 min-h-0"},{default:n((()=>[c(q,{ref_key:"pagingRef",ref:I,modelValue:L.value,"onUpdate:modelValue":l[4]||(l[4]=e=>L.value=e),"auto-clean-list-when-reload":!1,"safe-area-inset-bottom":!0,onQuery:R,fixed:!1,height:"100%"},{default:n((()=>[c(r,{class:"px-[20rpx]"},{default:n((()=>[(i(!0),u(d,null,m(L.value,(e=>(i(),h(r,{key:e.id,class:"mb-[20rpx]",onClick:a=>{return l=e.id,void J.navigateTo({path:"/packages/pages/create/create",query:{id:l}});var l}},{default:n((()=>[c(r,{class:"bg-white shadow-[0_3px_10px_#ebeefd] p-[30rpx] rounded-[12rpx] relative"},{default:n((()=>[c(r,{class:"flex items-center"},{default:n((()=>[c(_,{src:e.image,width:"64",height:"64",class:"flex-none"},null,8,["src"]),c(r,{class:"font-medium text-[32rpx] ml-[20rpx]"},{default:n((()=>[b(k(e.name),1)])),_:2},1024)])),_:2},1024),c(r,{class:"text-[26rpx] text-muted line-clamp-2 my-[20rpx]"},{default:n((()=>[b(k(e.tips),1)])),_:2},1024),c(r,{class:"collection flex justify-end"},{default:n((()=>[w("div",{class:"text-muted mr-[20rpx] text-sm"}," ðŸ”¥ "+k(e.use_num)+"äººä½¿ç”¨è¿‡ ",1),c(r,{onClick:j((a=>(async e=>{var a;await D({id:e}),null==(a=I.value)||a.refresh()})(e.id)),["stop"])},{default:n((()=>[e.is_collect?C("v-if",!0):(i(),h(U,{key:0,size:38,name:"star",color:"#999"})),e.is_collect?(i(),h(U,{key:1,size:38,name:"star-fill",color:"#FFB529"})):C("v-if",!0)])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1},8,["modelValue"])])),_:1}),c(T)])),_:1})],64)}}}),[["__scopeId","data-v-dd4dce19"]]);export{J as default};
