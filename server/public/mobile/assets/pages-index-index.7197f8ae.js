import{d as e,u as t,r as a,a as i,o as l,c as r,w as s,b as n,n as o,e as d,f as u,t as p,g as c,i as m,h as f,j as g,k as x,F as h,l as y,m as v,p as _,S as b,q as A,s as C,v as k,x as w,y as H,z as B,A as P,B as I,C as S,D as j,E as R,N as E,G as Y,H as J,I as L}from"./index-d6d2a33a.js";import{_ as N}from"./page-meta.d751427a.js";import{n as D,_ as U}from"./tabbar.vue_vue_type_script_setup_true_lang.e2e30d1a.js";import{_ as O}from"./u-sticky.76165389.js";import{_ as z}from"./_plugin-vue_export-helper.1b428a4d.js";import{_ as G}from"./u-image.9574760c.js";import{_ as Q}from"./u-icon.992584aa.js";import{c as T}from"./create.07ec191c.js";import{_ as F}from"./mp-html.318bb55d.js";import{_ as q}from"./u-button.97a3d07f.js";import{_ as V}from"./u-popup.21776ef7.js";import"./u-badge.f9b9ebb9.js";const M=z(e({__name:"title",props:{percent:null,isHidden:{type:Boolean},prop:null},setup(e){const x=t();return(t,h)=>{const y=m,v=f,_=g,b=a(i("u-sticky"),O);return e.isHidden?(l(),r(b,{key:0,"h5-nav-height":"0","bg-color":"transparent"},{default:s((()=>[n(_,{class:"header flex items-center",style:o({"background-color":`rgba(255, 255, 255, ${e.percent})`})},{default:s((()=>[n(y,{src:d(x).getWebsiteConfig.pc_logo,class:"w-[50rpx] h-[50rpx] rounded-md"},null,8,["src"]),n(v,{class:"ml-2"},{default:s((()=>[u(p(d(x).getWebsiteConfig.pc_name),1)])),_:1})])),_:1},8,["style"])])),_:1})):c("v-if",!0)}}}),[["__scopeId","data-v-e6a9cac7"]]);const Z=z({name:"u-swiper",emits:["click","change"],props:{list:{type:Array,default:()=>[]},title:{type:Boolean,default:!1},indicator:{type:Object,default:()=>({})},borderRadius:{type:[Number,String],default:8},interval:{type:[String,Number],default:3e3},mode:{type:String,default:"round"},height:{type:[Number,String],default:250},indicatorPos:{type:String,default:"bottomCenter"},effect3d:{type:Boolean,default:!1},effect3dPreviousMargin:{type:[Number,String],default:50},autoplay:{type:Boolean,default:!0},duration:{type:[Number,String],default:500},circular:{type:Boolean,default:!0},imgMode:{type:String,default:"aspectFill"},name:{type:String,default:"image"},bgColor:{type:String,default:"#f3f4f6"},current:{type:[Number,String],default:0},titleStyle:{type:Object,default:()=>({})}},watch:{list(e,t){e.length!==t.length&&(this.uCurrent=0)},current(e){this.uCurrent=e}},data(){return{uCurrent:this.current}},computed:{justifyContent(){return"topLeft"==this.indicatorPos||"bottomLeft"==this.indicatorPos?"flex-start":"topCenter"==this.indicatorPos||"bottomCenter"==this.indicatorPos?"center":"topRight"==this.indicatorPos||"bottomRight"==this.indicatorPos?"flex-end":void 0},titlePaddingBottom(){let e=0;return"none"==this.mode?"12rpx":(e=["bottomLeft","bottomCenter","bottomRight"].indexOf(this.indicatorPos)>=0&&"number"==this.mode?"60rpx":["bottomLeft","bottomCenter","bottomRight"].indexOf(this.indicatorPos)>=0&&"number"!=this.mode?"40rpx":"12rpx",e)},elCurrent(){return Number(this.current)}},methods:{listClick(e){this.$emit("click",e)},change(e){let t=e.detail.current;this.uCurrent=t,this.$emit("change",t)},animationfinish(e){}}},[["render",function(e,t,a,i,d,f){const C=m,k=g,w=b,H=A;return l(),r(k,{class:"u-swiper-wrap",style:o({borderRadius:`${a.borderRadius}rpx`})},{default:s((()=>[n(H,{current:f.elCurrent,onChange:f.change,onAnimationfinish:f.animationfinish,interval:a.interval,circular:a.circular,duration:a.duration,autoplay:a.autoplay,"previous-margin":a.effect3d?a.effect3dPreviousMargin+"rpx":"0","next-margin":a.effect3d?a.effect3dPreviousMargin+"rpx":"0",style:o({height:a.height+"rpx",backgroundColor:a.bgColor})},{default:s((()=>[(l(!0),x(h,null,y(a.list,((e,t)=>(l(),r(w,{class:"u-swiper-item",key:t},{default:s((()=>[n(k,{class:v(["u-list-image-wrap",[d.uCurrent!=t?"u-list-scale":""]]),onClick:_((e=>f.listClick(t)),["stop","prevent"]),style:o({borderRadius:`${a.borderRadius}rpx`,transform:a.effect3d&&d.uCurrent!=t?"scaleY(0.9)":"scaleY(1)",margin:a.effect3d&&d.uCurrent!=t?"0 20rpx":0})},{default:s((()=>[n(C,{class:"u-swiper-image",src:e[a.name]||e,mode:a.imgMode},null,8,["src","mode"]),a.title&&e.title?(l(),r(k,{key:0,class:"u-swiper-title u-line-1",style:o([{"padding-bottom":f.titlePaddingBottom},a.titleStyle])},{default:s((()=>[u(p(e.title),1)])),_:2},1032,["style"])):c("v-if",!0)])),_:2},1032,["onClick","class","style"])])),_:2},1024)))),128))])),_:1},8,["current","onChange","onAnimationfinish","interval","circular","duration","autoplay","previous-margin","next-margin","style"]),n(k,{class:"u-swiper-indicator",style:o({top:"topLeft"==a.indicatorPos||"topCenter"==a.indicatorPos||"topRight"==a.indicatorPos?"12rpx":"auto",bottom:"bottomLeft"==a.indicatorPos||"bottomCenter"==a.indicatorPos||"bottomRight"==a.indicatorPos?"12rpx":"auto",justifyContent:f.justifyContent,padding:"0 "+(a.effect3d?"74rpx":"24rpx")})},{default:s((()=>["rect"==a.mode?(l(!0),x(h,{key:0},y(a.list,((e,t)=>(l(),r(k,{class:v(["u-indicator-item-rect",{"u-indicator-item-rect-active":t==d.uCurrent}]),key:t},null,8,["class"])))),128)):c("v-if",!0),"dot"==a.mode?(l(!0),x(h,{key:1},y(a.list,((e,t)=>(l(),r(k,{class:v(["u-indicator-item-dot",{"u-indicator-item-dot-active":t==d.uCurrent}]),key:t},null,8,["class"])))),128)):c("v-if",!0),"round"==a.mode?(l(!0),x(h,{key:2},y(a.list,((e,t)=>(l(),r(k,{class:v(["u-indicator-item-round",{"u-indicator-item-round-active":t==d.uCurrent}]),key:t},null,8,["class"])))),128)):c("v-if",!0),"number"==a.mode?(l(),r(k,{key:3,class:"u-indicator-item-number"},{default:s((()=>[u(p(d.uCurrent+1)+"/"+p(a.list.length),1)])),_:1})):c("v-if",!0)])),_:1},8,["style"])])),_:1},8,["style"])}],["__scopeId","data-v-3d99ed00"]]),K=e({__name:"banner",props:{isHidden:{type:Boolean},prop:null},setup(e){const o=e,{getImageUrl:d}=t(),u=C();k((()=>{try{const e=null==o?void 0:o.prop.data,t=null==e?void 0:e.length;if(!t)return;for(let a=0;a<t;a++){const t=e[a];t.image=d(t.image)}u.value=e.filter((e=>1*e.isShow))}catch(e){console.log("轮播图数据错误",e)}}));const p=e=>{var t;const a=null==(t=u.value[e])?void 0:t.link;a&&D(a)};return(t,o)=>{const d=a(i("u-swiper"),Z),m=g;return u.value.length&&e.isHidden?(l(),r(m,{key:0,class:"px-[30rpx] pt-[24rpx]"},{default:s((()=>[n(d,{list:u.value,height:280,name:"image",borderRadius:20,onClick:p},null,8,["list"])])),_:1})):c("v-if",!0)}}}),W=e({__name:"ad",props:{isHidden:{type:Boolean},prop:null},setup(e){const m=e,{getImageUrl:f}=t(),v=C([]);w((()=>m.prop.data),(e=>{v.value=e.filter((e=>1*e.isShow))}),{deep:!0,immediate:!0});return(t,m)=>{const _=a(i("u-image"),G),b=g;return e.isHidden?(l(),r(b,{key:0,class:"mx-[30rpx] mt-[30rpx]"},{default:s((()=>[n(b,{class:"grid gap-y-3 gap-x-[30rpx]",style:o({"grid-template-columns":`repeat(${e.prop.showType}, 1fr)`})},{default:s((()=>[(l(!0),x(h,null,y(v.value,((t,a)=>(l(),r(b,{key:a,class:"flex flex-col items-center min-w-[112rpx] bg-white rounded-[20rpx] overflow-hidden",onClick:e=>{var a;(a=t.link)&&D(a)}},{default:s((()=>[n(_,{class:"w-full",width:2==e.prop.showType?330:210,height:2==e.prop.showType?236:148,src:d(f)(t.image)},null,8,["width","height","src"]),n(b,{class:"w-full pb-[30rpx] pt-[24rpx] px-[20rpx] text-center"},{default:s((()=>[n(b,{class:"text-xl line-clamp-1 font-medium"},{default:s((()=>[u(p(t.title),1)])),_:2},1024),n(b,{class:"text-content line-clamp-1 mt-[5px] text-sm"},{default:s((()=>[u(p(t.desc),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1},8,["style"])])),_:1})):c("v-if",!0)}}}),X=z(e({__name:"menu",props:{isHidden:{type:Boolean},prop:null},setup(e){const m=e,{getImageUrl:f}=t(),_=C(0),k=C([]);w((()=>m.prop.data),(e=>{const t=e.filter((e=>e.isShow));k.value=H(t,8)}),{deep:!0,immediate:!0});const B=e=>{_.value=e.detail.current};return(t,m)=>{const C=a(i("u-image"),G),w=g,H=b,P=A;return e.isHidden?(l(),r(w,{key:0,class:"relative mx-[30rpx] mt-[30rpx] bg-white rounded-[20rpx]"},{default:s((()=>[n(P,{class:"py-[20rpx] uni-swiper",style:o({height:k.value[0].length>4?"320rpx":"140rpx"}),autoplay:!1,"indicator-dots":!1,onChange:B},{default:s((()=>[(l(!0),x(h,null,y(k.value,((e,t)=>(l(),r(H,{key:t},{default:s((()=>[k.value.length?(l(),r(w,{key:0,class:"nav"},{default:s((()=>[n(w,{class:"grid grid-rows-auto gap-y-3 w-full",style:o({"grid-template-columns":"repeat(4, 1fr)"})},{default:s((()=>[(l(!0),x(h,null,y(e,((e,t)=>(l(),r(w,{key:t,class:"flex flex-col items-center",onClick:t=>{var a;(a=e.link)&&D(a)}},{default:s((()=>[n(C,{width:"80",height:"80",src:d(f)(e.image),alt:""},null,8,["src"]),n(w,{class:"mt-[20rpx] text-sm text-[#222]"},{default:s((()=>[u(p(e.title),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:2},1032,["style"])])),_:2},1024)):c("v-if",!0)])),_:2},1024)))),128))])),_:1},8,["style"]),k.value.length>1?(l(),r(w,{key:0,class:"swiper-indicator"},{default:s((()=>[(l(!0),x(h,null,y(k.value,((e,t)=>(l(),r(w,{class:v(["indicator-item-rect",{"indicator-item-rect-active":t==_.value}]),key:t},null,8,["class"])))),128))])),_:1})):c("v-if",!0)])),_:1})):c("v-if",!0)}}}),[["__scopeId","data-v-ef621f35"]]),$=e({__name:"hot",props:{isHidden:{type:Boolean},prop:null},setup(e){const g=e,v=B(),b=P(),{getImageUrl:A}=t(),k=C([]);w((()=>g.prop.data),(e=>{k.value=e}),{deep:!0,immediate:!0});return(t,C)=>{const k=a(i("u-image"),G),w=m,H=f,B=a(i("u-icon"),Q);return e.isHidden?(l(),x("div",{key:0,class:"index-menu px-[15px] pb-4 pt-[15px]"},[I("div",{class:"text-xl font-medium mb-[15px]"},p(e.prop.title),1),I("div",{class:"grid gap-4",style:o({"grid-template-columns":`repeat(${e.prop.showType}, minmax(0, 1fr))`})},[(l(!0),x(h,null,y(e.prop.data,((e,t)=>(l(),x("div",{class:"flex flex-col min-h-0 rounded-[20rpx] px-[24rpx] py-[30rpx] bg-white overflow-hidden",key:t,onClick:t=>{return a=e.id,void v.navigateTo({path:"/packages/pages/create/create",query:{id:a}});var a}},[I("div",{class:"flex items-center"},[I("div",{class:"flex-none"},[n(k,{src:d(A)(e.image),width:"80",height:"80","border-radius":"12"},null,8,["src"])]),I("div",{class:"text-lg font-medium ml-[20rpx] line-clamp-2"},p(e.name),1)]),I("div",{class:"flex-1 mt-[18rpx] text-sm text-[#999] line-clamp-3"},p(e.tips),1),I("div",{class:"flex justify-end mt-[24rpx]"},[I("div",{class:"text-muted flex items-center text-base"},[n(w,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAA0NJREFUeF7tmtt1gzAMhmGyJpvAJG0ngU2aTkZrDu4xjmTJujikIS9pT7hYn3/JtqS+e/FP/+L2dyeAUwENCEzTdOn7/j151WX7+xa+l2X5Dt/jOH40GM7uFW4ukBgdjWXZtizLZ0sY5gCkhud0WoEwBTBN00cmddasly4KIDxdwwzAPM9fXddhco++HuW9/h/Ushmfx4gdE08IJgAKxt+2wa8Gcz4FFd2GYbhynlFzjRoANuDfyH4dx5FteDrolhBUAJCBms0UpCxrdxAD8DY+KgKBIFZX7h6mAIZhED+v5LcABDOViQYMzb61NLOYEFaJsMr8fTQxJn2OCQBP4wuuYKICEYB5npeUopf0KRVYvLcaACR/i4Fw1u48Fli4gRpAC/lHOAB8tRtUA/CYBc7sx61zFgxPANrtsUQBzQNgqhDrAHwC4Pofth5bRGLuGLZkS7oheu0YYLECVbuAx1JUoYBdxulRAPJ9uVqGXADAEqxOl1UrIAw2j8St4oD1ChBskQLI83/uKshdz0L+YgBANA7FDbMkRe4SnucPkQI2N2imAsDl1L4fIYsBQCr4TYubu8JhU2Lb4QQqhJhBOHRStHBEXX/SBCmsvKZ5JrbUil0gO6CAVaHaARN1RTNlqXOCEE2iLhgqRKEEvhZKYsEkK429YaW1WpDcjZV4GcRe8NLF0SQm3KWwa2YkvdZzb6FeBoHNSqzwVjVEUHC8+wTUQdCqIYIDwqNPQAWA6fO7AJgGwW0vkfYIoIEwArIOiGIAVENEbV9AqoAAdo3Q+8aq9BKzJbEaALVWawyHDkElEBZBsgoAsv+PO7+mp8HEJVTvZQMoGG8mRyoQenSjsAHkR1Ltfp8ytnazJa1PsgC07geg4Fh2p5AAjmZ8suO8O4pLlkgSgGc2hppp6ndkcqqCYhGAZy6OMo77OxCbqoIyCgBJfJrl4rgGUtdpE7QlAOZVGMoY6e+aLjIUwJF9HzmJirrIQADP4Ps5BGnnCgjAowYnlTf3PmnpHAPw0C4QrtGACnbj5hyW7gA8svwtNTzeJ3EDEoBkd6U1RHq/xHX/FQBJHLgDIJGRdMas7zMBYD2ooz+PPAwd3QDt+E4AWoLPfv8PJZzDXwAweoMAAAAASUVORK5CYII=",class:"w-[34rpx] h-[34rpx]"}),n(H,{class:"ml-[4rpx]"},{default:s((()=>[u(p(e.user_count),1)])),_:2},1024)]),I("div",{class:"text-muted flex items-center text-base ml-[50rpx]",onClick:_((a=>(async(e,t)=>{if(b.isLogin)try{await T({id:e.id}),g.prop.data[t].collect_count+=1,g.prop.data[t].is_collect=!e.is_collect}catch(a){console.log("收藏失败",a)}else v.navigateTo("/pages/login/login")})(e,t)),["stop"])},[e.is_collect?(l(),x(h,{key:1},[c("                        <image"),c('                            v-if="!item.is_collect"'),c('                            src="/static/images/icon/icon_star.png"'),c('                            class="w-[34rpx] h-[34rpx]"'),c("                        ></image>"),n(B,{name:"star-fill",size:"32",color:"#ffcd2c"})],2112)):(l(),r(B,{key:0,name:"star",size:"32",color:"#9a9a9a"})),n(H,{class:"ml-[4rpx]"},{default:s((()=>[u(p(e.collect_count),1)])),_:2},1024)],8,["onClick"])])],8,["onClick"])))),128))],4)])):c("v-if",!0)}}}),ee=z(e({options:{virtualHost:!0,styleIsolation:"shared"},__name:"notice-popup",setup(e){const o=t(),p=C(!1),m=S((()=>o.getBulletinConfig.bulletin_content)),f=S((()=>o.getBulletinConfig.is_bulletin));return w((()=>[f.value]),(()=>{f.value&&(e=>{const t=R.get(E),a=(new Date).toDateString(),i=!t||t!==a;return i&&e&&R.set(E,a),i})(f.value)&&(p.value=!0)}),{deep:!0,immediate:!0}),(e,t)=>{const o=g,f=a(i("mp-html"),F),x=j,h=a(i("u-button"),q),y=a(i("u-popup"),V);return l(),r(y,{modelValue:p.value,"onUpdate:modelValue":t[1]||(t[1]=e=>p.value=e),mode:"center","border-radius":"24",zIndex:"10"},{default:s((()=>[n(o,{class:"w-[90vw] px-[24rpx]"},{default:s((()=>[n(o,{class:"p-[30rpx] text-lg text-center font-medium"},{default:s((()=>[u(" 公告 ")])),_:1}),n(x,{class:"min-h-[472rpx] max-h-[768rpx] notice","scroll-y":""},{default:s((()=>[c(' <u-parse :html="richTextContent"></u-parse> '),n(f,{content:d(m)},null,8,["content"])])),_:1}),n(o,{class:"py-[30rpx] bg-white"},{default:s((()=>[n(h,{type:"primary",style:{height:"82rpx",lineHeight:"82rpx",fontSize:"30rpx",border:"none",borderRadius:"60px"},onClick:t[0]||(t[0]=e=>p.value=!1)},{default:s((()=>[u(" 我知道了 ")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])}}}),[["__scopeId","data-v-9e5644ef"]]),te=z(e({__name:"index",setup(e){const o=t(),m=C([]),v=C(0),_=C(0);return Y((e=>{v.value=e.scrollTop;const t=J(100);_.value=e.scrollTop/t>.8?.8:e.scrollTop/t})),(async()=>{try{const e=await L({id:7});m.value=JSON.parse(e.data)}catch(e){console.error(e)}})(),(e,t)=>{const v=a(i("page-meta"),N),b=g,A=f,C=a(i("tabbar"),U);return l(),x(h,null,[n(v,{"page-style":e.$theme.pageStyle},null,8,["page-style"]),n(b,null,{default:s((()=>[(l(!0),x(h,null,y(m.value,((e,t)=>(l(),r(b,{key:e.id},{default:s((()=>["index-title"===e.name?(l(),r(M,{key:0,prop:e.content,isHidden:!e.isHidden,percent:_.value},null,8,["prop","isHidden","percent"])):c("v-if",!0),"index-banner"===e.name?(l(),r(K,{key:1,prop:e.content,isHidden:!e.isHidden},null,8,["prop","isHidden"])):c("v-if",!0),"index-ad"===e.name?(l(),r(W,{key:2,prop:e.content,isHidden:!e.isHidden},null,8,["prop","isHidden"])):c("v-if",!0),"index-menu"===e.name?(l(),r(X,{key:3,prop:e.content,isHidden:!e.isHidden},null,8,["prop","isHidden"])):c("v-if",!0),"index-hot"===e.name?(l(),r($,{key:4,prop:e.content,isHidden:!e.isHidden},null,8,["prop","isHidden"])):c("v-if",!0)])),_:2},1024)))),128)),n(b,{class:"text-center py-4"},{default:s((()=>[(l(!0),x(h,null,y(d(o).getCopyrightConfig,(e=>(l(),x("a",{class:"flex items-center justify-center mx-1 text-xs text-[#495770]",href:e.value,target:"_blank",key:e.key},[e.icon?(l(),x("img",{key:0,src:e.icon,alt:"备案图标",style:{width:"40rpx",height:"40rpx"}},null,8,["src"])):c("v-if",!0),n(A,{class:"mx-1"},{default:s((()=>[u(p(e.key),1)])),_:2},1024)],8,["href"])))),128))])),_:1}),n(ee),n(C)])),_:1})],64)}}}),[["__scopeId","data-v-daf37a9b"]]);export{te as default};
