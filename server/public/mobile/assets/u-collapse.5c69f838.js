import{r as t,a as e,o as s,c as a,w as i,b as l,p as o,n as h,k as r,F as n,f as c,t as d,O as p,m as u,g as y,j as S}from"./index-d6d2a33a.js";import{_ as f}from"./u-icon.992584aa.js";import{_ as m}from"./_plugin-vue_export-helper.1b428a4d.js";const w=m({name:"u-collapse-item",emits:["change"],props:{title:{type:String,default:""},align:{type:String,default:"left"},disabled:{type:Boolean,default:!1},open:{type:Boolean,default:!1},name:{type:[Number,String],default:""},activeStyle:{type:Object,default:()=>({})},index:{type:[String,Number],default:""}},data(){return{isShow:!1,elId:this.$u.guid(),height:0,headStyle:{},bodyStyle:{},itemStyle:{},arrowColor:"",hoverClass:"",arrow:!0}},watch:{open(t){this.isShow=t}},created(){this.parent=!1,this.isShow=this.open},methods:{init(){this.parent=this.$u.$parent.call(this,"u-collapse"),this.parent&&(this.nameSync=this.name?this.name:this.parent.childrens.length,this.parent.childrens.push(this),this.headStyle=this.parent.headStyle,this.bodyStyle=this.parent.bodyStyle,this.arrowColor=this.parent.arrowColor,this.hoverClass=this.parent.hoverClass,this.arrow=this.parent.arrow,this.itemStyle=this.parent.itemStyle),this.$nextTick((()=>{this.queryRect()}))},headClick(){this.disabled||(this.parent&&1==this.parent.accordion&&this.parent.childrens.map((t=>{this!=t&&(t.isShow=!1)})),this.isShow=!this.isShow,this.$emit("change",{index:this.index,show:this.isShow}),this.isShow&&this.parent&&this.parent.onChange(),this.$forceUpdate())},queryRect(){this.$uGetRect("#"+this.elId).then((t=>{this.height=t.height}))}},mounted(){this.init()}},[["render",function(m,w,g,v,b,C){const _=S,$=t(e("u-icon"),f);return s(),a(_,{class:"u-collapse-item",style:h([b.itemStyle])},{default:i((()=>[l(_,{"hover-stay-time":200,class:"u-collapse-head",onClick:o(C.headClick,["stop"]),"hover-class":b.hoverClass,style:h([b.headStyle])},{default:i((()=>[m.$slots["title-all"]?p(m.$slots,"title-all",{key:1},void 0,!0):(s(),r(n,{key:0},[m.$slots.title?p(m.$slots,"title",{key:1},void 0,!0):(s(),a(_,{key:0,class:"u-collapse-title u-line-1",style:h([{textAlign:g.align?g.align:"left"},b.isShow&&g.activeStyle&&!b.arrow?g.activeStyle:""])},{default:i((()=>[c(d(g.title),1)])),_:1},8,["style"])),l(_,{class:"u-icon-wrap"},{default:i((()=>[b.arrow?(s(),a($,{key:0,color:b.arrowColor,class:u([{"u-arrow-down-icon-active":b.isShow},"u-arrow-down-icon"]),name:"arrow-down"},null,8,["color","class"])):y("v-if",!0)])),_:1})],64))])),_:3},8,["onClick","hover-class","style"]),l(_,{class:"u-collapse-body",style:h([{height:b.isShow?"auto":"0"}])},{default:i((()=>[l(_,{class:"u-collapse-content",id:b.elId,style:h([b.bodyStyle])},{default:i((()=>[p(m.$slots,"default",{},void 0,!0)])),_:3},8,["id","style"])])),_:3},8,["style"])])),_:3},8,["style"])}],["__scopeId","data-v-ea17a06e"]]);const g=m({name:"u-collapse",emits:["change"],props:{accordion:{type:Boolean,default:!0},headStyle:{type:Object,default:()=>({})},bodyStyle:{type:Object,default:()=>({})},itemStyle:{type:Object,default:()=>({})},arrow:{type:Boolean,default:!0},arrowColor:{type:String,default:"#909399"},hoverClass:{type:String,default:"u-hover-class"}},created(){this.childrens=[]},data:()=>({}),methods:{init(){console.log("超级泡沫很细腻"),this.childrens.forEach(((t,e)=>{t.init()}))},onChange(){let t=[];this.childrens.forEach(((e,s)=>{e.isShow&&t.push(e.nameSync)})),this.accordion&&(t=t.join("")),this.$emit("change",t)}}},[["render",function(t,e,l,o,h,r){const n=S;return s(),a(n,{class:"u-collapse"},{default:i((()=>[p(t.$slots,"default",{},void 0,!0)])),_:3})}],["__scopeId","data-v-3b4805cd"]]);export{w as _,g as a};
