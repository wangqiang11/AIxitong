var e,t;import{_ as l}from"./page-meta.d751427a.js";import{o as a,c as s,w as n,b as o,f as i,j as r,i as c,M as u,m as d,n as h,d as p,s as f,x as m,C as g,k as y,g as v,O as x,aH as k,e as _,aI as w,F as b,aK as A,aW as C,aX as S,ab as q,Q as E,A as z,aU as R,aY as L,aZ as U,p as I,l as M,r as V,a as K,B as H,t as j,h as B,P as D,u as $,J as F,z as N,D as O,ay as T,V as Y,a_ as J,ae as P,aB as Z}from"./index-d6d2a33a.js";import{_ as Q}from"./tabbar.vue_vue_type_script_setup_true_lang.e2e30d1a.js";import{F as W}from"./floating-menu.85d77f2f.js";import{_ as G}from"./u-empty.a728d8d9.js";import{_ as X}from"./_plugin-vue_export-helper.1b428a4d.js";import{_ as ee}from"./u-subsection.2db6ab44.js";import{_ as te}from"./u-icon.992584aa.js";import{_ as le}from"./u-tag.fd761889.js";import{u as ae,a as se,b as ne}from"./index.3dd6f2ef.js";import{i as oe}from"./isString.6d1f126a.js";import{_ as ie}from"./u-input.e3cf3beb.js";import{_ as re}from"./u-button.97a3d07f.js";import{_ as ce}from"./z-paging.6c8c2edf.js";import{_ as ue}from"./u-popup.21776ef7.js";import{_ as de}from"./u-navbar.d70905ec.js";import{m as he,a as pe}from"./mixin.91a2f735.js";import{_ as fe}from"./ua-markdown.e9ea1a15.js";import{u as me}from"./useCopy.4954d67d.js";import{_ as ge,a as ye}from"./u-collapse.5c69f838.js";import{T as ve,F as xe}from"./index.ab0015e4.js";import{_ as ke}from"./u-image.9574760c.js";import"./u-badge.f9b9ebb9.js";import"./index.22b2ad12.js";import"./emitter.1571a5d9.js";import"./_commonjsHelpers.157f59fb.js";import"./katex.37f36714.js";import"./mp-html.318bb55d.js";const _e=X({},[["render",function(e,t){const l=r,u=c;return a(),s(l,{class:"flex flex-col text-center pt-[180rpx] pb-[50rpx] text-[50rpx] title font-bold relative"},{default:n((()=>[o(l,{class:"title text-primary"},{default:n((()=>[i("快搜准答")])),_:1}),o(l,{class:"title"},{default:n((()=>[i("懂你更懂世界")])),_:1}),o(u,{class:"w-[200rpx] h-[200rpx] absolute right-[-100rpx] bottom-[10rpx]",src:"/mobile/assets/ai_search-8360db3f.png"})])),_:1})}]]),we={default:{icons:{document:['<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><defs><clipPath id="a"><rect width="28" height="28" fill="#22ac38" rx="0"/></clipPath></defs><g fill="#22ac38" clip-path="url(#a)"><path d="M22.75 10.5h-7v-7H5.25v21h17.5zm-.71-1.75L17.5 4.21v4.54zm-17.665-7H17.5l7 7v16.625a.85.85 0 0 1-.245.63.85.85 0 0 1-.63.245H4.375a.85.85 0 0 1-.63-.245.85.85 0 0 1-.245-.63V2.625q0-.382.245-.63a.85.85 0 0 1 .63-.245M8.75 14h10.5v1.75H8.75zm0-5.25h4.375v1.75H8.75zm0 10.5h10.5V21H8.75z" style="mix-blend-mode:passthrough"/><path fill-rule="evenodd" d="M4.377 1.65q-.41-.014-.702.274h-.001q-.274.278-.274.701v22.748q-.014.41.275.703.292.289.702.274h19.246q.41.015.703-.275.289-.292.274-.702V8.71l-7.058-7.06zm-.561.416q-.216.218-.216.56v22.753q-.012.325.215.555.232.228.556.216H23.63q.325.012.555-.215.228-.231.216-.556V8.792L17.46 1.85H4.37q-.324-.012-.555.216M5.15 24.6h17.7V10.4h-7v-7H5.15zm17.5-.2H5.35V3.6h10.3v7h7zM17.4 3.97v4.88h4.881zm.2 4.68h4.198L17.6 4.452zm-8.95 0v1.95h4.575V8.65zm.2 1.75h4.175V8.85H8.85zm-.2 3.5v1.95h10.7V13.9zm.2 1.75h10.3V14.1H8.85zm-.2 3.5v1.95h10.7v-1.95zm.2 1.75h10.3v-1.55H8.85z"/></g></svg>',0],"fullscreen-exit":['<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" class="icon" viewBox="0 0 1024 1024"><path fill="#22ac38" d="M379.336 697.237 153.362 921.55c-14.11 14.007-36.905 13.922-50.912-.188s-13.922-36.905.188-50.912l227.6-225.927H138.645c-18.99 0-34.385-15.446-34.385-34.5 0-19.053 15.395-34.5 34.385-34.5H413.72c18.99 0 34.384 15.447 34.384 34.5v276c0 9.15-3.622 17.926-10.07 24.396a34.33 34.33 0 0 1-24.314 10.104 34.33 34.33 0 0 1-24.314-10.104 34.56 34.56 0 0 1-10.071-24.396V697.237zm263.395-366.88 227.813-227.813c14.059-14.059 36.853-14.059 50.912 0s14.059 36.853 0 50.912l-225.18 225.18h187.147c18.99 0 34.385 15.445 34.385 34.5 0 19.053-15.395 34.5-34.385 34.5H608.346c-18.99 0-34.384-15.447-34.384-34.5v-276c0-9.15 3.622-17.926 10.07-24.396a34.33 34.33 0 0 1 24.314-10.105c9.12 0 17.865 3.635 24.314 10.105a34.56 34.56 0 0 1 10.07 24.395zM99.385 410a34.33 34.33 0 0 1-24.314-10.105A34.56 34.56 0 0 1 65 375.5v-276C65 80.446 80.395 65 99.385 65h275.077c18.99 0 34.384 15.446 34.384 34.5S393.452 134 374.462 134H133.769v241.5c0 9.15-3.622 17.925-10.07 24.395A34.33 34.33 0 0 1 99.384 410zm825.23 552H649.538c-18.99 0-34.384-15.446-34.384-34.5s15.394-34.5 34.384-34.5h240.693V651.5c0-19.054 15.394-34.5 34.384-34.5S959 632.446 959 651.5v276c0 19.054-15.395 34.5-34.385 34.5"/></svg>',0],fullscreen:['<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" class="icon" viewBox="0 0 1024 1024"><path fill="#22ac38" d="M924 616a36 36 0 0 0-36 36v236H652a36 36 0 0 0 0 72h272a36 36 0 0 0 36-36V652a36 36 0 0 0-36-36M372 64H100a36 36 0 0 0-36 36v272a36 36 0 0 0 72 0V136h236a36 36 0 0 0 0-72m552 0H652a36 36 0 0 0 0 72h185.09L626.54 346.54a36 36 0 1 0 50.92 50.91L888 186.91V372a36 36 0 0 0 72 0V100a36 36 0 0 0-36-36M372 616a35.87 35.87 0 0 0-25.46 10.55L136 837.09V652a36 36 0 0 0-72 0v272a36 36 0 0 0 36 36h272a36 36 0 0 0 0-72H186.91l210.55-210.54A36 36 0 0 0 372 616"/></svg>',0],link:['<svg xmlns="http://www.w3.org/2000/svg" width="34" height="34" fill="none"><defs><clipPath id="a"><rect width="34" height="34" rx="0"/></clipPath></defs><g fill="#101010" clip-path="url(#a)"><path d="M19.407 14.795a5.5 5.5 0 0 0-.56-.484 1.113 1.113 0 0 0-1.623 1.517q.117.14.274.236c.105.087.208.172.305.268l.091.092c1.153 1.152.809 3.138-.344 4.291l-4.918 4.922a2.96 2.96 0 0 1-4.179 0l-.092-.093a2.96 2.96 0 0 1 0-4.181l2.173-2.174a1.208 1.208 0 0 0-1.429-1.947l-.002-.005-.023.022a1.2 1.2 0 0 0-.23.215L6.592 19.59c-2.123 2.126-2.123 5.604 0 7.727l.092.092c2.122 2.123 5.594 2.123 7.717 0l4.917-4.923c2.12-2.125 2.299-5.476.18-7.6z" style="mix-blend-mode:passthrough"/><path d="m27.405 6.737-.092-.094a5.37 5.37 0 0 0-7.732 0l-4.926 5.075c-2.127 2.19-2.244 5.354-.117 7.546l.09.092q.145.149.3.283.11.128.257.216l.002.002c.155.09.333.143.524.143.58 0 1.052-.485 1.052-1.083 0-.17-.038-.33-.105-.472-.139-.321-.399-.517-.58-.703l-.09-.091c-1.154-1.19-.716-2.918.439-4.107l4.93-5.074a2.9 2.9 0 0 1 4.184 0l.092.093c1.155 1.19 1.155 3.125 0 4.313l-2.17 2.237a1.25 1.25 0 0 0-.487.994c0 .683.538 1.236 1.2 1.236.232 0 .447-.067.63-.183l.004.007.034-.032q.155-.109.273-.26l2.287-2.173c2.128-2.19 2.128-5.774.001-7.965" style="mix-blend-mode:passthrough"/></g></svg>',1],mind_map:['<svg xmlns="http://www.w3.org/2000/svg" width="34" height="34" fill="none"><defs><clipPath id="a"><rect width="34" height="34" rx="0"/></clipPath></defs><g clip-path="url(#a)"><path fill="#101010" d="M19.161 7.792c0 .844.685 1.534 1.521 1.534h6.083c.836 0 1.52-.69 1.52-1.534V6.257c0-.844-.684-1.535-1.52-1.535h-6.083c-.836 0-1.52.69-1.52 1.535-4.791 0-8.897 3.223-10.19 7.673H6.235c-.836 0-1.52.691-1.52 1.535v3.07c0 .844.684 1.534 1.52 1.534h2.737c1.293 4.451 5.399 7.674 10.19 7.674 0 .844.684 1.535 1.52 1.535h6.083c.836 0 1.52-.69 1.52-1.535v-1.535c0-.844-.684-1.534-1.52-1.534h-6.083c-.836 0-1.52.69-1.52 1.534a9.06 9.06 0 0 1-8.593-6.139h1.749c.836 0 1.52-.69 1.52-1.534v-.768h5.323c0 .844.685 1.535 1.521 1.535h6.083c.836 0 1.52-.69 1.52-1.535v-1.534c0-.845-.684-1.535-1.52-1.535h-6.083c-.836 0-1.52.69-1.52 1.535h-5.323v-.768c0-.844-.685-1.535-1.521-1.535h-1.749a9.06 9.06 0 0 1 8.592-6.138m1.521-1.535h6.083v1.535h-6.083zm0 19.951h6.083v1.535h-6.083zm0-9.975h6.083v1.534h-6.083z" style="mix-blend-mode:passthrough"/></g></svg>',1],outline:['<svg xmlns="http://www.w3.org/2000/svg" width="34" height="34" fill="none"><defs><clipPath id="a"><rect width="34" height="34" rx="0"/></clipPath></defs><g clip-path="url(#a)"><path fill="#101010" d="M5.929 7C4.863 7 4 7.784 4 8.75s.863 1.75 1.929 1.75c1.065 0 1.928-.784 1.928-1.75S6.994 7 5.93 7m0 8.75c-1.067 0-1.93.784-1.93 1.75s.863 1.75 1.929 1.75c1.065 0 1.928-.784 1.928-1.75s-.863-1.75-1.928-1.75M4 26.25c0-.966.863-1.75 1.929-1.75 1.065 0 1.928.784 1.928 1.75S6.994 28 5.93 28C4.863 28 4 27.216 4 26.25M13.643 7c-1.065 0-1.929.784-1.929 1.75s.864 1.75 1.929 1.75H29.07c1.067 0 1.93-.784 1.93-1.75S30.137 7 29.071 7zm-1.929 10.5c0-.966.864-1.75 1.929-1.75H29.07c1.066 0 1.929.784 1.929 1.75s-.863 1.75-1.929 1.75H13.643c-1.065 0-1.929-.784-1.929-1.75m1.929 7c-1.065 0-1.929.784-1.929 1.75S12.578 28 13.643 28H29.07c1.067 0 1.93-.784 1.93-1.75s-.863-1.75-1.929-1.75z" style="mix-blend-mode:passthrough"/></g></svg>',1],science:['<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><defs><clipPath id="a"><rect width="28" height="28" fill="#22ac38" rx="0"/></clipPath></defs><g clip-path="url(#a)"><path fill="#22ac38" d="M22.026 2.105c1.217 0 2.203.986 2.203 2.2v15.278c0 1.215-.986 2.2-2.203 2.2H5.215c-.843 0-1.5.607-1.5 1.32 0 .707.644 1.309 1.475 1.32l.025.001h19.014a.818.818 0 0 1 .02 1.634H5.214c-1.719 0-3.137-1.307-3.137-2.954q0-.083.005-.163l-.005-.07V4.307c0-1.215.986-2.2 2.203-2.2zm0 1.635H4.281a.566.566 0 0 0-.567.55v15.293c0 .307.245.557.55.566h17.762a.566.566 0 0 0 .566-.55V4.307a.566.566 0 0 0-.549-.566zm-1.636 9.493a.818.818 0 0 1 .02 1.635H5.917a.818.818 0 0 1-.02-1.634zm0-4.652a.818.818 0 0 1 .02 1.634H5.917a.818.818 0 0 1-.02-1.634z" style="mix-blend-mode:passthrough"/></g></svg>',0],search_base:['<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><rect width="14" height="2.667" x="8" y="6" fill="#22ac38" rx="1.333"/><rect width="18" height="2.667" x="4" y="12.666" fill="#22ac38" rx="1.333"/><rect width="18" height="2.667" x="4" y="19.333" fill="#22ac38" rx="1.333"/><rect width="2.769" height="2.667" x="4" y="6" fill="#22ac38" fill-opacity=".6" rx="1.333"/></svg>',0],search_copilot:['<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path fill="#22ac38" fill-rule="evenodd" d="M6.308 16.393q1.144-2.176 1.599-3.721.464-1.579.168-2.138-.151-.286-.902-.314-1.72.5-1.89 2.08-.183 1.696 1.025 4.093m19.71 8.384q.184-.195.283-.444t.099-.516q0-.07-.007-.138-.006-.068-.02-.135-.013-.068-.033-.134t-.047-.13q-.026-.063-.058-.123-.033-.06-.07-.118-.04-.057-.083-.11-.043-.054-.092-.102-.049-.049-.102-.093-.053-.043-.11-.081t-.118-.071-.124-.059-.13-.046-.133-.033-.136-.02-.137-.007q-.143 0-.283.029t-.272.085-.248.14q-.118.081-.216.185-2.486 2.639-8.748 1.58-4.064-.687-7.26-5.27 1.945-3.408 2.62-5.704.786-2.672-.043-4.238Q9.593 7.417 7 7.417h-.172l-.168.041Q2.886 8.402 2.5 12q-.298 2.767 1.65 6.3.265.48.537.934-1.566 2.569-3.83 5.775-.125.177-.19.384Q.6 25.6.6 25.817q0 .068.007.137.006.068.02.136.013.067.033.133t.047.13.058.124q.033.06.07.117.04.058.083.11.043.054.092.103t.102.092.11.082q.057.038.118.07t.124.06q.064.025.13.045.065.02.133.034.067.013.136.02.068.007.137.007.168 0 .332-.04.163-.04.312-.117.15-.078.276-.188t.224-.248l.003-.005q1.85-2.62 3.261-4.858 3.62 4.635 8.359 5.436 7.737 1.308 11.251-2.42"/><path fill="#22ac38" d="M15.523 8.232a.2.2 0 0 0 0 .38l3.466 1.116a2 2 0 0 1 1.291 1.291l1.116 3.467a.2.2 0 0 0 .38 0l1.117-3.467a2 2 0 0 1 1.29-1.29l3.467-1.117a.2.2 0 0 0 0-.38l-3.466-1.116a2 2 0 0 1-1.291-1.291l-1.116-3.467a.2.2 0 0 0-.381 0L20.28 5.825a2 2 0 0 1-1.29 1.29z" style="opacity:.6000000238418579" transform="rotate(13.763 14.931 1.767)"/></svg>',0],search_research:['<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path fill="#22ac38" d="M.51 15.812a.2.2 0 0 0 0 .376l6.475 2.382a2 2 0 0 1 1.235 1.335l2.087 7.412c.055.194.33.194.385 0l2.088-7.412a2 2 0 0 1 1.235-1.335l6.475-2.382a.2.2 0 0 0 0-.376l-6.475-2.382a2 2 0 0 1-1.235-1.335l-2.087-7.412c-.055-.194-.33-.194-.385 0L8.22 12.095a2 2 0 0 1-1.235 1.335z"/><path fill="#22ac38" d="M14.591 7.81a.2.2 0 0 0 0 .38l2.971.957a2 2 0 0 1 1.291 1.29l.957 2.972a.2.2 0 0 0 .38 0l.957-2.971a2 2 0 0 1 1.29-1.291l2.972-.957a.2.2 0 0 0 0-.38l-2.971-.957a2 2 0 0 1-1.291-1.29L20.19 2.59a.2.2 0 0 0-.38 0l-.957 2.971a2 2 0 0 1-1.29 1.291z" style="opacity:.6000000238418579"/></svg>',0],whole_network:['<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><defs><clipPath id="a"><rect width="28" height="28" fill="#22ac38" rx="0"/></clipPath></defs><g clip-path="url(#a)"><path fill="#22ac38" d="m24.652 23.058.12-.142.096-.115.106-.134.096-.123.101-.13q.049-.064.093-.127.05-.064.098-.133l.09-.129.096-.137.088-.128.093-.14.084-.13.09-.146q.042-.065.08-.13l.09-.154c.025-.04.05-.085.074-.126q.049-.085.098-.175.03-.051.06-.109l.148-.279c.02-.035.035-.07.055-.109l.09-.183.06-.126.08-.167.06-.134q.037-.081.07-.164l.058-.136.068-.164.055-.14q.034-.083.063-.166l.052-.14.06-.172q.025-.07.046-.14l.058-.18.043-.134.058-.194.035-.12q.037-.126.069-.251.007-.033.019-.066.041-.16.079-.32.013-.051.022-.104l.05-.221q.01-.067.024-.129.02-.096.038-.2l.025-.139.032-.19.022-.143c.008-.063.02-.128.028-.191l.019-.145.022-.191.016-.145.016-.197.011-.142.014-.205.008-.134.008-.23.003-.112q.005-.173.006-.344c0-4.07-1.747-7.738-4.53-10.297l-.01-.01-.225-.203-.021-.019-.222-.189-.033-.027a7 7 0 0 0-.218-.178q-.022-.015-.039-.032a7 7 0 0 0-.215-.167l-.047-.036-.213-.158-.055-.041q-.104-.075-.21-.148l-.063-.043-.208-.14-.068-.046-.208-.132-.074-.046-.205-.126-.082-.049c-.068-.038-.134-.08-.202-.117l-.088-.05q-.099-.056-.202-.109l-.093-.05q-.1-.052-.2-.1l-.1-.05-.197-.095-.107-.05-.197-.09-.112-.049-.194-.082-.117-.049q-.096-.04-.192-.077l-.123-.046-.19-.071-.13-.047-.187-.064-.134-.044-.186-.06-.14-.041-.185-.055-.145-.038-.183-.05-.15-.037-.18-.044a3 3 0 0 1-.157-.036q-.089-.018-.177-.038-.083-.017-.164-.03L16.44.213a3 3 0 0 0-.17-.027c-.057-.008-.114-.02-.172-.027l-.175-.025q-.084-.013-.17-.022l-.18-.022-.164-.019-.189-.016a3 3 0 0 0-.16-.015q-.102-.006-.202-.014L14.711.02l-.235-.008q-.06 0-.12-.006A15 15 0 0 0 14 0q-.18.001-.355.005-.06 0-.12.006l-.236.008-.147.008-.202.014q-.082.005-.16.014l-.188.016q-.081.008-.164.02l-.183.021q-.084.013-.17.022l-.174.025-.172.027c-.058.008-.112.019-.17.027l-.175.033-.164.03-.178.038-.155.036q-.09.02-.18.044a3 3 0 0 0-.151.038l-.183.05-.145.037q-.093.026-.186.055l-.14.041q-.094.028-.185.06L9.583.72l-.189.065q-.063.021-.128.047l-.191.071-.123.046-.192.077-.117.05-.194.081-.112.05-.197.09-.107.049q-.098.046-.197.095l-.1.05-.2.1-.093.05-.202.11-.088.049-.205.117q-.041.025-.082.047l-.205.125c-.025.017-.05.03-.074.047l-.207.13-.069.047-.208.14-.062.044-.21.147-.056.041q-.106.077-.213.159l-.046.035-.216.167q-.021.016-.038.033-.11.086-.22.177-.014.015-.032.028l-.221.188-.022.02q-.114.098-.224.202l-.011.01A13.95 13.95 0 0 0 0 14q.001.173.005.344l.003.113.008.23.009.133q.004.103.013.205l.011.142.017.197.016.145.022.191q.006.073.019.145.011.096.027.191l.022.142.033.194.025.14q.016.098.038.2l.024.128.05.221q.01.053.022.104.036.16.079.32.007.033.019.066.032.127.068.251l.036.12.098.328.058.18.046.137.06.173q.025.07.052.139l.063.167.055.14q.032.08.068.163l.057.137.071.164.06.134.077.166.06.129.09.183q.028.053.055.11l.148.278.06.11c.033.057.063.114.098.172q.038.062.074.125l.09.154q.042.065.08.13l.09.145.084.132q.044.07.093.14.044.066.088.128.046.068.096.136l.09.129.098.134.093.125.101.132.096.123.106.134q.048.056.096.117l.12.142q.455.533.962 1.023c.077.07.15.144.23.215l.014.011q.11.102.224.203l.022.019.218.188.033.028.216.177q.021.016.038.033.107.086.214.167l.049.035.213.159.055.04q.103.076.21.148l.063.044c.068.047.14.093.208.14l.068.046.205.131q.037.026.077.047l.205.123.082.049c.068.038.134.08.202.117l.087.05q.1.056.203.109l.095.05a5 5 0 0 0 .3.15l.198.095.106.05.197.09.112.049.194.082.118.049q.095.04.194.077l.123.046q.096.039.191.071l.129.047.188.065.134.044.186.06.14.041q.09.028.185.055l.145.038.183.05.15.037.181.044q.078.016.156.036l.178.038.16.03.176.033q.082.015.17.027c.057.008.114.02.171.027l.175.025q.085.013.17.022l.183.022c.054.005.11.014.164.019l.188.016q.08.01.159.014l.202.014.148.008.235.008q.06 0 .12.006.178.004.356.005.179-.001.355-.005.06 0 .12-.006l.235-.008.148-.008.202-.014q.082-.005.159-.014l.188-.016a3 3 0 0 0 .164-.02l.183-.021c.058-.008.112-.016.17-.022l.175-.024q.085-.015.172-.028l.17-.027.174-.033.162-.03q.089-.017.177-.038.078-.016.156-.036.09-.019.18-.044.076-.016.15-.038l.184-.049.145-.038q.093-.026.186-.055l.139-.041q.095-.029.186-.06l.134-.044.188-.065q.065-.021.129-.047.096-.033.191-.071l.123-.046.194-.077.118-.05.194-.081.112-.05.197-.09.106-.049q.1-.046.197-.095l.101-.05.2-.1.096-.05.202-.11.087-.049q.104-.056.203-.117l.081-.05.206-.122.076-.047.205-.13.068-.047.208-.14c.022-.013.041-.03.063-.043l.21-.148.055-.041q.107-.077.213-.159l.05-.035c.07-.055.144-.11.213-.167q.02-.016.038-.033a7 7 0 0 0 .216-.177q.016-.015.033-.028.11-.093.218-.188l.022-.02q.114-.098.224-.202c.006-.002.008-.008.014-.01l.23-.216a13 13 0 0 0 .962-1.023m2.085-8.107-.01.134-.017.18q-.01.07-.014.14l-.019.172-.044.306-.021.142-.028.164-.024.142-.03.162-.03.142q-.017.081-.036.158l-.033.143-.038.158q-.016.07-.036.14l-.043.158-.039.137-.046.155-.041.137q-.024.078-.052.156a4 4 0 0 1-.101.295l-.044.123q-.05.138-.104.276-.024.067-.055.134-.028.073-.06.145l-.06.14c-.019.043-.038.09-.06.133l-.066.143-.06.13q-.033.072-.068.143c-.022.04-.041.085-.063.126l-.074.142-.065.123-.077.142-.068.12-.082.14-.068.117q-.041.07-.085.14l-.071.114-.088.14-.073.109q-.044.07-.093.137l-.074.106-.099.14-.073.1q-.05.07-.104.14l-.071.093-.11.142q-.032.041-.065.08l-.123.15q-.012.017-.028.03-.172.204-.35.404a18 18 0 0 0-3.247-1.142c.632-1.965 1.014-4.27 1.075-6.76h5.466l-.005.093q.003.09-.006.186m-5.803 9.772-.213.134-.038.024a5 5 0 0 1-.254.15l-.194.113-.063.035-.192.104q-.033.02-.068.036l-.188.098-.074.038-.189.093-.076.036q-.094.046-.192.087l-.076.033-.194.085-.071.03-.205.082c-.017.005-.033.014-.05.019q-.36.139-.732.257l-.05.016-.177.055-.077.022c.875-.919 1.635-2.17 2.24-3.674a18 18 0 0 1 2.727.908 12.6 12.6 0 0 1-1.577 1.208zM10.18 26.196l-.05-.016q-.371-.119-.732-.257-.025-.008-.046-.02l-.205-.081-.071-.028a4 4 0 0 1-.194-.085l-.077-.032-.191-.088-.077-.035q-.095-.044-.188-.093l-.074-.038-.189-.099c-.022-.01-.046-.025-.068-.035l-.192-.104-.062-.036a5 5 0 0 1-.246-.142l-.203-.12q-.018-.013-.038-.022l-.213-.134-.011-.008a13 13 0 0 1-1.574-1.208 18 18 0 0 1 2.727-.908c.602 1.503 1.364 2.755 2.239 3.674l-.077-.022a2 2 0 0 0-.188-.063m-6.027-4.059-.123-.15q-.034-.04-.063-.08-.056-.07-.11-.142-.035-.044-.07-.093l-.104-.139q-.038-.049-.074-.101l-.098-.14-.074-.106-.093-.14-.071-.109-.088-.14-.07-.114-.085-.14q-.037-.059-.069-.117l-.08-.14-.067-.12-.077-.14-.066-.122-.073-.142-.063-.126c-.025-.046-.047-.096-.069-.142l-.06-.131-.065-.142-.06-.134-.06-.14q-.031-.073-.06-.147l-.055-.131A8 8 0 0 1 2 18.392l-.044-.123-.057-.164-.044-.134-.052-.155-.041-.137-.046-.156-.039-.14c-.013-.051-.03-.103-.043-.158l-.036-.14-.038-.158-.033-.139-.036-.161-.03-.142-.03-.162-.024-.142-.028-.164-.022-.142-.024-.167-.02-.14-.018-.171q-.01-.07-.014-.14l-.016-.18-.011-.134q-.008-.094-.011-.189l-.006-.093h5.467c.057 2.493.443 4.795 1.074 6.76a18 18 0 0 0-3.247 1.142q-.18-.2-.356-.407-.016-.001-.024-.019m2.903-18.86q.106-.068.213-.134l.038-.024a5 5 0 0 1 .254-.15c.066-.039.132-.074.194-.113l.063-.035q.096-.054.192-.104.033-.02.068-.036l.189-.098q.036-.02.073-.038l.189-.093.076-.036q.094-.046.192-.087l.076-.033q.1-.042.194-.085l.071-.03.205-.082.05-.019q.36-.139.73-.257l.049-.016.18-.055.077-.022c-.875.919-1.635 2.17-2.239 3.674a18 18 0 0 1-2.728-.908 13 13 0 0 1 1.594-1.219m10.758-1.473.05.016q.369.119.732.257l.049.02.205.081.071.03q.1.041.194.085l.077.033q.095.041.19.088.04.017.077.035l.192.093c.024.01.049.025.074.036l.19.098c.023.01.047.025.07.035.062.036.128.069.19.104l.063.036a5 5 0 0 1 .246.142l.203.12.038.025.213.134.011.008q.836.547 1.577 1.208c-.822.355-1.74.662-2.728.908-.601-1.504-1.364-2.756-2.238-3.674l.074.022c.06.024.12.04.18.06m3.474 11.526c-.057-2.492-.443-4.794-1.074-6.76 1.189-.3 2.282-.685 3.247-1.142a12.74 12.74 0 0 1 3.294 7.905h-5.467zm-7.962-7.248a24.5 24.5 0 0 1-3.903-.41c.984-2.367 2.367-3.996 3.903-4.368zm0 1.216v6.032H7.918c.063-2.378.451-4.608 1.072-6.489 1.35.263 2.807.421 4.335.457m0 7.372v6.032a26 26 0 0 0-4.335.456c-.62-1.883-1.009-4.11-1.072-6.488zm0 7.248v4.778c-1.536-.372-2.92-2-3.903-4.368a24.5 24.5 0 0 1 3.903-.41m1.34 0a24.6 24.6 0 0 1 3.902.41c-.984 2.367-2.367 3.997-3.903 4.368zm0-1.216V14.67h5.406c-.063 2.378-.451 4.608-1.072 6.489a26 26 0 0 0-4.335-.457m0-7.372V7.298a26 26 0 0 0 4.334-.457c.62 1.884 1.009 4.111 1.072 6.49zm0-7.248V1.304c1.535.372 2.918 2 3.902 4.368-1.23.232-2.542.374-3.903.41M4.528 5.426a18 18 0 0 0 3.247 1.142c-.631 1.965-1.014 4.27-1.074 6.76H1.235A12.7 12.7 0 0 1 4.53 5.426"/></g></svg>',0]},currentColor:"",$_colorPalette:["#22ac38","#101010"]}},be={registerCollection:(e,t)=>{we[e]||("function"==typeof t.registerCollection?we[e]=t.getCollection("default"):we[e]=t)},getCollection:(e="default")=>{if(!we[e])throw new Error(`没有找到名为 ${e} 的图标库。`);return we[e]}},Ae=be,Ce=u().screenWidth,Se=(e,t=!1)=>{const l=Ce*Number.parseFloat(e)/750;return t?`${l}px`:l};const qe=X({name:"zui-svg-icon",components:{},props:{icon:{type:String,required:!0},color:[String,Array],width:{type:[Number,String],default:"1.2em"},height:{type:[Number,String],default:void 0},gray:{type:[Boolean,Number],default:!1},spin:{type:[Number,Boolean],default:!1},borderRadius:[Number,String],collection:{type:String,default:"default"},aspectRatio:{type:Number,default:void 0}},data:()=>({isFilled:!1,colorMap:{},colorPlaceholder:null,isColorCountMatch:!0}),computed:{cWidth(){const e=/rpx$/i.test(this.width)?Se(this.width,!0):this.width;return"number"==typeof e?`${e}px`:e},cHeight(){if(!this.height){if(this.aspectRatio){const e=`${this.cWidth}`.replace(/[\d.]+/g,"");return`${parseFloat(this.cWidth)/this.aspectRatio}${e}`}return this.cWidth}const e=/rpx$/i.test(this.height)?Se(this.height,!0):this.height;return"number"==typeof e?`${e}px`:e},svgIconLib(){return Ae.getCollection(this.collection||"default")},isFileSource(){return!!/^https?\:\/\//i.test(this.icon)||(!!/^data:image\//i.test(this.icon)||(!!/\.svg([?#].*)?$/i.test(this.icon)||this.icon.indexOf("/")>-1))},svgRaw(){if(this.isFileSource)return this.icon;const e=this.icon.toLowerCase(),t=this.svgIconLib.icons[e];if(!t)return void console.warn(`Svg icon [${e}] not defined and no fallback icon set.`);let l=t[0];return this.color&&this.isColorCountMatch&&(l=l.replace(this.colorPlaceholder,((e,t,l)=>this.colorMap[t.toLowerCase()]+l))),l},svgDataurl(){return this.isFileSource?/^data:image\/svg\+xml,<svg/i.test(this.icon)?`data:image/svg+xml,${encodeURIComponent(this.icon.substring(19))}`:/^<svg/i.test(this.icon)?`data:image/svg+xml,${encodeURIComponent(this.icon)}`:this.icon:`data:image/svg+xml,${encodeURIComponent(this.svgRaw)}`},clazz(){const e=["zui-svg-icon-wrapper"];return this.spin&&this.spin>0&&e.push("rotate-clockwise"),this.spin&&this.spin<0&&e.push("rotate-counterclockwise"),e.join(" ")},style(){const e={"--zui-svg-icon-width":this.cWidth,"--zui-svg-icon-height":this.cHeight};if(this.borderRadius){let t=this.borderRadius;if("string"==typeof this.borderRadius){if(!/[^a-z%]/i.test(this.borderRadius)){const e=parseFloat(this.borderRadius);t=e<1?100*e+"%":`${e}px`}}else t=this.borderRadius<1?100*this.borderRadius+"%":`${this.borderRadius}px`;e["--zui-svg-icon-border-radius"]=t}if(this.gray&&("number"==typeof this.gray?e.filter=`grayscale(${this.gray})`:e.filter="grayscale(1)"),this.spin){const t=!0===this.spin?5:Math.abs(this.spin);e["--zui-svg-icon-rotate-duration"]=`${t}s`}return Object.keys(e).map((t=>`${t}:${e[t]}`)).join("; ")}},watch:{icon(){this.initialIcon()},color(){this.initialIconColor()}},mounted(){this.initialIcon()},methods:{doClick(e){setTimeout((()=>{this.$emit("click",e)}),1)},doTap(e){setTimeout((()=>{this.$emit("click",e)}),1)},initialIconColor(){const e=this.getOriginalColors();if(this.color&&e.length){const t="string"==typeof this.color?this.color.split(","):this.color;this.colorPlaceholder=new RegExp(`(${e.map((e=>e.replace(/([\(\)])/g,"\\$1"))).join("|")})([^\\w])`,"gi"),this.colorMap=e.reduce(((l,a,s)=>({...l,[a.toLowerCase()]:t[s]||e[s]})),{}),this.isColorCountMatch=e.length===t.length}else this.colorPlaceholder=null,this.colorMap=null,this.isColorCountMatch=!0},initialIcon(){this.initialIconColor()},getOriginalColors(){const e=this.svgIconLib.icons[this.icon];return e?e.slice(1).map((e=>this.svgIconLib.$_colorPalette[e])):[]}}},[["render",function(e,t,l,i,u,p){const f=c,m=r;return a(),s(m,{class:"zui-svg-icon"},{default:n((()=>[o(m,{class:d(p.clazz),style:h(p.style)},{default:n((()=>[o(f,{class:"zui-svg-icon-image",src:p.svgDataurl,mode:"aspectFit"},null,8,["src"])])),_:1},8,["class","style"])])),_:1})}],["__scopeId","data-v-81a70f5b"]]),Ee=X(p({__name:"drop-down",props:{mode:String,show:Boolean,showMask:{type:Boolean,default:!0}},emits:["update:show"],setup(e,{emit:t}){const l=e,i=f(!1);m((()=>l.show),(e=>{i.value=e}),{immediate:!0,flush:"post"}),m(i,(e=>{t("update:show",e)}));const c=g((()=>({"dropdown-menu-up":"up"===l.mode,"dropdown-menu-right":"right"===l.mode,"dropdown-menu-down":"down"===l.mode,"dropdown-menu-left":"left"===l.mode})));return(t,l)=>{const u=r;return a(),y(b,null,[e.showMask&&i.value?(a(),s(u,{key:0,class:"dropdown-mask",onClick:l[0]||(l[0]=e=>i.value=!i.value)})):v("v-if",!0),o(u,{class:"dropdown"},{default:n((()=>[o(u,{onClick:l[1]||(l[1]=e=>i.value=!i.value)},{default:n((()=>[x(t.$slots,"default",{},void 0,!0)])),_:3}),k(o(u,{class:d(["dropdown-menu",_(c)]),onClick:l[2]||(l[2]=e=>i.value=!i.value)},{default:n((()=>[v(" 下拉菜单的内容 "),x(t.$slots,"menu",{},void 0,!0)])),_:3},8,["class"]),[[w,i.value]])])),_:3})],64)}}}),[["__scopeId","data-v-5dce929e"]]);var ze=(e=>(e.BASE="search",e.ENHANCE="copilot",e.STUDY="research",e))(ze||{}),Re=(e=>(e.ALL="all",e.DOC="doc",e.SCHOLAR="scholar",e))(Re||{}),Le=(e=>(e[e.ANALYSIS=0]="ANALYSIS",e[e.SEARCH=1]="SEARCH",e[e.SUMMARY=2]="SUMMARY",e[e.SUCCESS=3]="SUCCESS",e))(Le||{});const Ue=C("search",{state:()=>({options:{model:"search",type:"all",ask:"",probe:0},searchEx:[],isSearching:!1,showResult:!1,sse:null,result:{query:"",markdown:[],suggestion:{},status:-1,search:[],outline:{},outlineJson:{}},config:{}}),getters:{},actions:{navigateTo(e){S?q.miniProgram.navigateTo({url:e}):E.navigateTo(e)},abort(){var e;null==(e=this.sse)||e.cancel()},getSearchResult(e){var t;const l=e.find((e=>"search_result"===e.type));return(null==(t=null==l?void 0:l.content)?void 0:t.map(((e,t)=>({...e,index:t+1}))))||[]},launchSearch(e=""){e&&(this.options.ask=e);const t=z();if(!this.options.ask)return uni.$u.toast("请输入你想搜索的问题");if(!t.isLogin)return this.navigateTo("/pages/login/login");if(this.isSearching)return uni.$u.toast("正在搜索中...");this.isSearching=!0,this.showResult=!0;const l=(e,t,l)=>{const a=this.result.markdown.find((e=>"markdown"==e.type&&"update"==e.target));a?(oe(a.content)&&(a.content+=l),R(a.content)&&a.content.push(l),a.target=t):this.result.markdown.push({type:e,target:t,content:l})};try{a={...this.options},s={onstart:e=>{this.sse=e},onmessage:e=>{e.trim().split("data:").forEach((async e=>{var t;if(""!==e)try{const a=JSON.parse(e),{card_type:s,target:n,data:o}=a;switch(s){case"error":uni.$u.toast(o),this.isSearching=!1,this.showResult=!1;break;case"action":this.result.status=1;break;case"markdown":this.result.status=2;case"expand_query":case"search_result":l(s,n,o);break;case"suggestion":this.result.suggestion={type:s,data:o};break;case"outline_json":this.result.outlineJson=o;break;case"outline":this.result.outline=o;break;case"done":{this.result.status=4;const e=this.result.markdown.findLast((e=>"search_result"===e.type));this.result.search=(null==(t=null==e?void 0:e.content)?void 0:t.map(((e,t)=>({...e,index:t+1}))))||[],this.getConfig();break}}}catch(a){}}))},onclose:()=>{this.isSearching=!1}},A.eventStream({url:"/search/query",data:a,method:"POST"},s)}catch(n){this.isSearching=!1,this.showResult=!1}var a,s;this.result.query=this.options.ask,this.result.markdown=[],this.result.status=0,this.result.search=[],this.result.outline={},this.result.suggestion={},this.result.outlineJson={}},async getSearchInfo(e){var t,l;try{this.result.status=0,this.showResult=!0;const{ask:a,model:s,type:n,results:o}=await function(e){return A.get({url:"/search/detail",data:e})}({id:e});if(!o)return void uni.$u.toast("数据不存在");this.options.ask=a,this.options.model=s,this.options.type=n,this.result.query=a,this.result.status=4,Array.isArray(o)?(this.result.markdown=o.filter((e=>["markdown","expand_query","search_result"].includes(e.type))),this.result.search=this.getSearchResult(o),this.result.suggestion=o.find((e=>"suggestion"==e.type))||[],this.result.outlineJson=(null==(t=o.find((e=>"outline_json"==e.type)))?void 0:t.content)||{},this.result.outline=(null==(l=o.find((e=>"outline"==e.type)))?void 0:l.content)||{}):(this.result.markdown=[{content:o.markdown,type:"markdown"},{type:"search_result",content:o.search_result}],this.result.search=this.getSearchResult(this.result.markdown),this.result.suggestion={type:"suggestion",content:o.suggestion},this.result.outline=o.outline||{},this.result.outlineJson=o.outline_json||{})}catch(a){console.error(a),this.showResult=!1}},async getSearchEx(){this.searchEx=await A.get({url:"/search/example"})},async getConfig(){this.config=await A.get({url:"/search/config"})}}}),Ie=p({__name:"search-type",props:{model:null,type:{default:""},mode:{default:"down"},show:{type:Boolean},showMask:{type:Boolean,default:!0}},emits:["update:type","click-content","click-item"],setup(e,{emit:t}){const l=e,c=ae(l,"type",t),u=f(!1);m((()=>l.show),(e=>{u.value=e}),{immediate:!0});const h=g((()=>[{label:"全网搜索",value:Re.ALL,icon:"whole_network",desc:"在整个互联网中搜索"},{label:"文档搜索",value:Re.DOC,icon:"document",desc:"在互联网开放文库中搜索",disabled:l.model!==ze.STUDY},{label:"学术搜索",value:Re.SCHOLAR,icon:"science",desc:"在已发表的论文中搜索",disabled:l.model!==ze.STUDY}])),p=f(!1),k=g((()=>h.value.find((e=>e.value==c.value))||{}));return(f,m)=>{const g=V(K("zui-svg-icon"),qe),w=r,A=V(K("drop-down"),Ee);return a(),s(w,{class:""},{default:n((()=>[o(A,{mode:e.mode,show:u.value,"onUpdate:show":m[1]||(m[1]=e=>u.value=e),"show-mask":e.showMask},{default:n((({show:e})=>[x(f.$slots,"default",L(U(_(k))))])),menu:n((()=>[o(w,{class:"p-[20rpx] mb-[-20rpx]",onClick:m[0]||(m[0]=I((e=>t("click-content")),["stop"]))},{default:n((()=>[(a(!0),y(b,null,M(_(h),((e,r)=>(a(),y(b,null,[e.disabled?v("v-if",!0):(a(),s(w,{key:r,class:d(["p-[24rpx] rounded-[12rpx] border-light border-solid border mb-[20rpx]",{" text-primary bg-primary-light-9 border-primary":_(k).value===e.value}]),onClick:a=>{return s=e.value,t("click-item"),p.value=!1,c.value=s,void(l.show||(u.value=!1));var s}},{default:n((()=>[o(w,{class:"flex items-center"},{default:n((()=>[o(g,{width:"28rpx",icon:e.icon,color:_(k).value===e.value?f.$theme.primaryColor:"#333"},null,8,["icon","color"]),H("span",{class:"ml-[12rpx]"},j(e.label),1)])),_:2},1024),o(w,{class:"line-clamp-2 text-muted mt-[16rpx] text-sm"},{default:n((()=>[i(j(e.desc),1)])),_:2},1024)])),_:2},1032,["class","onClick"]))],64)))),256))])),_:1})])),_:3},8,["mode","show","show-mask"])])),_:3})}}}),Me=p({__name:"search-model",props:{type:null,mode:{default:"segmented"},model:null},emits:["update:model","update:type"],setup(e,{emit:t}){const l=e,{type:c,model:u}=se(l,t),h=f(!1),p=[{name:"基础",value:ze.BASE,icon:"search_base"},{name:"增强",value:ze.ENHANCE,icon:"search_copilot",desc:"检索更多网页，提供更全面个性化答案"},{name:"研究",value:ze.STUDY,icon:"search_research",desc:"结构更细致，内容更深入。自动总结大纲和图谱，答案更清晰"}],x=f(""),k=[{label:"全网",value:Re.ALL},{label:"文档",value:Re.DOC},{label:"学术",value:Re.SCHOLAR}],w=g((()=>k.find((e=>e.value==c.value))||{}));m(h,(e=>{e&&(x.value=u.value)}));const A=g((()=>p.find((e=>e.value==u.value))||{})),C=e=>{u.value=p[e].value};return(t,l)=>{const f=V(K("zui-svg-icon"),qe),m=B,g=r,k=V(K("u-subsection"),ee),S=V(K("u-icon"),te),q=V(K("drop-down"),Ee),E=V(K("u-tag"),le);return"segmented"===e.mode?(a(),s(g,{key:0,class:"w-[550rpx]"},{default:n((()=>[o(k,{list:p,"bg-color":"#fff","button-color":t.$theme.primaryColor,height:"80","active-color":"#fff","inactive-color":"#333",onChange:C},{item:n((({item:e,isActive:l})=>[o(g,{class:"flex items-center"},{default:n((()=>[o(f,{width:"28rpx",icon:e.icon,color:l?"#fff":t.$theme.primaryColor},null,8,["icon","color"]),o(m,{class:"ml-[6rpx]"},{default:n((()=>[i(j(e.name),1)])),_:2},1024)])),_:2},1024)])),_:1},8,["button-color"])])),_:1})):(a(),s(g,{key:1,class:"flex items-center"},{default:n((()=>[o(q,{mode:"down",show:h.value,"onUpdate:show":l[4]||(l[4]=e=>h.value=e)},{default:n((({show:e})=>[o(g,{class:"flex items-center px-[20rpx] py-[14rpx]"},{default:n((()=>[_(A).icon?(a(),s(f,{key:0,width:"28rpx",icon:_(A).icon,color:t.$theme.primaryColor},null,8,["icon","color"])):v("v-if",!0),o(m,{class:"mx-[10rpx]"},{default:n((()=>[i(j(_(A).name),1)])),_:1}),o(S,{name:"arrow-down-fill",size:"14"})])),_:1})])),menu:n((()=>[o(g,{class:"py-[8rpx] w-[250rpx]",onClick:l[3]||(l[3]=I((()=>{}),["stop"]))},{default:n((()=>[o(g,null,{default:n((()=>[(a(),y(b,null,M(p,(e=>o(Ie,{model:e.value,type:_(c),"onUpdate:type":l[0]||(l[0]=e=>D(c)?c.value=e:null),key:e.value,mode:"right",onClickContent:l[1]||(l[1]=e=>h.value=!1),show:x.value==e.value,"show-mask":!1,onClickItem:l[2]||(l[2]=e=>u.value=x.value)},{default:n((()=>[o(g,{class:d(["flex items-center justify-center py-[15rpx]",{" bg-primary-light-9":x.value===e.value}]),onClick:I((t=>x.value=e.value),["stop"])},{default:n((()=>[o(f,{width:"28rpx",icon:e.icon,color:t.$theme.primaryColor},null,8,["icon","color"]),o(m,{class:"ml-[10rpx]"},{default:n((()=>[i(j(e.name),1)])),_:2},1024)])),_:2},1032,["class","onClick"])])),_:2},1032,["model","type","show"]))),64))])),_:1})])),_:1})])),_:1},8,["show"]),o(g,{class:"border-l border-0 border-solid border-light pl-[16rpx]"},{default:n((()=>[o(E,{type:"primary",size:"mini",text:_(w).label},null,8,["text"])])),_:1})])),_:1}))}}}),Ve=p({__name:"search-btn",setup(e){const t=$(),l=Ue();return(e,c)=>{const u=V(K("u-icon"),te),d=V(K("u-button"),re),h=r;return a(),s(h,null,{default:n((()=>[o(d,{type:"primary",size:"medium",customStyle:{height:"68rpx"}},{default:n((()=>[o(u,{name:"search"}),H("span",{class:"text-xs ml-[8rpx]"},[_(l).config.isVipFree?(a(),y(b,{key:0},[i(" 会员免费 ")],64)):_(l).config.price>0?(a(),y(b,{key:1},[i(" -"+j(_(l).config.price)+j(_(t).getTokenUnit),1)],64)):v("v-if",!0)])])),_:1})])),_:1})}}}),Ke=p({__name:"search-input",props:{mode:null,model:null,type:null,input:null},emits:["update:model","update:input","search"],setup(e,{emit:t}){const l=e,{type:i,input:c}=se(l,t);return(t,l)=>{const u=V(K("u-input"),ie),d=r,h=V(K("zui-svg-icon"),qe),p=V(K("u-icon"),te);return a(),s(d,{class:"bg-white rounded-[18rpx] px-[20rpx] py-[10rpx]"},{default:n((()=>[o(d,null,{default:n((()=>[o(u,{modelValue:_(c),"onUpdate:modelValue":l[0]||(l[0]=e=>D(c)?c.value=e:null),type:"textarea",border:!1},null,8,["modelValue"])])),_:1}),o(d,{class:"flex items-center justify-between"},{default:n((()=>[o(d,{class:""},{default:n((()=>[o(Ie,{type:_(i),"onUpdate:type":l[1]||(l[1]=e=>D(i)?i.value=e:null),model:e.model},{default:n((({icon:e,label:t})=>[o(d,{class:"flex items-center"},{default:n((()=>[o(h,{width:"28rpx",icon:e,color:"#333"},null,8,["icon"]),H("span",{class:"px-[12rpx]"},j(t),1),o(p,{name:"arrow-down"})])),_:2},1024)])),_:1},8,["type","model"])])),_:1}),o(Ve,{onClick:l[2]||(l[2]=e=>t.$emit("search"))})])),_:1})])),_:1})}}}),He=p({__name:"search-ex",props:{lists:{default:()=>[]},prop:{default:""}},emits:["click-item"],setup(e,{emit:t}){const l=e,c=e=>e[l.prop]?e[l.prop]:e;return(l,u)=>{const d=r;return a(),s(d,{class:"flex flex-wrap mx-[-10rpx] mb-[-20rpx]"},{default:n((()=>[(a(!0),y(b,null,M(e.lists,((e,l)=>(a(),s(d,{class:"flex max-w-full items-center mx-[10rpx] mb-[20rpx] px-[22rpx] py-[12rpx] border border-light border-solid rounded-full",key:l,onClick:l=>t("click-item",c(e))},{default:n((()=>[o(d,{class:"flex-1 line-clamp-1 text-xs text-content"},{default:n((()=>[i(j(c(e)),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})}}}),je=p({__name:"search-history",setup(e){z();const t=Ue();N();const l=F(),c={[ze.BASE]:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAADZSURBVEiJ7ZQxEoIwEEV/MkLNEfAE6knkCKTaVk+gnkCtGCo9ApzAK3gUahhYGwoG1iJBR4u8bvcn+5OZ3QU8nn9HjRN5np8BpACuRHTs451l3QsR7SVBC7kUQARgNYhteXtnIeSMUmrbtu1pGNu4MXNpc94zi0mXZlkWa63XSqnItWgQBIUxppK0SdNorR8AYmZ29UNd1wcAS0mTxuKrTH4YhuGmaZrEtSAzV13XPec9y2OBtLwT21U2hplLIiokTdqlN2Z2nsGeBIBoKI3FfabZp2p4PD/iBe4rOZy1ieE1AAAAAElFTkSuQmCC",[ze.ENHANCE]:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAMHSURBVEiJ7ZbPceNWDMY/PMZvfKQ7oCuI3YFcQbwVxDyYGJ42rkDrCmSfOJQO1FZgpQJrK1i5A5bAI4ccAjkY1FJ/KGdnkksmuNjD93v4HvAAPAH/daO/C2ZZFjnnPhPRRFUj+1wBWInIc5qm5T8mmOf5FwDT7SaijaqGAIbCj8z89JEv9xNiJRHF3vuLJEmumfnSe38B4MHQmbEn7WSEWZZNnHOvAEoRuRlLm6X7FUBERHGSJMsxnycjdM4VACAi8ak7StO0FJEbAFDV6Rh3UjDLsomdeJmm6fqUk14UwApANJ/Pr35aMAiCCABU9e0jsYF9s7+jgr+MLfSlT0RVlmURsI3iwIqiCOu6DomoUlUM2ubAjhZNlmVREASFqk72lioAz977p7quwyAIpsbsC6y893Ecx9WHgnme3wKYYbfHlkQUquotgNC+VcaUADYA3gB8tnUAqETk0/7979yhFcqLOXowZ6GIPCdJEnvvL4loaU4jAE/MfMnMn0RkDSAkorXtDZ1zr+bzMMKiKMKmab6bs5iZV/P5/E5VC1gfnp+fVwMmBFB676/rug6tD0MRuU7TtLRMvfRMn95thE3T3Nmpn5l5BQDWwI8AIufc96Zpip7pv7dtO+ub3lJYAgAzrywbUdu2twcpJaLfAFTe+515yMxf8GN83fas8VDVO1s7uK+u6x7t398PBFX1CkB1rLKY+UlErgds1PMAICI3fVaGZtGWxu4K4v3CD8T2NoOINsx8wczUC54ae+azr9wdwdKenFGzZykaHhLvlTxqxm+Z4R2uAUSLxWJyYv8GQLhYLCZW7n0bHLVjzFDwKwCIyGzMwYApgiCYAkDXdV+PsUVRhM652T6zFby/v19bGV/leX5UdMBENtJWYy9J27YzAFf7r83OaLOH9AXv074koseu69ZpmpY2Xyf23kUW8VpV//TeL+M4ro4wG+/9zbDyD2apTZwpgD+OndyElqpafcScnZ097LfZ6E8Mi/YOwK9EFAKAqn4TkWXfBvuMHeJtyPxv/7r9BeVCnRDdXoHlAAAAAElFTkSuQmCC",[ze.STUDY]:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAIKSURBVEiJtZbBkdowFIb/J2INR6eCkApCB+sOwlYAPuAZnzYd7KSDcNJgDmIrCKlgvRUs6YBUEB8ZM+jPIXbWeA02C/kvnic96dN7T09j4Iqy1vrGmEHTnLomKM/zL0qp0UWgJEmGbT4iciMi44tAAGzbQUgGJIdN6esEMsYEJIfHojLGDEj+O4hS6nvd910XkFIqAACSAYB1ublSaiQiY5L1AwxJPidJkpJ80lp/6xSRiNwU38/lWL/fzwD4ALITS30A2Xa79aUNYq318zz/Xdpa6/dhGB5sXtTHAigjWzvnbuM43pQ+rRHtdruD65rneVD3iaJo7Zy7LW0RCauQTiCSn6p2NX1VxXG8EZG1iKRRFK3r8ydB1lofwKQGDo51P8kHkk9Nc423zlrr73a7UZ7n9/hb0KoGSqnH+Xw+01ovq/Vyzq2KS/JKB5dhsVgEJMckJ03ODcoApM65WRzH6SlHMcYMer3efdEjg46AY9CZiKwaa9Tr9XySv/A6RWeDROTDfr9vT50xJlBK3QEIuoJFZCkiD9PpND3p1zRYNOkEwB2a07kRka+e563qzXsWqFTxnj3WYJnW+mNXQKmTfVQ0YVobXp4LaQUBAMkfVVtEfp4L6QTSWqdV2/O81X8BhWGYlekTkfQtaesEAl7Sd+wduxqojMg5l74V1FlJkjxfsv6cv6DwEtAfElznE6dyj2sAAAAASUVORK5CYII="},u=f(!1),d=f([]),h=async(e,t)=>{try{const{lists:s}=await(a={page_no:e,page_size:t},A.get({url:"/search/lists",data:a}));l.value.complete(s)}catch(s){l.value.complete(!1)}var a};return(e,p)=>{const f=V(K("u-icon"),te),m=r,g=B,v=V(K("z-paging"),ce),x=V(K("u-popup"),ue);return a(),s(m,null,{default:n((()=>[o(m,{class:"py-3 pl-3",onClick:p[0]||(p[0]=e=>u.value=!0)},{default:n((()=>[o(f,{name:"clock",size:"45rpx"})])),_:1}),o(x,{modelValue:u.value,"onUpdate:modelValue":p[2]||(p[2]=e=>u.value=e),mode:"center",closeable:"","border-radius":"20"},{default:n((()=>[o(m,{class:"flex flex-col min-h-0 w-[640rpx] h-[70vh]"},{default:n((()=>[o(m,{class:"p-[24rpx] text-center"},{default:n((()=>[i("搜索记录")])),_:1}),o(m,{class:"flex-1"},{default:n((()=>[o(v,{ref_key:"pagingRef",ref:l,modelValue:d.value,"onUpdate:modelValue":p[1]||(p[1]=e=>d.value=e),fixed:!1,height:"100%","auto-clean-list-when-reload":!1,onQuery:h},{default:n((()=>[(a(!0),y(b,null,M(d.value,(e=>(a(),s(m,{key:e.id,class:"cursor-pointer p-[12px] hover:bg-page",onClick:l=>_(t).getSearchInfo(e.id)},{default:n((()=>[o(m,{class:"line-clamp-2"},{default:n((()=>[i(j(e.ask),1)])),_:2},1024),o(m,{class:"flex items-center mt-1 text-tx-secondary"},{default:n((()=>[H("img",{src:c[e.model],class:"w-[32rpx] h-[32rpx]"},null,8,["src"]),o(g,{class:"ml-1 text-sm"},{default:n((()=>[i(j(e.create_time),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}}}),Be=X(p({__name:"index",setup(e){const t=Ue();return t.getSearchEx(),t.getConfig(),(e,l)=>{const i=r,c=O;return a(),s(c,{class:"h-full search-ask","scroll-y":""},{default:n((()=>[o(i,{class:"flex flex-col items-center px-[20rpx]"},{default:n((()=>[o(i,{class:"absolute top-4 right-4"},{default:n((()=>[o(je)])),_:1}),o(_e),o(Me,{model:_(t).options.model,"onUpdate:model":l[0]||(l[0]=e=>_(t).options.model=e)},null,8,["model"]),o(Ke,{input:_(t).options.ask,"onUpdate:input":l[1]||(l[1]=e=>_(t).options.ask=e),model:_(t).options.model,class:"w-full mt-[30rpx]",type:_(t).options.type,"onUpdate:type":l[2]||(l[2]=e=>_(t).options.type=e),onSearch:l[3]||(l[3]=e=>_(t).launchSearch())},null,8,["input","model","type"]),o(He,{class:"mt-[30rpx] justify-center",lists:_(t).searchEx,onClickItem:_(t).launchSearch},null,8,["lists","onClickItem"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-2506b414"]]);const De=X({name:"uv-skeletons",mixins:[he,pe],props:{loading:{type:Boolean,default:!0},skeleton:{type:Array,default:()=>[]},animate:{type:Boolean,default:!0},round:{type:Boolean,default:!1},...null==(t=null==(e=uni.$uv)?void 0:e.props)?void 0:t.skeleton},data:()=>({elements:[],opacity:.5,duration:600}),computed:{animateClass(){return this.animate?"uv-skeleton--animation":"uv-skeleton--static"},roundClass(){return this.round?"uv-skeleton--round":"uv-skeleton--radius"},style(e){return e=>this.$uv.deepMerge({},this.$uv.addStyle(e.style))}},created(){this.init()},methods:{init(){let e=[];if(!this.$uv.test.array(this.skeleton))return this.$uv.error("skeleton参数必须为数组形式，参考文档示例：");this.skeleton.forEach((t=>{const l=this.getElCounts(t);e=e.concat(l)})),this.elements=[...e]},getElCounts(e){let t=[],l=[];if(this.$uv.test.number(e))return t.push({type:"gap",height:e}),t;{const a=e.type?e.type:"line",s=e.num?e.num:1,n=e.style?e.style:{},o=this.$uv.test.array(n),i=e.gap?e.gap:"20rpx",r=e.children?e.children:[];for(let e=0;e<r.length;e++)l[e]={clas:r[e].type.indexOf("avatar")>-1||r[e].type.indexOf("custom")>-1?"":"uv-skeleton__group__sub",elements:this.getElCounts(r[e])};for(let e=0;e<s;e++)i&&e<s&&e>0&&t.push({type:"gap",height:i}),t.push({clas:`uv-skeleton__${a}`,type:a,style:o?n[e]:n,gap:i,children:l});return t}},createAnimation(e=1){if(!this.loading||!this.animate)return;let t=0;const l=this.$refs.skeleton;l.forEach((a=>{animation.transition(a,{styles:{opacity:e},duration:this.duration},(()=>{t++,t>=l.length&&setTimeout((()=>{this.createAnimation(e<1?1:this.opacity)}),200)}))}))}}},[["render",function(e,t,l,i,c,u){const p=r;return a(),s(p,{class:"uv-skeleton"},{default:n((()=>[l.loading?(a(),s(p,{key:0},{default:n((()=>[(a(!0),y(b,null,M(c.elements,((t,l)=>(a(),s(p,{key:l},{default:n((()=>[v(" 横向并列布局 "),"flex"==t.type?(a(),s(p,{key:0,class:"uv-skeleton__group",style:h([u.style(t)])},{default:n((()=>[(a(!0),y(b,null,M(t.children,((t,l)=>(a(),s(p,{class:d([t.clas]),style:h([u.style(t)]),key:l},{default:n((()=>[(a(!0),y(b,null,M(t.elements,((t,l)=>(a(),s(p,{key:l},{default:n((()=>[v(" 垂直高度站位 "),"gap"==t.type?(a(),s(p,{key:0,style:h({height:e.$uv.addUnit(t.height,"rpx")})},null,8,["style"])):(a(),s(p,{key:1,class:d([t.clas,u.roundClass,u.animateClass]),style:h([u.style(t)]),ref_for:!0,ref:"skeleton"},null,8,["class","style"]))])),_:2},1024)))),128))])),_:2},1032,["class","style"])))),128))])),_:2},1032,["style"])):"custom"==t.type?(a(),y(b,{key:1},[v(" 自定义骨架屏内容 "),v(" ps 自定义扩展说明： "),v(" 如果你需要自定义模板，可以参照这个custom的写法，增加一个skeleton配置类型，编写布局和样式就可以了 "),v(' 注意事项：为了保证骨架效果和动态效果的一致，扩展时，在你希望实际展示在页面中的元素上加上 :class="[style, animateClass]" 和 :style="[style(item)]" 和 ref="skeleton" '),o(p,{class:d([t.clas,u.animateClass]),style:h([u.style(t)]),ref_for:!0,ref:"skeleton"},null,8,["class","style"])],2112)):"gap"==t.type?(a(),y(b,{key:2},[v(" 垂直高度站位 "),o(p,{style:h({height:e.$uv.addUnit(t.height,"rpx")})},null,8,["style"])],2112)):(a(),y(b,{key:3},[v(" 其他基本单位 line avatar 等 "),o(p,{class:d([t.clas,u.roundClass,u.animateClass]),style:h([u.style(t)]),ref_for:!0,ref:"skeleton"},null,8,["class","style"])],2112))])),_:2},1024)))),128))])),_:1})):(a(),s(p,{key:1},{default:n((()=>[x(e.$slots,"default",{},void 0,!0)])),_:3}))])),_:3})}],["__scopeId","data-v-18e7224f"]]),$e=p({__name:"model-input",setup(e){const t=Ue();return(e,l)=>{const i=V(K("u-input"),ie),c=r,u=V(K("u-icon"),te),d=V(K("u-button"),re);return a(),s(c,{class:"flex bg-white items-center rounded-[12rpx]"},{default:n((()=>[o(Me,{mode:"dropdown",type:_(t).options.type,"onUpdate:type":l[0]||(l[0]=e=>_(t).options.type=e),model:_(t).options.model,"onUpdate:model":l[1]||(l[1]=e=>_(t).options.model=e)},null,8,["type","model"]),o(c,{class:"flex-1 ml-[20rpx] min-w-0"},{default:n((()=>[o(i,{modelValue:_(t).options.ask,"onUpdate:modelValue":l[2]||(l[2]=e=>_(t).options.ask=e),placeholder:"输入你想搜索的问题"},null,8,["modelValue"])])),_:1}),o(c,{class:"p-[4rpx]"},{default:n((()=>[o(d,{type:"primary",size:"medium",customStyle:{height:"68rpx"},onClick:l[3]||(l[3]=e=>_(t).launchSearch())},{default:n((()=>[o(u,{name:"search"})])),_:1})])),_:1})])),_:1})}}});const Fe=X({name:"u-line",props:{color:{type:String,default:"#e4e7ed"},length:{type:String,default:"100%"},direction:{type:String,default:"row"},hairLine:{type:Boolean,default:!0},margin:{type:String,default:"0"},borderStyle:{type:String,default:"solid"}},computed:{lineStyle(){let e={};return e.margin=this.margin,"row"==this.direction?(e.borderBottomWidth="1px",e.borderBottomStyle=this.borderStyle,e.width=this.$u.addUnit(this.length),this.hairLine&&(e.transform="scaleY(0.5)")):(e.borderLeftWidth="1px",e.borderLeftStyle=this.borderStyle,e.height=this.$u.addUnit(this.length),this.hairLine&&(e.transform="scaleX(0.5)")),e.borderColor=this.color,e}}},[["render",function(e,t,l,n,o,i){const c=r;return a(),s(c,{class:"u-line",style:h([i.lineStyle])},null,8,["style"])}],["__scopeId","data-v-9fa848d1"]]);const Ne=X({name:"u-steps",props:{mode:{type:String,default:"dot"},list:{type:Array,default:()=>[]},type:{type:String,default:"primary"},current:{type:[Number,String],default:0},activeColor:{type:String,default:"#2979ff"},unActiveColor:{type:String,default:"#909399"},icon:{type:String,default:"checkmark"},direction:{type:String,default:"row"}},data:()=>({})},[["render",function(e,t,l,c,u,p){const f=B,m=V(K("u-icon"),te),g=r,x=V(K("u-line"),Fe);return a(),s(g,{class:""},{default:n((()=>[o(g,{class:"u-steps",style:h({flexDirection:l.direction})},{default:n((()=>[(a(!0),y(b,null,M(l.list,((e,t)=>(a(),s(g,{class:d(["u-steps__item",["u-steps__item--"+l.direction]]),key:t},{default:n((()=>["number"==l.mode?(a(),s(g,{key:0,class:"u-steps__item__num",style:h({backgroundColor:l.current<t?"transparent":l.activeColor,borderColor:l.current<t?l.unActiveColor:l.activeColor})},{default:n((()=>[l.current<t?(a(),s(f,{key:0,style:h({color:l.current<t?l.unActiveColor:l.activeColor})},{default:n((()=>[i(j(t+1),1)])),_:2},1032,["style"])):(a(),s(m,{key:1,size:"22",color:"#ffffff",name:l.icon},null,8,["name"]))])),_:2},1032,["style"])):v("v-if",!0),"dot"==l.mode?(a(),s(g,{key:1,class:"u-steps__item__dot",style:h({backgroundColor:t<=l.current?l.activeColor:l.unActiveColor})},null,8,["style"])):v("v-if",!0),o(f,{class:d(["u-line-1",["u-steps__item__text--"+l.direction]]),style:h({color:t<=l.current?l.activeColor:l.unActiveColor})},{default:n((()=>[i(j(e.name),1)])),_:2},1032,["style","class"]),t<l.list.length-1?(a(),s(g,{key:2,class:d(["u-steps__item__line",["u-steps__item__line--"+l.mode]])},{default:n((()=>[o(x,{direction:l.direction,length:"100%","hair-line":!1,color:l.unActiveColor},null,8,["direction","color"])])),_:1},8,["class"])):v("v-if",!0)])),_:2},1032,["class"])))),128))])),_:1},8,["style"])])),_:1})}],["__scopeId","data-v-2c1d2a1e"]]),Oe=p({__name:"steps",setup(e){const t=Ue(),l=g((()=>{switch(t.options.type){case Re.ALL:return"全网";case Re.DOC:return"文档";case Re.SCHOLAR:return"学术";default:return""}})),n=g((()=>[{name:"问题分析"},{name:`${l.value}搜索`},{name:"整理答案"},{name:"完成"}]));return(e,l)=>{const o=V(K("u-steps"),Ne);return a(),s(o,{list:_(n),current:_(t).result.status,type:" primary"},null,8,["list","current"])}}}),Te=p({__name:"action-btns",setup(e){const t=Ue(),{copy:l}=me(),c=()=>{const e=t.result.markdown.reduce(((e,t)=>(["markdown","expand_query"].includes(t.type)&&(e+=t.content+"\n"),e)),"");l(e)};return(e,l)=>{const u=V(K("u-icon"),te),d=B,h=r;return a(),s(h,{class:"flex flex-wrap items-center"},{default:n((()=>[o(h,{class:"mr-[40rpx] bg-white flex item-center px-[24rpx] leading-[50rpx] text-xs rounded-full",onClick:l[0]||(l[0]=e=>_(t).launchSearch())},{default:n((()=>[o(u,{name:"reload"}),o(d,{class:"ml-[8rpx]"},{default:n((()=>[i(" 重写 ")])),_:1})])),_:1}),o(h,{class:"mr-[40rpx] text-primary bg-white flex item-center px-[24rpx] leading-[50rpx] text-xs rounded-full",onClick:c},{default:n((()=>[o(u,{name:"file-text"}),o(d,{class:"ml-[8rpx]"},{default:n((()=>[i(" 复制 ")])),_:1})])),_:1})])),_:1})}}}),Ye=p({__name:"suggestion",props:{lists:{default:()=>[]}},setup(e){const t=Ue();return(l,i)=>{const c=V(K("u-icon"),te),u=r,d=V(K("u-collapse-item"),ge),h=V(K("u-collapse"),ye);return a(),s(h,null,{default:n((()=>[o(d,{open:""},{title:n((()=>[o(u,{class:"flex items-center"},{default:n((()=>[o(c,{name:"search",size:32}),H("span",{class:"text-2xl ml-1 font-bold"}," 相关问题 ")])),_:1})])),default:n((()=>[o(He,{class:"mt-[10rpx]",lists:e.lists,prop:"text",onClickItem:_(t).launchSearch},null,8,["lists","onClickItem"])])),_:1})])),_:1})}}}),Je=X(p({__name:"mind-map",props:{content:{default:""},quote:{default:()=>[]}},setup(e){const t=e,{copy:l}=me(),i=new ve,c=F(),u=F(),h=ne(),p=f(!1);let g=null;const v=e=>{e=(e=>e.replaceAll(/(`{3}[\s\S]*?`{3}(?:(?!.)))|(`{3}[\s\S]*)|(`[\s\S]*?`{1}?)|(`[\s\S]*)|(?:\[(?:(?:number )|\^)?([\d]{1,2})\])/g,(function(e,l,a,s,n,o){const i=t.quote[Number(o)-1];return i?`<a href="${i.seeMoreUrl}" \ntitle="${i.title}"\ntarget="_blank"\nstyle="display: inline-block;\nwidth: 15px;\nheight: 15px;\nborder-radius: 50%;\nfont-size: 12px;\ntext-align: center;\ntext-align: center;\ncolor: #485568 !important;\nbackground-color: #edeff1 !important;\ntext-decoration: none !important;\nvertical-align: middle;\nmargin: 0 2px 3px;\ncursor: pointer;\nline-height: 16px;">${o}</a>`:""})))(e);const{root:l}=i.transform(e);null==g||g.setData(l),null==g||g.fit()};return m(h,(e=>{e?document.documentElement.classList.add("markmap-dark"):document.documentElement.classList.remove("markmap-dark")}),{immediate:!0}),m((()=>t.content),v),T((async()=>{await Y(),g=xe.create(c.value),v(t.content)})),m(p,(async()=>{await Y(),null==g||g.fit()})),(t,i)=>{const h=V(K("zui-svg-icon"),qe),f=r,m=V(K("u-icon"),te),v=V(K("u-collapse-item"),ge),x=V(K("u-collapse"),ye);return a(),s(x,null,{default:n((()=>[o(v,{open:""},{title:n((()=>[o(f,{class:"flex items-center"},{default:n((()=>[o(h,{width:"32rpx",icon:"mind_map",color:"#333"}),H("span",{class:"text-2xl ml-1 font-bold"}," 脑图 ")])),_:1})])),default:n((()=>[o(f,{class:"h-[710rpx] relative"},{default:n((()=>[o(f,{ref_key:"svgWrapRef",ref:u,class:d(["w-full h-full",{"!fixed top-0 left-0 w-screen h-screen z-[9999] bg-white":p.value}])},{default:n((()=>[o(f,{class:"toolbar"},{default:n((()=>[o(f,{class:"toolbar-item"},{default:n((()=>[p.value?(a(),s(f,{key:0,class:"flex",onClick:i[0]||(i[0]=e=>p.value=!1)},{default:n((()=>[o(h,{icon:"fullscreen-exit",color:"#fff",width:"36rpx"})])),_:1})):(a(),s(f,{key:1,class:"flex",onClick:i[1]||(i[1]=e=>p.value=!0)},{default:n((()=>[o(h,{icon:"fullscreen",color:"#fff",width:"36rpx"})])),_:1}))])),_:1}),o(f,{class:"toolbar-item"},{default:n((()=>[o(f,{class:"flex",onClick:i[2]||(i[2]=e=>{var t;return null==(t=_(g))?void 0:t.fit()})},{default:n((()=>[o(m,{name:"reload",size:"38",color:"#fff"})])),_:1})])),_:1}),o(f,{class:"toolbar-item"},{default:n((()=>[o(f,{class:"flex",onClick:i[3]||(i[3]=e=>{var t;return null==(t=_(g))?void 0:t.rescale(1.25)})},{default:n((()=>[o(m,{name:"plus-circle",size:"38",color:"#fff"})])),_:1})])),_:1}),o(f,{class:"toolbar-item"},{default:n((()=>[o(f,{class:"flex",onClick:i[4]||(i[4]=e=>{var t;return null==(t=_(g))?void 0:t.rescale(.8)})},{default:n((()=>[o(m,{name:"minus-circle",size:"38",color:"#fff"})])),_:1})])),_:1}),o(f,{class:"toolbar-item"},{default:n((()=>[o(f,{class:"flex",onClick:i[5]||(i[5]=t=>_(l)(e.content))},{default:n((()=>[o(m,{name:"file-text",size:"38",color:"#fff"})])),_:1})])),_:1})])),_:1}),(a(),y("svg",{ref_key:"svgRef",ref:c,class:"w-full h-full"},null,512))])),_:1},8,["class"])])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-8ea8766c"]]);function Pe(e){const t=Object.prototype.toString.call(e);let l;if("[object Array]"===t){l=[];for(let t=0;t<e.length;t++)l.push(Pe(e[t]))}else if("[object Object]"===t){l={};for(const t in e)e.hasOwnProperty(t)&&(l[t]=Pe(e[t]))}else l=e;return l}function Ze(e,t,l,a=!0){if(!e||0===e.length)return[];const s=[];for(let n=0;n<e.length;n++){const o=e[n];o[t]===l&&(a&&o.disabled||!o.disabled)&&s.push(o)}return s}function Qe(e,t,l,a=!0){if(!e||0===e.length)return null;const s=[];for(let n=0;n<e.length;n++){const o=e[n];o[t]===l&&(a&&o.disabled||!o.disabled)&&s.push(o.key)}return s.length?s:null}function We(e,...t){console.error(`DaTree: ${e}`,...t)}const Ge=Object.prototype.toString;function Xe(e,t){return Ge.call(e)===`[object ${t}]`}function et(e){return"function"==typeof e}function tt(e){return e&&Array.isArray(e)}const lt=X(p({name:"DaTree",props:{data:{type:Array,default:()=>[]},themeColor:{type:String,default:"#007aff"},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:[Array,String,Number],default:null},defaultExpandAll:{type:Boolean,default:!1},defaultExpandedKeys:{type:Array,default:null},filterValue:{type:String,default:""},expandChecked:{type:Boolean,default:!1},field:{type:Object,default:null},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},childrenField:{type:String,default:"children"},disabledField:{type:String,default:"disabled"},leafField:{type:String,default:"leaf"},appendField:{type:String,default:"append"},sortField:{type:String,default:"sort"},resultField:{type:String,default:""},isLeafFn:{type:Function,default:null},showRadioIcon:{type:Boolean,default:!0},onlyRadioLeaf:{type:Boolean,default:!1},checkStrictly:{type:Boolean,default:!1},loadMode:{type:Boolean,default:!1},loadApi:{type:Function,default:null},alwaysFirstLoad:{type:Boolean,default:!1},checkedDisabled:{type:Boolean,default:!1},packDisabledkey:{type:Boolean,default:!0},checkboxPlacement:{type:String,default:"left"},indent:{type:Number,default:40}},emits:["change","expand"],setup(e,{emit:t}){const l=f([]),a=f([]),s=f({}),n=f([]),o=f(null),i=f(!1);let r={value:"value",label:"label",children:"children",disabled:"disabled",append:"append",leaf:"leaf",sort:"sort"};function c(t=[],l=null,n=0,o=-1){return t.reduce(((t,i,u)=>{var d,h,p;const f=i[r.value],m=i[r.children]||null,g=function(t,l,a,s){var n;const o=t[r.value],i=t[r.label],c=t[r.sort]||0,u=t[r.children]||null,d=t[r.append]||null;let h=t[r.disabled]||!1;h=(null==a?void 0:a.disabled)||h;let p=et(e.isLeafFn)?e.isLeafFn(t):t[r.leaf]||!1;const f=u&&0===u.length;let m=!0,g=e.defaultExpandAll||!1;const y=e.loadMode&&et(e.loadApi);u||(g=!1,y?m=!0:(p=!0,m=!1));f&&(g=!1,y?m=!0:(p=!0,m=!1));p?(m=!1,g=!1):m=!0;e.showCheckbox||e.onlyRadioLeaf&&(h=!p||((null==(n=null==a?void 0:a.originItem)?void 0:n.disabled)||!1));h&&(p||!u||f)&&(g=!1,m=!1);const v=a?a.key:null,x=e.defaultExpandAll||0===s,k={key:o,parentKey:v,label:i,append:d,isLeaf:p,showArrow:m,level:s,expand:g,show:x,sort:c,disabled:h,loaded:!1,loading:!1,indexs:[l],checkedStatus:0,parentKeys:[],childrenKeys:[],children:[],originItem:t};a&&(k.parentKeys=[a.key,...a.parentKeys],k.indexs=[...a.indexs,l]);return k}(i,u,l,n);if(o>-1){const e=((null==(d=l.childrenKeys)?void 0:d.length)||0)+o+1;(null==(h=null==l?void 0:l.childrenKeys)?void 0:h.includes(f))||(s.value[f]=g,a.value.splice(e,0,g),l.children.push(g),(null==(p=g.parentKeys)?void 0:p.length)&&g.parentKeys.forEach((e=>{s.value[e].childrenKeys=[...s.value[e].childrenKeys,g.key]})))}else s.value[f]=g,a.value.push(g);if(m&&m.length>0){const e=c(m,g,n+1);g.children=e;const t=e.reduce(((e,t)=>{const l=t.childrenKeys;return e.push(...l,t.key),e}),[]);g.childrenKeys=t}return t.push(g),t}),[])}function u(t){let l=null,a=[];return e.showCheckbox?(l=[...new Set(o.value||[])],a=e.expandChecked?[...o.value||[],...n.value||[]]:n.value):(l=o.value||null,a=e.expandChecked&&o.value?[o.value,...n.value||[]]:n.value),d(t,l,!0),a=[...new Set(a)],e.defaultExpandAll||p(t,a,!0),t.sort(((e,t)=>0===e.sort&&0===t.sort?0:e.parentKey===t.parentKey?e.sort-t.sort>0?1:-1:0)),t}function d(t,l,a=!0){if(e.showCheckbox)(null==l?void 0:l.length)&&l.forEach((t=>{const l=s.value[t];l&&function(t,l=!0){const{childrenKeys:a,parentKeys:n,disabled:o=!1}=t;if(!e.checkedDisabled&&o)return;t.checkedStatus=l?2:0,e.checkStrictly||(a.forEach((l=>{const a=_(s)[l];a.checkedStatus=!e.checkedDisabled&&a.disabled?a.checkedStatus:t.checkedStatus})),n.forEach((e=>{const t=s.value[e];t.checkedStatus=x(t)})))}(l,a)}));else for(let e=0;e<t.length;e++){const s=t[e];if(s.key===l){h(s,a);break}}}function h(t,l){var n;const{parentKeys:o,isLeaf:i,disabled:r=!1}=t;!e.checkedDisabled&&r||(!e.onlyRadioLeaf||i?((null==(n=a.value)?void 0:n.length)&&a.value.forEach((e=>{e.checkedStatus=0})),o.forEach((e=>{const t=s.value[e];t.checkedStatus=l?x(t):0})),t.checkedStatus=l?2:0):We(`限制了末节点选中，当前[${t.label}]非末节点`))}function p(e,t,l=!0){var a,n,o;if(!1!==l)for(let i=0;i<e.length;i++){const l=e[i];(null==t?void 0:t.includes(l.key))&&(l.expand=!0,(null==(n=l.children)?void 0:n.length)&&l.children.forEach((e=>{_(s)[e.key].show=!0})),(null==(o=l.parentKeys)?void 0:o.length)&&l.parentKeys.forEach((e=>{var t;const l=_(s)[e];l.expand=!0,(null==(t=l.children)?void 0:t.length)&&l.children.forEach((e=>{_(s)[e.key].show=!0}))})))}else for(let i=0;i<e.length;i++){const l=e[i];(null==t?void 0:t.includes(l.key))&&(l.expand=!1,(null==(a=l.childrenKeys)?void 0:a.length)&&l.childrenKeys.forEach((e=>{s.value[e].expand=!1,s.value[e].show=!1})))}}function g(l){const{childrenKeys:n,parentKeys:i,checkedStatus:r,isLeaf:c,disabled:u=!1}=l;if(!e.showCheckbox)return;if(u)return;l.checkedStatus=2===r?0:2,e.checkStrictly?e.expandChecked&&We("多选时，当 checkStrictly 为 true 时，不支持选择自动展开子节点属性(expandChecked)"):(e.expandChecked&&(l.show=!0,l.expand=(null==n?void 0:n.length)>0||c),n.forEach((t=>{var a;const n=_(s)[t];n.checkedStatus=n.disabled?n.checkedStatus:l.checkedStatus,e.expandChecked&&(n.show=!0,n.expand=(null==(a=null==n?void 0:n.childrenKeys)?void 0:a.length)>0||n.isLeaf)}))),e.checkStrictly||i.forEach((e=>{const t=s.value[e];t.checkedStatus=x(t)}));const d=[];for(let t=0;t<a.value.length;t++){const l=a.value[t];2===l.checkedStatus&&(e.packDisabledkey&&l.disabled||!l.disabled)&&d.push(l.key)}o.value=[...d],t("change",d,l)}function y(l){var n;const{parentKeys:i,checkedStatus:r,key:c,disabled:u=!1,isLeaf:d}=l;if(!e.showCheckbox&&(e.onlyRadioLeaf&&!d&&v(l),!u)){if(null==(n=a.value)?void 0:n.length)for(let e=0;e<a.value.length;e++){a.value[e].checkedStatus=0}i.forEach((e=>{const t=s.value[e];t.checkedStatus=x(t)})),l.checkedStatus=2===r?0:2,o.value=c,t("change",c,l)}}async function v(l){if(e.filterValue)return;const{expand:o,loading:d=!1,disabled:h}=l;if(i.value&&d)return;!function(e){const{expand:t,childrenKeys:l,children:a=null}=e;if(t)(null==l?void 0:l.length)&&l.forEach((e=>{_(s)[e]&&(_(s)[e].show=!1,_(s)[e].expand=!1)}));else if(null==a?void 0:a.length){a.map((e=>e.key)).forEach((e=>{_(s)[e]&&(_(s)[e].show=!0)}))}}(l),l.expand=!o;let p=null;h||(!e.showCheckbox&&e.onlyRadioLeaf&&e.loadMode?We("单选时，当 onlyRadioLeaf 为 true 时不支持动态数据"):p=await async function(t){var l;const{expand:s,key:o,loaded:d,children:h}=t;if((null==h?void 0:h.length)&&!e.alwaysFirstLoad)return t;if(s&&e.loadMode&&!d){if(et(e.loadApi)){n.value.push(o),i.value=!0,t.loading=!0;const s=Pe(t),d=await e.loadApi(s);let h=[...(null==(l=t.originItem)?void 0:l.children)||[],...d||[]];const p={};if(h=h.reduce(((e,t)=>(!p[t[r.value]]&&(p[t[r.value]]=e.push(t)),e)),[]),t.originItem.children=h||null,null==d?void 0:d.length){const e=a.value.findIndex((e=>e.key===t.key));c(d,t,t.level+1,e),a.value=u(a.value)}else t.expand=!1,t.isLeaf=!0,t.showArrow=!1;i.value=!1,t.loading=!1,t.loaded=!0}}else{const e=n.value.findIndex((e=>e===o));e>=0&&n.value.splice(e,1)}return t}(l)),t("expand",!o,p||l||null)}function x(t){if(!t)return 0;if(!e.checkedDisabled&&t.disabled)return t.checkedStatus||0;if(!e.showCheckbox)return 1;const{children:l}=t;if(l.every((e=>2===e.checkedStatus)))return 2;return l.every((e=>0===e.checkedStatus))?0:1}return m((()=>e.defaultExpandedKeys),(e=>{(null==e?void 0:e.length)?n.value=e:n.value=[]}),{immediate:!0}),m((()=>e.defaultCheckedKeys),(t=>{e.showCheckbox?(null==t?void 0:t.length)?o.value=t:o.value=[]:o.value=t||0===t?t:null}),{immediate:!0}),m((()=>e.data),(t=>{l.value=Pe(t),setTimeout((()=>{!function(){var t,n,o,i,d,h,p,f;r={value:(null==(t=e.field)?void 0:t.key)||(null==(n=e.field)?void 0:n.value)||e.valueField||"value",label:(null==(o=e.field)?void 0:o.label)||e.labelField||"label",children:(null==(i=e.field)?void 0:i.children)||e.childrenField||"children",disabled:(null==(d=e.field)?void 0:d.disabled)||e.disabledField||"disabled",append:(null==(h=e.field)?void 0:h.append)||e.appendField||"append",leaf:(null==(p=e.field)?void 0:p.leaf)||e.leafField||"leaf",sort:(null==(f=e.field)?void 0:f.sort)||e.sortField||"sort"};const m=Pe(l.value);a.value=[],s.value={},c(m),a.value=u(a.value)}()}),36)}),{immediate:!0,deep:!0}),m((()=>e.filterValue),(()=>{""!==e.filterValue?(a.value.forEach((t=>{t.label.indexOf(e.filterValue)>-1?(t.show=!0,t.parentKeys.forEach((e=>{s.value[e].show=!0}))):t.show=!1})),a.value.forEach((e=>{e.show&&e.parentKeys.forEach((e=>{s.value[e].show=!0}))}))):a.value.forEach((e=>{e.show=!0}))})),{datalist:a,unCheckedStatus:0,halfCheckedStatus:1,isCheckedStatus:2,handleCheckChange:g,handleRadioChange:y,handleLabelClick:function(t){e.showCheckbox?g(t):y(t)},handleExpandedChange:v,loadLoading:i,getCheckedKeys:()=>Qe(a.value,"checkedStatus",2,e.packDisabledkey),setCheckedKeys:function(t,l=!0){if(e.showCheckbox){if(!tt(t))return void We(`setCheckedKeys 第一个参数非数组，传入的是[${t}]`);const s=a.value;if(!1===l){let e=[];for(let l=0;l<o.value.length;l++){const a=o.value[l];t.includes(a)||e.push(a)}return e=[...new Set(e)],o.value=e,void d(s,t,!1)}const i=[...o.value,...t];return o.value=[...new Set(i)],d(s,o.value,!0),void(e.expandChecked&&l&&(n.value=[...new Set([...o.value||[],...t||[]])],p(s,t,!0)))}if(tt(t)&&(t=t[0]),!(s=t,Xe(s,"String")||function(e){return Xe(e,"Number")}(t)))return void We("setCheckedKeys 第一个参数字符串或数字，传入的是==>",t);var s;const i=a.value;o.value=l?t:null,e.expandChecked&&l&&p(i,[t],!0),d(i,t,!!l)},getHalfCheckedKeys:()=>Qe(a.value,"checkedStatus",1,e.packDisabledkey),getUncheckedKeys:()=>Qe(a.value,"checkedStatus",0,e.packDisabledkey),getExpandedKeys:()=>Qe(a.value,"expand",!0),getUnexpandedKeys:()=>Qe(a.value,"expand",!1),setExpandedKeys:function(e,t=!0){if(!Array.isArray(e)&&"all"!==e)return void We("setExpandedKeys 第一个参数非数组，传入的是===>",e);const l=a.value;if("all"===e)return void l.forEach((e=>{e.expand=t,e.level>0&&(e.show=t)}));if(!1===t){const t=[];for(let l=0;l<n.value.length;l++){const a=n.value[l];e.includes(a)||t.push(a)}return n.value=[...new Set(t)],void p(l,e,!1)}const s=[];for(let a=0;a<l.length;a++)e.includes(l[a].key)&&s.push(l[a].key);n.value=[...new Set(s)],p(l,s,!0)},getCheckedNodes:()=>Ze(a.value,"checkedStatus",2,e.packDisabledkey),getHalfCheckedNodes:()=>Ze(a.value,"checkedStatus",1,e.packDisabledkey),getUncheckedNodes:()=>Ze(a.value,"checkedStatus",0,e.packDisabledkey),getExpandedNodes:()=>Ze(a.value,"expand",!0),getUnexpandedNodes:()=>Ze(a.value,"expand",!1)}}}),[["render",function(e,t,l,c,u,p){const f=r,m=B,g=O;return a(),s(f,{class:"da-tree",style:h({"--theme-color":e.themeColor})},{default:n((()=>[o(g,{class:"da-tree-scroll","scroll-y":!0,"scroll-x":!1},{default:n((()=>[(a(!0),y(b,null,M(e.datalist,(t=>(a(),s(f,{class:d(["da-tree-item",{"is-show":t.show}]),style:h({paddingLeft:t.level*e.indent+"rpx"}),key:t.key},{default:n((()=>[t.showArrow&&!e.filterValue?(a(),s(f,{key:0,class:"da-tree-item__icon",onClick:l=>e.handleExpandedChange(t)},{default:n((()=>[e.loadLoading&&t.loading?(a(),s(f,{key:0,class:d(["da-tree-item__icon--arr","is-loading"])})):(a(),s(f,{key:1,class:d(["da-tree-item__icon--arr","is-expand",{"is-right":!t.expand}])},null,8,["class"]))])),_:2},1032,["onClick"])):(a(),s(f,{key:1,class:"da-tree-item__icon"})),e.showCheckbox?(a(),s(f,{key:2,class:d(["da-tree-item__checkbox",[`da-tree-item__checkbox--${e.checkboxPlacement}`,{"is--disabled":t.disabled}]]),onClick:l=>e.handleCheckChange(t)},{default:n((()=>[t.checkedStatus===e.isCheckedStatus?(a(),s(f,{key:0,class:"da-tree-item__checkbox--icon da-tree-checkbox-checked"})):t.checkedStatus===e.halfCheckedStatus?(a(),s(f,{key:1,class:"da-tree-item__checkbox--icon da-tree-checkbox-indeterminate"})):(a(),s(f,{key:2,class:"da-tree-item__checkbox--icon da-tree-checkbox-outline"}))])),_:2},1032,["class","onClick"])):v("v-if",!0),!e.showCheckbox&&e.showRadioIcon?(a(),s(f,{key:3,class:d(["da-tree-item__checkbox",[`da-tree-item__checkbox--${e.checkboxPlacement}`,{"is--disabled":t.disabled}]]),onClick:l=>e.handleRadioChange(t)},{default:n((()=>[t.checkedStatus===e.isCheckedStatus?(a(),s(f,{key:0,class:"da-tree-item__checkbox--icon da-tree-radio-checked"})):t.checkedStatus===e.halfCheckedStatus?(a(),s(f,{key:1,class:"da-tree-item__checkbox--icon da-tree-radio-indeterminate"})):(a(),s(f,{key:2,class:"da-tree-item__checkbox--icon da-tree-radio-outline"}))])),_:2},1032,["class","onClick"])):v("v-if",!0),o(f,{class:d(["da-tree-item__label","da-tree-item__label--"+t.checkedStatus]),onClick:l=>e.handleLabelClick(t)},{default:n((()=>[i(j(t.label)+" ",1),t.append?(a(),s(m,{key:0,class:"da-tree-item__label--append"},{default:n((()=>[i(j(t.append),1)])),_:2},1024)):v("v-if",!0)])),_:2},1032,["class","onClick"])])),_:2},1032,["class","style"])))),128))])),_:1})])),_:1},8,["style"])}],["__scopeId","data-v-1a4f5108"]]),at=p({__name:"outline",props:{content:{default:""},quote:{default:()=>[]}},setup(e){const t=e,l=e=>e.replaceAll(/(`{3}[\s\S]*?`{3}(?:(?!.)))|(`{3}[\s\S]*)|(`[\s\S]*?`{1}?)|(`[\s\S]*)|(?:\[(?:(?:number )|\^)?([\d]{1,2})\])/g,""),i=(e,t=[])=>(Object.keys(e).forEach((a=>{const s={name:l(a),children:[]};t.push(s),R(e[a])?s.children=e[a].map((e=>({name:l(e)}))):i(e[a],s.children)})),t),c=g((()=>{try{let e=JSON.parse(t.content);return e=i(e),e}catch(e){return[]}}));return(e,t)=>{const l=V(K("u-icon"),te),i=r,u=V(K("u-collapse-item"),ge),d=V(K("u-collapse"),ye);return a(),s(d,null,{default:n((()=>[o(u,{open:""},{title:n((()=>[o(i,{class:"flex items-center"},{default:n((()=>[o(l,{width:"32rpx",name:"list-dot",color:"#333"}),H("span",{class:"text-2xl ml-1 font-bold"}," 大纲 ")])),_:1})])),default:n((()=>[o(lt,{showRadioIcon:!1,class:"leading-snug",data:_(c),labelField:"name",valueField:"name",defaultExpandAll:""},null,8,["data"])])),_:1})])),_:1})}}}),st=p({__name:"doc",props:{list:{default:()=>[]}},setup:e=>(t,l)=>{const c=V(K("zui-svg-icon"),qe),u=r,d=B,h=V(K("u-image"),ke),p=O,f=V(K("u-collapse-item"),ge),m=V(K("u-collapse"),ye);return a(),s(m,null,{default:n((()=>[o(f,{open:""},{title:n((()=>[o(u,{class:"flex items-center"},{default:n((()=>[o(c,{width:"32rpx",icon:"link",color:"#333"}),H("span",{class:"text-2xl ml-1 font-bold"}," 信息来源 ")])),_:1})])),default:n((()=>[o(u,null,{default:n((()=>[o(p,{"scroll-x":"",class:"h-[250rpx]"},{default:n((()=>[o(u,{class:"whitespace-nowrap inline-block"},{default:n((()=>[o(u,{class:"flex mx-[-8rpx]"},{default:n((()=>[(a(!0),y(b,null,M(e.list,((e,t)=>(a(),s(u,{class:"bg-page w-[500rpx] p-[30rpx] mx-[8rpx] rounded-[12rpx] text-main",key:e.seeMoreUrl,onClick:t=>{return l=e.seeMoreUrl,void window.open(l,"_blank");var l}},{default:n((()=>[o(d,{class:"font-bold text-sm line-clamp-1"},{default:n((()=>[o(d,{class:"text-primary"},{default:n((()=>[i(" 【"+j(e.index)+"】 ",1)])),_:2},1024),i(" "+j(e.title),1)])),_:2},1024),o(d,{class:"text-xs text-muted mt-[20rpx] line-clamp-2"},{default:n((()=>[i(j(e.snippet),1)])),_:2},1024),o(u,{class:"flex justify-end items-center mt-2"},{default:n((()=>[o(h,{src:e.image,alt:"",width:"24",height:"24",class:"flex"},{error:n((()=>[o(c,{width:"24rpx",icon:"link",color:"#333"})])),loading:n((()=>[])),_:2},1032,["src"]),o(u,{class:"text-xs text-tx-secondary ml-1"},{default:n((()=>[i(j(e.showName),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}}),nt=p({__name:"index",setup(e){const t=Ue();return J((()=>{t.abort(),t.$reset()})),(e,l)=>{const c=V(K("u-navbar"),de),u=r,d=V(K("uv-skeletons"),De),h=V(K("ua-markdown"),fe),p=O;return a(),s(u,{class:"h-full flex flex-col"},{default:n((()=>[o(c,{"back-text":"AI搜索","custom-back":()=>_(t).showResult=!1},null,8,["custom-back"]),o(u,{class:"p-[20rpx]"},{default:n((()=>[o($e)])),_:1}),o(u,{class:"flex-1 min-h-0"},{default:n((()=>[o(p,{class:"h-full bg-white","scroll-y":""},{default:n((()=>[o(u,{class:"px-[20rpx] pb-[20rpx]"},{default:n((()=>[_(t).result.status<_(Le).SUCCESS?(a(),s(Oe,{key:0,class:"pt-[20rpx]"})):v("v-if",!0),_(t).result.query?(a(),s(u,{key:1,class:"pt-[20rpx]"},{default:n((()=>[o(u,{class:"break-words text-[36rpx] font-medium"},{default:n((()=>[i(j(_(t).result.query),1)])),_:1}),o(u,{class:"pt-1 text-tx-secondary text-xs"},{default:n((()=>[i(" 内容由 AI 生成，不能保证真实 ")])),_:1})])),_:1})):v("v-if",!0),o(u,{class:"mt-[20rpx]"},{default:n((()=>[_(t).result.status<_(Le).SUMMARY?(a(),s(d,{key:0,loading:!0,skeleton:[{type:"line",num:5,gap:"20rpx"}]})):v("v-if",!0)])),_:1}),(a(!0),y(b,null,M(_(t).result.markdown,((e,l)=>(a(),s(u,{key:l,class:"mt-[20rpx]"},{default:n((()=>["markdown"===e.type||"expand_query"===e.type?(a(),s(u,{key:0},{default:n((()=>{var a;return[o(h,{"link-list":null==(a=_(t).result.markdown[l-1])?void 0:a.content,content:e.content},null,8,["link-list","content"])]})),_:2},1024)):v("v-if",!0)])),_:2},1024)))),128)),_(t).result.suggestion.type?(a(),s(u,{key:2,class:"mt-[20rpx]"},{default:n((()=>{var e;return[o(Te),(null==(e=_(t).result.suggestion.data)?void 0:e.length)?(a(),s(Ye,{key:0,class:"mt-[20rpx]",lists:_(t).result.suggestion.data},null,8,["lists"])):v("v-if",!0),_(t).result.outline.text?(a(),s(Je,{key:1,class:"mt-[20rpx]",content:_(t).result.outline.text,quote:_(t).result.outline.source_attributions},null,8,["content","quote"])):v("v-if",!0),_(t).result.outlineJson.text?(a(),s(at,{key:2,class:"mt-[20rpx]",content:_(t).result.outlineJson.text,quote:_(t).result.outlineJson.source_attributions},null,8,["content","quote"])):v("v-if",!0),_(t).result.search.length?(a(),s(st,{key:3,list:_(t).result.search},null,8,["list"])):v("v-if",!0)]})),_:1})):v("v-if",!0)])),_:1})])),_:1})])),_:1})])),_:1})}}}),ot=p({__name:"content",setup(e){const t=Ue();return m((()=>t.options.model),(e=>{e!==ze.STUDY&&(t.options.type=Re.ALL)}),{flush:"post",immediate:!0}),t.getConfig(),(e,l)=>{const i=V(K("u-empty"),G),c=r;return a(),s(c,{class:"flex flex-col min-h-0 h-full"},{default:n((()=>[_(t).config.status>0?(a(),y(b,{key:0},[_(t).showResult?(a(),s(nt,{key:0,class:"h-full flex flex-col"})):(a(),s(Be,{key:1,class:"h-full"}))],64)):(a(),s(c,{key:1,class:"h-full flex-1 flex p-4 justify-center items-center"},{default:n((()=>[o(i,{text:"功能未开启",mode:"list"})])),_:1}))])),_:1})}}}),it=X(p({__name:"ai_search",setup(e){const t=z(),s=P().query.id;return g((()=>`${Z.baseUrl}mobile/packages/pages/ai_search/ai_search?id=${s}&webview=1&token=${t.token}`)),(e,t)=>{const s=V(K("page-meta"),l),i=V(K("tabbar"),Q),c=r,u=V(K("floating-menu"),W);return a(),y(b,null,[o(s,{"page-style":e.$theme.pageStyle},null,8,["page-style"]),o(c,{class:"flex flex-col min-h-0 h-full"},{default:n((()=>[o(ot,{class:"flex-1"}),o(i)])),_:1}),v("    悬浮菜单    "),o(u)],64)}}}),[["__scopeId","data-v-3d345dca"]]);export{it as default};
