import{M as t,aO as i,o as e,c as h,w as s,O as o,m as n,n as d,p as a,j as g}from"./index-d6d2a33a.js";import{_ as u}from"./_plugin-vue_export-helper.1b428a4d.js";const c=u({name:"DragButton",props:{size:{type:Number,default:200},zIndex:{type:Number,default:999},xEdge:{type:Number,default:0},yEdge:{type:Number,default:50},autoDocking:{type:Boolean,default:!0}},data:()=>({top:500,left:300,width:0,height:0,moving:!0}),mounted(){this.init()},methods:{init(){const{windowWidth:e,windowHeight:h,windowTop:s}=t();this._windowWidth=e,this._windowHeight=h,s&&(this._windowHeight+=s);i().in(this).select("#drag-button").boundingClientRect((t=>{if(!t)return;const{width:i,height:e}=t;this.width=i,this.height=e,this._offsetWidth=i/2,this._offsetHeight=e/2,this.left=this._windowWidth-this.width-this.xEdge,this.top=this._windowHeight-this.height-this.yEdge})).exec()},touchmove({touches:t}){if(1!==t.length)return!1;this.moving=!0;const{clientX:i,clientY:e}=t[0];this.left=i-this._offsetWidth;const h=e-this._offsetHeight;this.top=h},touchend(){if(this.autoDocking){const t=this._windowWidth-this.width-this.xEdge;this.left<this._windowWidth/2-this._offsetWidth?this.left=this.xEdge:this.left=t}const t=this._windowHeight-this.height-this.yEdge;this.top<50?this.top=50:this.top>t&&(this.top=t),this.moving=!1}}},[["render",function(t,i,u,c,f,p){const r=g;return e(),h(r,{id:"drag-button",class:n(["drag-container",{transition:u.autoDocking&&!f.moving}]),style:d({left:`${f.left}px`,top:`${f.top}px`,width:`${u.size}rpx`,height:`${u.size}rpx`,zIndex:u.zIndex}),onTouchend:p.touchend,onTouchmove:a(p.touchmove,["stop","prevent"])},{default:s((()=>[o(t.$slots,"default",{},void 0,!0)])),_:3},8,["class","style","onTouchend","onTouchmove"])}],["__scopeId","data-v-e035b828"]]);export{c as _};
