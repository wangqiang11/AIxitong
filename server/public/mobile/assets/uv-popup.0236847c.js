var t,e,i,o,n,s,a,l;import{o as r,c,w as u,n as d,m as h,f as p,t as f,g as m,i as v,h as y,j as g,ai as b,k as w,F as S,l as k,bG as x,O as $,r as C,a as _,p as T,aD as z,b as I}from"./index-d6d2a33a.js";import{m as B,a as P}from"./mixin.91a2f735.js";import{_ as A}from"./_plugin-vue_export-helper.1b428a4d.js";const N={"uvicon-level":"e68f","uvicon-checkbox-mark":"e659","uvicon-folder":"e694","uvicon-movie":"e67c","uvicon-star-fill":"e61e","uvicon-star":"e618","uvicon-phone-fill":"e6ac","uvicon-phone":"e6ba","uvicon-apple-fill":"e635","uvicon-backspace":"e64d","uvicon-attach":"e640","uvicon-empty-data":"e671","uvicon-empty-address":"e68a","uvicon-empty-favor":"e662","uvicon-empty-car":"e657","uvicon-empty-order":"e66b","uvicon-empty-list":"e672","uvicon-empty-search":"e677","uvicon-empty-permission":"e67d","uvicon-empty-news":"e67e","uvicon-empty-history":"e685","uvicon-empty-coupon":"e69b","uvicon-empty-page":"e60e","uvicon-empty-wifi-off":"e6cc","uvicon-reload":"e627","uvicon-order":"e695","uvicon-server-man":"e601","uvicon-search":"e632","uvicon-more-dot-fill":"e66f","uvicon-scan":"e631","uvicon-map":"e665","uvicon-map-fill":"e6a8","uvicon-tags":"e621","uvicon-tags-fill":"e613","uvicon-eye":"e664","uvicon-eye-fill":"e697","uvicon-eye-off":"e69c","uvicon-eye-off-outline":"e688","uvicon-mic":"e66d","uvicon-mic-off":"e691","uvicon-calendar":"e65c","uvicon-trash":"e623","uvicon-trash-fill":"e6ce","uvicon-play-left":"e6bf","uvicon-play-right":"e6b3","uvicon-minus":"e614","uvicon-plus":"e625","uvicon-info-circle":"e69f","uvicon-info-circle-fill":"e6a7","uvicon-question-circle":"e622","uvicon-question-circle-fill":"e6bc","uvicon-close":"e65a","uvicon-checkmark":"e64a","uvicon-checkmark-circle":"e643","uvicon-checkmark-circle-fill":"e668","uvicon-setting":"e602","uvicon-setting-fill":"e6d0","uvicon-heart":"e6a2","uvicon-heart-fill":"e68b","uvicon-camera":"e642","uvicon-camera-fill":"e650","uvicon-more-circle":"e69e","uvicon-more-circle-fill":"e684","uvicon-chat":"e656","uvicon-chat-fill":"e63f","uvicon-bag":"e647","uvicon-error-circle":"e66e","uvicon-error-circle-fill":"e655","uvicon-close-circle":"e64e","uvicon-close-circle-fill":"e666","uvicon-share":"e629","uvicon-share-fill":"e6bb","uvicon-share-square":"e6c4","uvicon-shopping-cart":"e6cb","uvicon-shopping-cart-fill":"e630","uvicon-bell":"e651","uvicon-bell-fill":"e604","uvicon-list":"e690","uvicon-list-dot":"e6a9","uvicon-zhifubao-circle-fill":"e617","uvicon-weixin-circle-fill":"e6cd","uvicon-weixin-fill":"e620","uvicon-qq-fill":"e608","uvicon-qq-circle-fill":"e6b9","uvicon-moments-circel-fill":"e6c2","uvicon-moments":"e6a0","uvicon-car":"e64f","uvicon-car-fill":"e648","uvicon-warning-fill":"e6c7","uvicon-warning":"e6c1","uvicon-clock-fill":"e64b","uvicon-clock":"e66c","uvicon-edit-pen":"e65d","uvicon-edit-pen-fill":"e679","uvicon-email":"e673","uvicon-email-fill":"e683","uvicon-minus-circle":"e6a5","uvicon-plus-circle":"e603","uvicon-plus-circle-fill":"e611","uvicon-file-text":"e687","uvicon-file-text-fill":"e67f","uvicon-pushpin":"e6d1","uvicon-pushpin-fill":"e6b6","uvicon-grid":"e68c","uvicon-grid-fill":"e698","uvicon-play-circle":"e6af","uvicon-play-circle-fill":"e62a","uvicon-pause-circle-fill":"e60c","uvicon-pause":"e61c","uvicon-pause-circle":"e696","uvicon-gift-fill":"e6b0","uvicon-gift":"e680","uvicon-kefu-ermai":"e660","uvicon-server-fill":"e610","uvicon-coupon-fill":"e64c","uvicon-coupon":"e65f","uvicon-integral":"e693","uvicon-integral-fill":"e6b1","uvicon-home-fill":"e68e","uvicon-home":"e67b","uvicon-account":"e63a","uvicon-account-fill":"e653","uvicon-thumb-down-fill":"e628","uvicon-thumb-down":"e60a","uvicon-thumb-up":"e612","uvicon-thumb-up-fill":"e62c","uvicon-lock-fill":"e6a6","uvicon-lock-open":"e68d","uvicon-lock-opened-fill":"e6a1","uvicon-lock":"e69d","uvicon-red-packet":"e6c3","uvicon-photo-fill":"e6b4","uvicon-photo":"e60d","uvicon-volume-off-fill":"e6c8","uvicon-volume-off":"e6bd","uvicon-volume-fill":"e624","uvicon-volume":"e605","uvicon-download":"e670","uvicon-arrow-up-fill":"e636","uvicon-arrow-down-fill":"e638","uvicon-play-left-fill":"e6ae","uvicon-play-right-fill":"e6ad","uvicon-arrow-downward":"e634","uvicon-arrow-leftward":"e63b","uvicon-arrow-rightward":"e644","uvicon-arrow-upward":"e641","uvicon-arrow-down":"e63e","uvicon-arrow-right":"e63c","uvicon-arrow-left":"e646","uvicon-arrow-up":"e633","uvicon-skip-back-left":"e6c5","uvicon-skip-forward-right":"e61f","uvicon-arrow-left-double":"e637","uvicon-man":"e675","uvicon-woman":"e626","uvicon-en":"e6b8","uvicon-twitte":"e607","uvicon-twitter-circle-fill":"e6cf"};const U=A({name:"uv-icon",emits:["click"],mixins:[B,P,{props:{name:{type:String,default:""},color:{type:String,default:"#606266"},size:{type:[String,Number],default:"16px"},bold:{type:Boolean,default:!1},index:{type:[String,Number],default:null},hoverClass:{type:String,default:""},customPrefix:{type:String,default:"uvicon"},label:{type:[String,Number],default:""},labelPos:{type:String,default:"right"},labelSize:{type:[String,Number],default:"15px"},labelColor:{type:String,default:"#606266"},space:{type:[String,Number],default:"3px"},imgMode:{type:String,default:"aspectFit"},width:{type:[String,Number],default:""},height:{type:[String,Number],default:""},top:{type:[String,Number],default:0},stop:{type:Boolean,default:!1},...null==(e=null==(t=uni.$uv)?void 0:t.props)?void 0:e.icon}}],data:()=>({colorType:["primary","success","info","error","warning"]}),computed:{uClasses(){let t=[];return t.push(this.customPrefix),t.push(this.customPrefix+"-"+this.name),this.color&&this.colorType.includes(this.color)&&t.push("uv-icon__icon--"+this.color),t},iconStyle(){let t={};return t={fontSize:this.$uv.addUnit(this.size),lineHeight:this.$uv.addUnit(this.size),fontWeight:this.bold?"bold":"normal",top:this.$uv.addUnit(this.top)},this.color&&!this.colorType.includes(this.color)&&(t.color=this.color),t},isImg(){const t=this.name.indexOf("data:")>-1&&this.name.indexOf("base64")>-1;return-1!==this.name.indexOf("/")||t},imgStyle(){let t={};return t.width=this.width?this.$uv.addUnit(this.width):this.$uv.addUnit(this.size),t.height=this.height?this.$uv.addUnit(this.height):this.$uv.addUnit(this.size),t},icon(){const t=N["uvicon-"+this.name];return t?unescape(`%u${t}`):["uvicon"].indexOf(this.customPrefix)>-1?this.name:""}},methods:{clickHandler(t){this.$emit("click",this.index),this.stop&&this.preventEvent(t)}}},[["render",function(t,e,i,o,n,s){const a=v,l=y,b=g;return r(),c(b,{class:h(["uv-icon",["uv-icon--"+t.labelPos]]),onClick:s.clickHandler},{default:u((()=>[s.isImg?(r(),c(a,{key:0,class:"uv-icon__img",src:t.name,mode:t.imgMode,style:d([s.imgStyle,t.$uv.addStyle(t.customStyle)])},null,8,["src","mode","style"])):(r(),c(l,{key:1,class:h(["uv-icon__icon",s.uClasses]),style:d([s.iconStyle,t.$uv.addStyle(t.customStyle)]),"hover-class":t.hoverClass},{default:u((()=>[p(f(s.icon),1)])),_:1},8,["class","style","hover-class"])),m(' 这里进行空字符串判断，如果仅仅是v-if="label"，可能会出现传递0的时候，结果也无法显示 '),""!==t.label?(r(),c(l,{key:2,class:"uv-icon__label",style:d({color:t.labelColor,fontSize:t.$uv.addUnit(t.labelSize),marginLeft:"right"==t.labelPos?t.$uv.addUnit(t.space):0,marginTop:"bottom"==t.labelPos?t.$uv.addUnit(t.space):0,marginRight:"left"==t.labelPos?t.$uv.addUnit(t.space):0,marginBottom:"top"==t.labelPos?t.$uv.addUnit(t.space):0})},{default:u((()=>[p(f(t.label),1)])),_:1},8,["style"])):m("v-if",!0)])),_:1},8,["onClick","class"])}],["__scopeId","data-v-2421641b"]]);function O(t,e=!0){if((t=String(t).toLowerCase())&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t)){if(4===t.length){let e="#";for(let i=1;i<4;i+=1)e+=t.slice(i,i+1).concat(t.slice(i,i+1));t=e}const i=[];for(let e=1;e<7;e+=2)i.push(parseInt(`0x${t.slice(e,e+2)}`));return e?`rgb(${i[0]},${i[1]},${i[2]})`:i}if(/^(rgb|RGB)/.test(t)){return t.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(",").map((t=>Number(t)))}return t}function D(t){const e=t;if(/^(rgb|RGB)/.test(e)){const t=e.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(",");let i="#";for(let e=0;e<t.length;e++){let o=Number(t[e]).toString(16);o=1==String(o).length?`0${o}`:o,"0"===o&&(o+=o),i+=o}return 7!==i.length&&(i=e),i}if(!/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e))return e;{const t=e.replace(/#/,"").split("");if(6===t.length)return e;if(3===t.length){let e="#";for(let i=0;i<t.length;i+=1)e+=t[i]+t[i];return e}}}const R=A({name:"uv-loading-icon",mixins:[B,P,{props:{show:{type:Boolean,default:!0},color:{type:String,default:"#909193"},textColor:{type:String,default:"#909193"},vertical:{type:Boolean,default:!1},mode:{type:String,default:"spinner"},size:{type:[String,Number],default:24},textSize:{type:[String,Number],default:15},textStyle:{type:Object,default:()=>({})},text:{type:[String,Number],default:""},timingFunction:{type:String,default:"linear"},duration:{type:[String,Number],default:1200},inactiveColor:{type:String,default:""},...null==(o=null==(i=uni.$uv)?void 0:i.props)?void 0:o.loadingIcon}}],data:()=>({array12:Array.from({length:12}),aniAngel:360,webviewHide:!1,loading:!1}),computed:{otherBorderColor(){const t=function(t="rgb(0, 0, 0)",e="rgb(255, 255, 255)",i=10){const o=O(t,!1),n=o[0],s=o[1],a=o[2],l=O(e,!1),r=(l[0]-n)/i,c=(l[1]-s)/i,u=(l[2]-a)/i,d=[];for(let h=0;h<i;h++){let o=D(`rgb(${Math.round(r*h+n)},${Math.round(c*h+s)},${Math.round(u*h+a)})`);0===h&&(o=D(t)),h===i-1&&(o=D(e)),d.push(o)}return d}(this.color,"#ffffff",100)[80];return"circle"===this.mode?this.inactiveColor?this.inactiveColor:t:"transparent"}},watch:{show(t){}},mounted(){this.init()},methods:{init(){setTimeout((()=>{}),20)},addEventListenerToWebview(){const t=b(),e=t[t.length-1].$getAppWebview();e.addEventListener("hide",(()=>{this.webviewHide=!0})),e.addEventListener("show",(()=>{this.webviewHide=!1}))}}},[["render",function(t,e,i,o,n,s){const a=g,l=y;return t.show?(r(),c(a,{key:0,class:h(["uv-loading-icon",[t.vertical&&"uv-loading-icon--vertical"]]),style:d([t.$uv.addStyle(t.customStyle)])},{default:u((()=>[n.webviewHide?m("v-if",!0):(r(),c(a,{key:0,class:h(["uv-loading-icon__spinner",[`uv-loading-icon__spinner--${t.mode}`]]),ref:"ani",style:d({color:t.color,width:t.$uv.addUnit(t.size),height:t.$uv.addUnit(t.size),borderTopColor:t.color,borderBottomColor:s.otherBorderColor,borderLeftColor:s.otherBorderColor,borderRightColor:s.otherBorderColor,"animation-duration":`${t.duration}ms`,"animation-timing-function":"semicircle"===t.mode||"circle"===t.mode?t.timingFunction:""})},{default:u((()=>["spinner"===t.mode?(r(!0),w(S,{key:0},k(n.array12,((t,e)=>(r(),c(a,{key:e,class:"uv-loading-icon__dot"})))),128)):m("v-if",!0)])),_:1},8,["class","style"])),t.text?(r(),c(l,{key:1,class:"uv-loading-icon__text",style:d([{fontSize:t.$uv.addUnit(t.textSize),color:t.textColor},t.$uv.addStyle(t.textStyle)])},{default:u((()=>[p(f(t.text),1)])),_:1},8,["style"])):m("v-if",!0)])),_:1},8,["style","class"])):m("v-if",!0)}],["__scopeId","data-v-da8711c2"]]);class E{constructor(t,e){this.options=t,this.animation=x({...t}),this.currentStepAnimates={},this.next=0,this.$=e}_nvuePushAnimates(t,e){let i=this.currentStepAnimates[this.next],o={};if(o=i||{styles:{},config:{}},H.includes(t)){o.styles.transform||(o.styles.transform="");let i="";"rotate"===t&&(i="deg"),o.styles.transform+=`${t}(${e+i}) `}else o.styles[t]=`${e}`;this.currentStepAnimates[this.next]=o}_animateRun(t={},e={}){let i=this.$.$refs.ani.ref;if(i)return new Promise(((o,n)=>{nvueAnimation.transition(i,{styles:t,...e},(t=>{o()}))}))}_nvueNextAnimate(t,e=0,i){let o=t[e];if(o){let{styles:n,config:s}=o;this._animateRun(n,s).then((()=>{e+=1,this._nvueNextAnimate(t,e,i)}))}else this.currentStepAnimates={},"function"==typeof i&&i(),this.isEnd=!0}step(t={}){return this.animation.step(t),this}run(t){this.$.animationData=this.animation.export(),this.$.timer=setTimeout((()=>{"function"==typeof t&&t()}),this.$.durationTime)}}const H=["matrix","matrix3d","rotate","rotate3d","rotateX","rotateY","rotateZ","scale","scale3d","scaleX","scaleY","scaleZ","skew","skewX","skewY","translate","translate3d","translateX","translateY","translateZ"];function L(t,e){if(e)return clearTimeout(e.timer),new E(t,e)}H.concat(["opacity","backgroundColor"],["width","height","left","right","top","bottom"]).forEach((t=>{E.prototype[t]=function(...e){return this.animation[t](...e),this}}));const M=A({name:"uv-transition",mixins:[B,P],emits:["click","change"],props:{show:{type:Boolean,default:!1},mode:{type:[Array,String,null],default:()=>"fade"},duration:{type:[String,Number],default:300},timingFunction:{type:String,default:"ease-out"},customClass:{type:String,default:""},cellChild:{type:Boolean,default:!1}},data:()=>({isShow:!1,transform:"",opacity:1,animationData:{},durationTime:300,config:{}}),watch:{show:{handler(t){t?this.open():this.isShow&&this.close()},immediate:!0}},computed:{transformStyles(){const t={transform:this.transform,opacity:this.opacity,...this.$uv.addStyle(this.customStyle),"transition-duration":this.duration/1e3+"s"};return this.$uv.addStyle(t,"string")}},created(){this.config={duration:this.duration,timingFunction:this.timingFunction,transformOrigin:"50% 50%",delay:0},this.durationTime=this.duration},methods:{init(t={}){t.duration&&(this.durationTime=t.duration),this.animation=L(Object.assign(this.config,t),this)},onClick(){this.$emit("click",{detail:this.isShow})},step(t,e={}){if(this.animation){for(let e in t)try{"object"==typeof t[e]?this.animation[e](...t[e]):this.animation[e](t[e])}catch(i){console.error(`方法 ${e} 不存在`)}return this.animation.step(e),this}},run(t){this.animation&&this.animation.run(t)},open(){clearTimeout(this.timer),this.transform="",this.isShow=!0;let{opacity:t,transform:e}=this.styleInit(!1);void 0!==t&&(this.opacity=t),this.transform=e,this.$nextTick((()=>{this.timer=setTimeout((()=>{this.animation=L(this.config,this),this.tranfromInit(!1).step(),this.animation.run(),this.opacity=1,this.$emit("change",{detail:this.isShow}),this.transform=""}),20)}))},close(t){this.animation&&this.tranfromInit(!0).step().run((()=>{this.isShow=!1,this.animationData=null,this.animation=null;let{opacity:t,transform:e}=this.styleInit(!1);this.opacity=t||1,this.transform=e,this.$emit("change",{detail:this.isShow})}))},styleInit(t){let e={transform:""},i=(t,i)=>{"fade"===i?e.opacity=this.animationType(t)[i]:e.transform+=this.animationType(t)[i]+" "};return"string"==typeof this.mode?i(t,this.mode):this.mode.forEach((e=>{i(t,e)})),e},tranfromInit(t){let e=(t,e)=>{let i=null;"fade"===e?i=t?0:1:(i=t?"-100%":"0","zoom-in"===e&&(i=t?.8:1),"zoom-out"===e&&(i=t?1.2:1),"slide-right"===e&&(i=t?"100%":"0"),"slide-bottom"===e&&(i=t?"100%":"0")),this.animation[this.animationMode()[e]](i)};return"string"==typeof this.mode?e(t,this.mode):this.mode.forEach((i=>{e(t,i)})),this.animation},animationType:t=>({fade:t?1:0,"slide-top":`translateY(${t?"0":"-100%"})`,"slide-right":`translateX(${t?"0":"100%"})`,"slide-bottom":`translateY(${t?"0":"100%"})`,"slide-left":`translateX(${t?"0":"-100%"})`,"zoom-in":`scaleX(${t?1:.8}) scaleY(${t?1:.8})`,"zoom-out":`scaleX(${t?1:1.2}) scaleY(${t?1:1.2})`}),animationMode:()=>({fade:"opacity","slide-top":"translateY","slide-right":"translateX","slide-bottom":"translateY","slide-left":"translateX","zoom-in":"scale","zoom-out":"scale"}),toLine:t=>t.replace(/([A-Z])/g,"-$1").toLowerCase()}},[["render",function(t,e,i,o,n,s){const a=g;return n.isShow?(r(),c(a,{key:0,ref:"ani",animation:n.animationData,class:h(i.customClass),style:d(s.transformStyles),onClick:s.onClick},{default:u((()=>[$(t.$slots,"default")])),_:3},8,["animation","class","style","onClick"])):m("v-if",!0)}]]);const j=A({name:"uv-overlay",emits:["click"],mixins:[B,P,{props:{show:{type:Boolean,default:!1},zIndex:{type:[String,Number],default:10070},duration:{type:[String,Number],default:300},opacity:{type:[String,Number],default:.5},...null==(s=null==(n=uni.$uv)?void 0:n.props)?void 0:s.overlay}}],watch:{show(t){document.querySelector("body").style.overflow=t?"hidden":""}},computed:{overlayStyle(){const t={position:"fixed",top:0,left:0,right:0,zIndex:this.zIndex,bottom:0,"background-color":`rgba(0, 0, 0, ${this.opacity})`};return this.$uv.deepMerge(t,this.$uv.addStyle(this.customStyle))}},methods:{clickHandler(){this.$emit("click")},clear(){}}},[["render",function(t,e,i,o,n,s){const a=C(_("uv-transition"),M);return r(),c(a,{show:t.show,mode:"fade","custom-class":"uv-overlay",duration:t.duration,"custom-style":s.overlayStyle,onClick:s.clickHandler,onTouchmove:T(s.clear,["stop","prevent"])},{default:u((()=>[$(t.$slots,"default",{},void 0,!0)])),_:3},8,["show","duration","custom-style","onClick","onTouchmove"])}],["__scopeId","data-v-15cc9084"]]);const X=A({name:"uv-status-bar",mixins:[B,P,{props:{bgColor:{type:String,default:"transparent"}}}],data:()=>({}),computed:{style(){const t={};return t.height=this.$uv.addUnit(this.$uv.sys().statusBarHeight,"px"),this.bgColor&&(this.bgColor.indexOf("gradient")>-1?t.backgroundImage=this.bgColor:t.background=this.bgColor),this.$uv.deepMerge(t,this.$uv.addStyle(this.customStyle))}}},[["render",function(t,e,i,o,n,s){const a=g;return r(),c(a,{style:d([s.style]),class:"uv-status-bar"},{default:u((()=>[$(t.$slots,"default",{},void 0,!0)])),_:3},8,["style"])}],["__scopeId","data-v-1f55ed6c"]]);const Y=A({name:"uv-safe-bottom",mixins:[B,P],data:()=>({safeAreaBottomHeight:0,isNvue:!1}),computed:{style(){return this.$uv.deepMerge({},this.$uv.addStyle(this.customStyle))}},mounted(){}},[["render",function(t,e,i,o,n,s){const a=g;return r(),c(a,{class:h(["uv-safe-bottom",[!n.isNvue&&"uv-safe-area-inset-bottom"]]),style:d([s.style])},null,8,["style","class"])}],["__scopeId","data-v-f58b4803"]]);const q=A({name:"uv-popup",components:{keypress:{name:"Keypress",props:{disable:{type:Boolean,default:!1}},mounted(){const t={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]};document.addEventListener("keyup",(e=>{if(this.disable)return;const i=Object.keys(t).find((i=>{const o=e.key,n=t[i];return n===o||Array.isArray(n)&&n.includes(o)}));i&&setTimeout((()=>{this.$emit(i,{})}),0)}))},render:()=>{}}},mixins:[B,P],emits:["change","maskClick"],props:{mode:{type:String,default:"center"},duration:{type:[String,Number],default:300},zIndex:{type:[String,Number],default:997},bgColor:{type:String,default:"#ffffff"},safeArea:{type:Boolean,default:!0},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},overlayOpacity:{type:[Number,String],default:.4},overlayStyle:{type:[Object,String],default:""},safeAreaInsetBottom:{type:Boolean,default:!0},safeAreaInsetTop:{type:Boolean,default:!1},closeable:{type:Boolean,default:!1},closeIconPos:{type:String,default:"top-right"},zoom:{type:Boolean,default:!0},round:{type:[Number,String],default:0},...null==(l=null==(a=uni.$uv)?void 0:a.props)?void 0:l.popup},watch:{type:{handler:function(t){this.config[t]&&this[this.config[t]](!0)},immediate:!0},isDesktop:{handler:function(t){this.config[t]&&this[this.config[this.mode]](!0)},immediate:!0},showPopup(t){document.getElementsByTagName("body")[0].style.overflow=t?"hidden":"visible"}},data(){return{ani:[],showPopup:!1,showTrans:!1,popupWidth:0,popupHeight:0,config:{top:"top",bottom:"bottom",center:"center",left:"left",right:"right",message:"top",dialog:"center",share:"bottom"},transitionStyle:{position:"fixed",left:0,right:0},maskShow:!0,mkclick:!0,popupClass:this.isDesktop?"fixforpc-top":"top",direction:""}},computed:{isDesktop(){return this.popupWidth>=500&&this.popupHeight>=500},bg(){return""===this.bgColor||"none"===this.bgColor||this.$uv.getPx(this.round)>0?"transparent":this.bgColor},contentStyle(){const t={};if(this.bgColor&&(t.backgroundColor=this.bg),this.round){const e=this.$uv.addUnit(this.round),i=this.direction?this.direction:this.mode;t.backgroundColor=this.bgColor,"top"===i?(t.borderBottomLeftRadius=e,t.borderBottomRightRadius=e):"bottom"===i?(t.borderTopLeftRadius=e,t.borderTopRightRadius=e):"center"===i&&(t.borderRadius=e)}return this.$uv.deepMerge(t,this.$uv.addStyle(this.customStyle))}},unmounted(){this.setH5Visible()},created(){this.messageChild=null,this.clearPropagation=!1},methods:{setH5Visible(){document.getElementsByTagName("body")[0].style.overflow="visible"},closeMask(){this.maskShow=!1},clear(t){t.stopPropagation(),this.clearPropagation=!0},open(t){if(this.showPopup)return;if(t&&-1!==["top","center","bottom","left","right","message","dialog","share"].indexOf(t)?this.direction=t:t=this.mode,!this.config[t])return this.$uv.error(`缺少类型：${t}`);this[this.config[t]](),this.$emit("change",{show:!0,type:t})},close(t){this.showTrans=!1,this.$emit("change",{show:!1,type:this.mode}),clearTimeout(this.timer),this.timer=setTimeout((()=>{this.showPopup=!1}),300)},touchstart(){this.clearPropagation=!1},onTap(){this.clearPropagation?this.clearPropagation=!1:(this.$emit("maskClick"),this.closeOnClickOverlay&&this.close())},top(t){this.popupClass=this.isDesktop?"fixforpc-top":"top",this.ani=["slide-top"],this.transitionStyle={position:"fixed",zIndex:this.zIndex,left:0,right:0,backgroundColor:this.bg},t||(this.showPopup=!0,this.showTrans=!0,this.$nextTick((()=>{this.messageChild&&"message"===this.mode&&this.messageChild.timerClose()})))},bottom(t){this.popupClass="bottom",this.ani=["slide-bottom"],this.transitionStyle={position:"fixed",zIndex:this.zIndex,left:0,right:0,bottom:0,backgroundColor:this.bg},t||(this.showPopup=!0,this.showTrans=!0)},center(t){this.popupClass="center",this.ani=this.zoom?["zoom-in","fade"]:["fade"],this.transitionStyle={position:"fixed",zIndex:this.zIndex,display:"flex",flexDirection:"column",bottom:0,left:0,right:0,top:0,justifyContent:"center",alignItems:"center"},t||(this.showPopup=!0,this.showTrans=!0)},left(t){this.popupClass="left",this.ani=["slide-left"],this.transitionStyle={position:"fixed",zIndex:this.zIndex,left:0,bottom:0,top:0,backgroundColor:this.bg,display:"flex",flexDirection:"column"},t||(this.showPopup=!0,this.showTrans=!0)},right(t){this.popupClass="right",this.ani=["slide-right"],this.transitionStyle={position:"fixed",zIndex:this.zIndex,bottom:0,right:0,top:0,backgroundColor:this.bg,display:"flex",flexDirection:"column"},t||(this.showPopup=!0,this.showTrans=!0)}}},[["render",function(t,e,i,o,n,s){const a=C(_("uv-overlay"),j),l=C(_("uv-status-bar"),X),p=C(_("uv-safe-bottom"),Y),f=C(_("uv-icon"),U),v=g,y=C(_("uv-transition"),M),b=z("keypress");return n.showPopup?(r(),c(v,{key:0,class:h(["uv-popup",[n.popupClass,s.isDesktop?"fixforpc-z-index":""]]),style:d([{zIndex:i.zIndex}])},{default:u((()=>[I(v,{onTouchstart:s.touchstart},{default:u((()=>[m(" 遮罩层 "),n.maskShow&&i.overlay?(r(),c(a,{key:"1",show:n.showTrans,duration:i.duration,"custom-style":i.overlayStyle,opacity:i.overlayOpacity,zIndex:i.zIndex,onClick:s.onTap},null,8,["show","duration","custom-style","opacity","zIndex","onClick"])):m("v-if",!0),I(y,{key:"2",mode:n.ani,name:"content","custom-style":n.transitionStyle,duration:i.duration,show:n.showTrans,onClick:s.onTap},{default:u((()=>[I(v,{class:h(["uv-popup__content",[n.popupClass]]),style:d([s.contentStyle]),onClick:s.clear},{default:u((()=>[i.safeAreaInsetTop?(r(),c(l,{key:0})):m("v-if",!0),$(t.$slots,"default",{},void 0,!0),i.safeAreaInsetBottom?(r(),c(p,{key:1})):m("v-if",!0),i.closeable?(r(),c(v,{key:2,onClick:T(s.close,["stop"]),class:h(["uv-popup__content__close",["uv-popup__content__close--"+i.closeIconPos]]),"hover-class":"uv-popup__content__close--hover","hover-stay-time":"150"},{default:u((()=>[I(f,{name:"close",color:"#909399",size:"18",bold:""})])),_:1},8,["onClick","class"])):m("v-if",!0)])),_:3},8,["style","class","onClick"])])),_:3},8,["mode","custom-style","duration","show","onClick"])])),_:3},8,["onTouchstart"]),n.maskShow?(r(),c(b,{key:0,onEsc:s.onTap},null,8,["onEsc"])):m("v-if",!0)])),_:3},8,["class","style"])):m("v-if",!0)}],["__scopeId","data-v-1350f58f"]]);export{q as _,U as a,R as b};
