import{d as e,u as t,r as s,a,o as l,c as o,w as r,b as n,f as i,t as p,e as c,g as d,k as m,F as x,B as u,p as f,j as _}from"./index-d6d2a33a.js";import{_ as y}from"./u-tag.fd761889.js";import{_ as k}from"./u-read-more.48be6c35.js";import{_ as w}from"./u-loading.d153dd1a.js";import{_ as g}from"./u-icon.992584aa.js";import{u as h,T as C}from"./text-item.bd4ac6fd.js";import{j}from"./chat.d9a8f946.js";import{_ as v}from"./_plugin-vue_export-helper.1b428a4d.js";const b=v(e({__name:"creation-history-item",props:{title:{default:""},time:{default:""},content:{default:""},overflow:{type:Boolean,default:!1},showCopy:{type:Boolean,default:!0},showRewrite:{type:Boolean,default:!1},showVoice:{type:Boolean,default:!1},recordId:null,index:null,modelName:{default:""}},emits:["click-title","copy","delete","rewrite"],setup(e,{emit:v}){const b=e,B=t(),{play:I,audioPlaying:N,pause:R,audioLoading:z}=h({api:j,dataTransform:e=>e.file,params:{records_id:b.recordId,content:b.index,type:1}});return(t,h)=>{const j=_,b=s(a("u-tag"),y),T=s(a("u-read-more"),k),V=s(a("u-loading"),w),F=s(a("u-icon"),g);return l(),o(j,{class:"create-record-item"},{default:r((()=>[n(j,{class:"flex items-center"},{default:r((()=>[n(j,{class:"text-lg line-clamp-1 font-medium",onClick:h[0]||(h[0]=t=>v("click-title",e.title))},{default:r((()=>[i(p(e.title),1)])),_:1})])),_:1}),n(j,{class:"flex items-center text-xs"},{default:r((()=>[n(j,{class:"text-muted mt-[10rpx] mr-auto"},{default:r((()=>[i(p(e.time)+" ",1),e.modelName&&c(B).getChatConfig.is_show_model?(l(),o(b,{key:0,class:"ml-2",size:"mini",text:e.modelName,style:{"--color-success":"#67c23a","--color-success-light-3":"transparent","--color-success-light-9":"#f0f9eb"},type:"success"},null,8,["text"])):d("v-if",!0)])),_:1})])),_:1}),n(j,{class:"mt-[10px] bg-page p-[20rpx] rounded-[14rpx]"},{default:r((()=>[n(j,null,{default:r((()=>[e.overflow?(l(),o(T,{key:0,toggle:!0},{default:r((()=>[n(j,{class:"indent-0 text-main"},{default:r((()=>[n(C,{"is-markdown":!!c(B).getChatConfig.is_markdown,content:e.content},null,8,["is-markdown","content"])])),_:1})])),_:1})):(l(),o(j,{key:1},{default:r((()=>[n(C,{"is-markdown":!!c(B).getChatConfig.is_markdown,content:e.content},null,8,["is-markdown","content"])])),_:1}))])),_:1}),n(j,{class:"flex justify-end"},{default:r((()=>[e.showVoice?(l(),m(x,{key:0},[c(N)?(l(),o(j,{key:1,class:"mt-[20rpx] mr-[20rpx] flex bg-white px-[20rpx] py-[10rpx] rounded-full text-content",onClick:c(R)},{default:r((()=>[n(F,{name:"volume"}),u("span",{class:"text-xs ml-[10rpx]"},"停止")])),_:1},8,["onClick"])):(l(),o(j,{key:0,class:"mt-[20rpx] mr-[20rpx] flex bg-white px-[20rpx] py-[10rpx] rounded-full text-content",onClick:c(I)},{default:r((()=>[c(z)?(l(),o(V,{key:0,mode:"flower",size:26})):(l(),o(F,{key:1,name:"volume"})),u("span",{class:"text-xs ml-[10rpx]"},"朗读")])),_:1},8,["onClick"]))],64)):d("v-if",!0),e.showRewrite?(l(),o(j,{key:1,class:"mt-[20rpx] mr-[20rpx] flex bg-white px-[20rpx] py-[10rpx] rounded-full text-content",onClick:h[1]||(h[1]=f((e=>v("rewrite")),["stop"]))},{default:r((()=>[n(F,{name:"edit-pen",class:"mr-[8rpx]"}),u("span",{class:"text-xs ml-[10rpx]"},"重写")])),_:1})):d("v-if",!0),e.showCopy?(l(),o(j,{key:2,class:"mt-[20rpx] mr-[20rpx] flex bg-white px-[20rpx] py-[10rpx] rounded-full text-content",onClick:h[2]||(h[2]=f((t=>v("copy",e.content)),["stop"]))},{default:r((()=>[n(F,{name:"file-text"}),u("span",{class:"text-xs ml-[10rpx]"},"复制")])),_:1})):d("v-if",!0),e.showRewrite?(l(),o(j,{key:3,class:"mt-[20rpx] flex bg-white px-[20rpx] py-[10rpx] rounded-full text-content",onClick:h[3]||(h[3]=f((t=>v("delete",e.recordId)),["stop"]))},{default:r((()=>[n(F,{name:"trash"}),u("span",{class:"text-xs ml-[10rpx]"},"删除")])),_:1})):d("v-if",!0)])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-a298b82a"]]);export{b as C};
