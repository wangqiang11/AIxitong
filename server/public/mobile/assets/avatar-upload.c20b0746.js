import{d as e,z as a,C as o,bn as s,bo as t,aF as r,bp as l,r as u,a as d,o as n,c as p,w as i,n as c,e as m,O as f,b as h,f as v,i as y,j as b,a8 as x}from"./index-d6d2a33a.js";import{_}from"./u-icon.992584aa.js";import{l as g}from"./lodash.2de268df.js";import{_ as j}from"./_plugin-vue_export-helper.1b428a4d.js";const w=j(e({__name:"avatar-upload",props:{modelValue:{type:String},size:{type:[String,Number],default:140},round:{type:[Boolean,String,Number],default:!1},border:{type:Boolean,default:!0}},emits:["update:modelValue","upload"],setup(e,{emit:j}){const w=e,C=a(),V=o((()=>{const e=s(w.size);return{width:e,height:e,borderRadius:g.isBoolean(w.round)?w.round?"50%":"":s(w.round)}})),k=async e=>{C.navigateTo({path:"/uni_modules/vk-uview-ui/components/u-avatar-cropper/u-avatar-cropper?destWidth=300&rectWidth=200&fileType=jpg"})};return t("uAvatarCropper",(e=>{(async e=>{j("update:modelValue",e),j("upload",e)})(e)})),r((()=>{l("uAvatarCropper")})),(a,o)=>{const s=y,t=u(d("u-icon"),_),r=b,l=x;return n(),p(l,{class:"avatar-upload p-0 m-0 rounded inline-flex flex-col items-center","hover-class":"none","open-type":"chooseAvatar",onClick:k,onChooseavatar:k},{default:i((()=>[e.modelValue?(n(),p(s,{key:0,style:c(m(V)),class:"w-full h-full",mode:"heightFix",src:e.modelValue},null,8,["style","src"])):f(a.$slots,"default",{key:1},(()=>[h(r,{style:c(m(V)),class:"border border-dotted border-light flex w-full h-full flex-col items-center justify-center text-muted text-xs box-border rounded"},{default:i((()=>[h(t,{name:"plus",size:36}),v(" 添加图片 ")])),_:1},8,["style"])]),!0),f(a.$slots,"footer",{},void 0,!0)])),_:3})}}}),[["__scopeId","data-v-d70e9229"]]);export{w as _};
