import{r as t}from"./katex.37f36714.js";var e;function n(t){return(e=e||document.createElement("textarea")).innerHTML="&"+t+";",e.value}var r=Object.prototype.hasOwnProperty;function i(t){return[].slice.call(arguments,1).forEach((function(e){if(e){if("object"!=typeof e)throw new TypeError(e+"must be object");Object.keys(e).forEach((function(n){t[n]=e[n]}))}})),t}var o=/\\([\\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function s(t){return t.indexOf("\\")<0?t:t.replace(o,"$1")}function a(t){return!(t>=55296&&t<=57343)&&(!(t>=64976&&t<=65007)&&(!!(65535&~t&&65534!=(65535&t))&&(!(t>=0&&t<=8)&&(11!==t&&(!(t>=14&&t<=31)&&(!(t>=127&&t<=159)&&!(t>1114111)))))))}function l(t){if(t>65535){var e=55296+((t-=65536)>>10),n=56320+(1023&t);return String.fromCharCode(e,n)}return String.fromCharCode(t)}var c=/&([a-z#][a-z0-9]{1,31});/gi,u=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i;function h(t,e){var r=0,i=n(e);return e!==i?i:35===e.charCodeAt(0)&&u.test(e)&&a(r="x"===e[1].toLowerCase()?parseInt(e.slice(2),16):parseInt(e.slice(1),10))?l(r):t}function p(t){return t.indexOf("&")<0?t:t.replace(c,h)}var f=/[&<>"]/,d=/[&<>"]/g,g={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function m(t){return g[t]}function v(t){return f.test(t)?t.replace(d,m):t}var y={};function _(t,e){return++e>=t.length-2?e:"paragraph_open"===t[e].type&&t[e].tight&&"inline"===t[e+1].type&&0===t[e+1].content.length&&"paragraph_close"===t[e+2].type&&t[e+2].tight?_(t,e+2):e}y.blockquote_open=function(){return"<blockquote>\n"},y.blockquote_close=function(t,e){return"</blockquote>"+k(t,e)},y.code=function(t,e){return t[e].block?"<pre><code>"+v(t[e].content)+"</code></pre>"+k(t,e):"<code>"+v(t[e].content)+"</code>"},y.fence=function(t,e,n,i,o){var a,l,c,u,h=t[e],f="",d=n.langPrefix;if(h.params){if(l=(a=h.params.split(/\s+/g)).join(" "),c=o.rules.fence_custom,u=a[0],c&&r.call(c,u))return o.rules.fence_custom[a[0]](t,e,n,i,o);f=' class="'+d+v(p(s(l)))+'"'}return"<pre><code"+f+">"+(n.highlight&&n.highlight.apply(n.highlight,[h.content].concat(a))||v(h.content))+"</code></pre>"+k(t,e)},y.fence_custom={},y.heading_open=function(t,e){return"<h"+t[e].hLevel+">"},y.heading_close=function(t,e){return"</h"+t[e].hLevel+">\n"},y.hr=function(t,e,n){return(n.xhtmlOut?"<hr />":"<hr>")+k(t,e)},y.bullet_list_open=function(){return"<ul>\n"},y.bullet_list_close=function(t,e){return"</ul>"+k(t,e)},y.list_item_open=function(){return"<li>"},y.list_item_close=function(){return"</li>\n"},y.ordered_list_open=function(t,e){var n=t[e];return"<ol"+(n.order>1?' start="'+n.order+'"':"")+">\n"},y.ordered_list_close=function(t,e){return"</ol>"+k(t,e)},y.paragraph_open=function(t,e){return t[e].tight?"":"<p>"},y.paragraph_close=function(t,e){var n=!(t[e].tight&&e&&"inline"===t[e-1].type&&!t[e-1].content);return(t[e].tight?"":"</p>")+(n?k(t,e):"")},y.link_open=function(t,e,n){var r=t[e].title?' title="'+v(p(t[e].title))+'"':"",i=n.linkTarget?' target="'+n.linkTarget+'"':"";return'<a href="'+v(t[e].href)+'"'+r+i+">"},y.link_close=function(){return"</a>"},y.image=function(t,e,n){var r=' src="'+v(t[e].src)+'"',i=t[e].title?' title="'+v(p(t[e].title))+'"':"";return"<img"+r+(' alt="'+(t[e].alt?v(p(s(t[e].alt))):"")+'"')+i+(n.xhtmlOut?" /":"")+">"},y.table_open=function(){return"<table>\n"},y.table_close=function(){return"</table>\n"},y.thead_open=function(){return"<thead>\n"},y.thead_close=function(){return"</thead>\n"},y.tbody_open=function(){return"<tbody>\n"},y.tbody_close=function(){return"</tbody>\n"},y.tr_open=function(){return"<tr>"},y.tr_close=function(){return"</tr>\n"},y.th_open=function(t,e){var n=t[e];return"<th"+(n.align?' style="text-align:'+n.align+'"':"")+">"},y.th_close=function(){return"</th>"},y.td_open=function(t,e){var n=t[e];return"<td"+(n.align?' style="text-align:'+n.align+'"':"")+">"},y.td_close=function(){return"</td>"},y.strong_open=function(){return"<strong>"},y.strong_close=function(){return"</strong>"},y.em_open=function(){return"<em>"},y.em_close=function(){return"</em>"},y.del_open=function(){return"<del>"},y.del_close=function(){return"</del>"},y.ins_open=function(){return"<ins>"},y.ins_close=function(){return"</ins>"},y.mark_open=function(){return"<mark>"},y.mark_close=function(){return"</mark>"},y.sub=function(t,e){return"<sub>"+v(t[e].content)+"</sub>"},y.sup=function(t,e){return"<sup>"+v(t[e].content)+"</sup>"},y.hardbreak=function(t,e,n){return n.xhtmlOut?"<br />\n":"<br>\n"},y.softbreak=function(t,e,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},y.text=function(t,e){return v(t[e].content)},y.htmlblock=function(t,e){return t[e].content},y.htmltag=function(t,e){return t[e].content},y.abbr_open=function(t,e){return'<abbr title="'+v(p(t[e].title))+'">'},y.abbr_close=function(){return"</abbr>"},y.footnote_ref=function(t,e){var n=Number(t[e].id+1).toString(),r="fnref"+n;return t[e].subId>0&&(r+=":"+t[e].subId),'<sup class="footnote-ref"><a href="#fn'+n+'" id="'+r+'">['+n+"]</a></sup>"},y.footnote_block_open=function(t,e,n){return(n.xhtmlOut?'<hr class="footnotes-sep" />\n':'<hr class="footnotes-sep">\n')+'<section class="footnotes">\n<ol class="footnotes-list">\n'},y.footnote_block_close=function(){return"</ol>\n</section>\n"},y.footnote_open=function(t,e){return'<li id="fn'+Number(t[e].id+1).toString()+'"  class="footnote-item">'},y.footnote_close=function(){return"</li>\n"},y.footnote_anchor=function(t,e){var n="fnref"+Number(t[e].id+1).toString();return t[e].subId>0&&(n+=":"+t[e].subId),' <a href="#'+n+'" class="footnote-backref">↩</a>'},y.dl_open=function(){return"<dl>\n"},y.dt_open=function(){return"<dt>"},y.dd_open=function(){return"<dd>"},y.dl_close=function(){return"</dl>\n"},y.dt_close=function(){return"</dt>\n"},y.dd_close=function(){return"</dd>\n"};var k=y.getBreak=function(t,e){return(e=_(t,e))<t.length&&"list_item_close"===t[e].type?"":"\n"};function b(){this.rules=i({},y),this.getBreak=y.getBreak}function x(){this.__rules__=[],this.__cache__=null}function w(t,e,n,r,i){this.src=t,this.env=r,this.options=n,this.parser=e,this.tokens=i,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache=[],this.isInLabel=!1,this.linkLevel=0,this.linkContent="",this.labelUnmatchedScopes=0}function A(t,e){var n,r,i,o=-1,s=t.posMax,a=t.pos,l=t.isInLabel;if(t.isInLabel)return-1;if(t.labelUnmatchedScopes)return t.labelUnmatchedScopes--,-1;for(t.pos=e+1,t.isInLabel=!0,n=1;t.pos<s;){if(91===(i=t.src.charCodeAt(t.pos)))n++;else if(93===i&&0===--n){r=!0;break}t.parser.skipToken(t)}return r?(o=t.pos,t.labelUnmatchedScopes=0):t.labelUnmatchedScopes=n-1,t.pos=a,t.isInLabel=l,o}function C(t,e,n,r){var i,o,s,a,l,c;if(42!==t.charCodeAt(0))return-1;if(91!==t.charCodeAt(1))return-1;if(-1===t.indexOf("]:"))return-1;if((o=A(i=new w(t,e,n,r,[]),1))<0||58!==t.charCodeAt(o+1))return-1;for(a=i.posMax,s=o+2;s<a&&10!==i.src.charCodeAt(s);s++);return l=t.slice(2,o),0===(c=t.slice(o+2,s).trim()).length?-1:(r.abbreviations||(r.abbreviations={}),void 0===r.abbreviations[":"+l]&&(r.abbreviations[":"+l]=c),s)}function S(t){var e=p(t);try{e=decodeURI(e)}catch(n){}return encodeURI(e)}function M(t,e){var n,r,i,o=e,a=t.posMax;if(60===t.src.charCodeAt(e)){for(e++;e<a;){if(10===(n=t.src.charCodeAt(e)))return!1;if(62===n)return i=S(s(t.src.slice(o+1,e))),!!t.parser.validateLink(i)&&(t.pos=e+1,t.linkContent=i,!0);92===n&&e+1<a?e+=2:e++}return!1}for(r=0;e<a&&32!==(n=t.src.charCodeAt(e))&&!(n<32||127===n);)if(92===n&&e+1<a)e+=2;else{if(40===n&&++r>1)break;if(41===n&&--r<0)break;e++}return o!==e&&(i=s(t.src.slice(o,e)),!!t.parser.validateLink(i)&&(t.linkContent=i,t.pos=e,!0))}function E(t,e){var n,r=e,i=t.posMax,o=t.src.charCodeAt(e);if(34!==o&&39!==o&&40!==o)return!1;for(e++,40===o&&(o=41);e<i;){if((n=t.src.charCodeAt(e))===o)return t.pos=e+1,t.linkContent=s(t.src.slice(r+1,e)),!0;92===n&&e+1<i?e+=2:e++}return!1}function I(t){return t.trim().replace(/\s+/g," ").toUpperCase()}function z(t,e,n,r){var i,o,s,a,l,c,u,h,p;if(91!==t.charCodeAt(0))return-1;if(-1===t.indexOf("]:"))return-1;if((o=A(i=new w(t,e,n,r,[]),0))<0||58!==t.charCodeAt(o+1))return-1;for(a=i.posMax,s=o+2;s<a&&(32===(l=i.src.charCodeAt(s))||10===l);s++);if(!M(i,s))return-1;for(u=i.linkContent,c=s=i.pos,s+=1;s<a&&(32===(l=i.src.charCodeAt(s))||10===l);s++);for(s<a&&c!==s&&E(i,s)?(h=i.linkContent,s=i.pos):(h="",s=c);s<a&&32===i.src.charCodeAt(s);)s++;return s<a&&10!==i.src.charCodeAt(s)?-1:(p=I(t.slice(1,o)),void 0===r.references[p]&&(r.references[p]={title:h,href:u}),s)}b.prototype.renderInline=function(t,e,n){for(var r=this.rules,i=t.length,o=0,s="";i--;)s+=r[t[o].type](t,o++,e,n,this);return s},b.prototype.render=function(t,e,n){for(var r=this.rules,i=t.length,o=-1,s="";++o<i;)"inline"===t[o].type?s+=this.renderInline(t[o].children,e,n):s+=r[t[o].type](t,o,e,n,this);return s},x.prototype.__find__=function(t){for(var e=this.__rules__.length,n=-1;e--;)if(this.__rules__[++n].name===t)return n;return-1},x.prototype.__compile__=function(){var t=this,e=[""];t.__rules__.forEach((function(t){t.enabled&&t.alt.forEach((function(t){e.indexOf(t)<0&&e.push(t)}))})),t.__cache__={},e.forEach((function(e){t.__cache__[e]=[],t.__rules__.forEach((function(n){n.enabled&&(e&&n.alt.indexOf(e)<0||t.__cache__[e].push(n.fn))}))}))},x.prototype.at=function(t,e,n){var r=this.__find__(t),i=n||{};if(-1===r)throw new Error("Parser rule not found: "+t);this.__rules__[r].fn=e,this.__rules__[r].alt=i.alt||[],this.__cache__=null},x.prototype.before=function(t,e,n,r){var i=this.__find__(t),o=r||{};if(-1===i)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i,0,{name:e,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},x.prototype.after=function(t,e,n,r){var i=this.__find__(t),o=r||{};if(-1===i)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i+1,0,{name:e,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},x.prototype.push=function(t,e,n){var r=n||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:r.alt||[]}),this.__cache__=null},x.prototype.enable=function(t,e){t=Array.isArray(t)?t:[t],e&&this.__rules__.forEach((function(t){t.enabled=!1})),t.forEach((function(t){var e=this.__find__(t);if(e<0)throw new Error("Rules manager: invalid rule name "+t);this.__rules__[e].enabled=!0}),this),this.__cache__=null},x.prototype.disable=function(t){(t=Array.isArray(t)?t:[t]).forEach((function(t){var e=this.__find__(t);if(e<0)throw new Error("Rules manager: invalid rule name "+t);this.__rules__[e].enabled=!1}),this),this.__cache__=null},x.prototype.getRules=function(t){return null===this.__cache__&&this.__compile__(),this.__cache__[t]||[]},w.prototype.pushPending=function(){this.tokens.push({type:"text",content:this.pending,level:this.pendingLevel}),this.pending=""},w.prototype.push=function(t){this.pending&&this.pushPending(),this.tokens.push(t),this.pendingLevel=this.level},w.prototype.cacheSet=function(t,e){for(var n=this.cache.length;n<=t;n++)this.cache.push(0);this.cache[t]=e},w.prototype.cacheGet=function(t){return t<this.cache.length?this.cache[t]:0};var $=" \n()[]'\".,!?-";function T(t){return t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1")}var j=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,N=/\((c|tm|r|p)\)/gi,O={c:"©",r:"®",p:"§",tm:"™"};var L=/['"]/,q=/['"]/g,X=/[-\s()\[\]]/;function F(t,e){return!(e<0||e>=t.length)&&!X.test(t[e])}function P(t,e,n){return t.substr(0,e)+n+t.substr(e+1)}var R=[["block",function(t){t.inlineMode?t.tokens.push({type:"inline",content:t.src.replace(/\n/g," ").trim(),level:0,lines:[0,1],children:[]}):t.block.parse(t.src,t.options,t.env,t.tokens)}],["abbr",function(t){var e,n,r,i,o=t.tokens;if(!t.inlineMode)for(e=1,n=o.length-1;e<n;e++)if("paragraph_open"===o[e-1].type&&"inline"===o[e].type&&"paragraph_close"===o[e+1].type){for(r=o[e].content;r.length&&!((i=C(r,t.inline,t.options,t.env))<0);)r=r.slice(i).trim();o[e].content=r,r.length||(o[e-1].tight=!0,o[e+1].tight=!0)}}],["references",function(t){var e,n,r,i,o=t.tokens;if(t.env.references=t.env.references||{},!t.inlineMode)for(e=1,n=o.length-1;e<n;e++)if("inline"===o[e].type&&"paragraph_open"===o[e-1].type&&"paragraph_close"===o[e+1].type){for(r=o[e].content;r.length&&!((i=z(r,t.inline,t.options,t.env))<0);)r=r.slice(i).trim();o[e].content=r,r.length||(o[e-1].tight=!0,o[e+1].tight=!0)}}],["inline",function(t){var e,n,r,i=t.tokens;for(n=0,r=i.length;n<r;n++)"inline"===(e=i[n]).type&&t.inline.parse(e.content,t.options,t.env,e.children)}],["footnote_tail",function(t){var e,n,r,i,o,s,a,l,c,u=0,h=!1,p={};if(t.env.footnotes&&(t.tokens=t.tokens.filter((function(t){return"footnote_reference_open"===t.type?(h=!0,l=[],c=t.label,!1):"footnote_reference_close"===t.type?(h=!1,p[":"+c]=l,!1):(h&&l.push(t),!h)})),t.env.footnotes.list)){for(s=t.env.footnotes.list,t.tokens.push({type:"footnote_block_open",level:u++}),e=0,n=s.length;e<n;e++){for(t.tokens.push({type:"footnote_open",id:e,level:u++}),s[e].tokens?((a=[]).push({type:"paragraph_open",tight:!1,level:u++}),a.push({type:"inline",content:"",level:u,children:s[e].tokens}),a.push({type:"paragraph_close",tight:!1,level:--u})):s[e].label&&(a=p[":"+s[e].label]),t.tokens=t.tokens.concat(a),o="paragraph_close"===t.tokens[t.tokens.length-1].type?t.tokens.pop():null,i=s[e].count>0?s[e].count:1,r=0;r<i;r++)t.tokens.push({type:"footnote_anchor",id:e,subId:r,level:u});o&&t.tokens.push(o),t.tokens.push({type:"footnote_close",level:--u})}t.tokens.push({type:"footnote_block_close",level:--u})}}],["abbr2",function(t){var e,n,r,i,o,s,a,l,c,u,h,p,f=t.tokens;if(t.env.abbreviations)for(t.env.abbrRegExp||(p="(^|["+$.split("").map(T).join("")+"])("+Object.keys(t.env.abbreviations).map((function(t){return t.substr(1)})).sort((function(t,e){return e.length-t.length})).map(T).join("|")+")($|["+$.split("").map(T).join("")+"])",t.env.abbrRegExp=new RegExp(p,"g")),u=t.env.abbrRegExp,n=0,r=f.length;n<r;n++)if("inline"===f[n].type)for(e=(i=f[n].children).length-1;e>=0;e--)if("text"===(o=i[e]).type){for(l=0,s=o.content,u.lastIndex=0,c=o.level,a=[];h=u.exec(s);)u.lastIndex>l&&a.push({type:"text",content:s.slice(l,h.index+h[1].length),level:c}),a.push({type:"abbr_open",title:t.env.abbreviations[":"+h[2]],level:c++}),a.push({type:"text",content:h[2],level:c}),a.push({type:"abbr_close",level:--c}),l=u.lastIndex-h[3].length;a.length&&(l<s.length&&a.push({type:"text",content:s.slice(l),level:c}),f[n].children=i=[].concat(i.slice(0,e),a,i.slice(e+1)))}}],["replacements",function(t){var e,n,r,i,o,s;if(t.options.typographer)for(o=t.tokens.length-1;o>=0;o--)if("inline"===t.tokens[o].type)for(e=(i=t.tokens[o].children).length-1;e>=0;e--)"text"===(n=i[e]).type&&(r=n.content,r=(s=r).indexOf("(")<0?s:s.replace(N,(function(t,e){return O[e.toLowerCase()]})),j.test(r)&&(r=r.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/gm,"$1—$2").replace(/(^|\s)--(\s|$)/gm,"$1–$2").replace(/(^|[^-\s])--([^-\s]|$)/gm,"$1–$2")),n.content=r)}],["smartquotes",function(t){var e,n,r,i,o,s,a,l,c,u,h,p,f,d,g,m,v;if(t.options.typographer)for(v=[],g=t.tokens.length-1;g>=0;g--)if("inline"===t.tokens[g].type)for(m=t.tokens[g].children,v.length=0,e=0;e<m.length;e++)if("text"===(n=m[e]).type&&!L.test(n.text)){for(a=m[e].level,f=v.length-1;f>=0&&!(v[f].level<=a);f--);v.length=f+1,o=0,s=(r=n.content).length;t:for(;o<s&&(q.lastIndex=o,i=q.exec(r));)if(l=!F(r,i.index-1),o=i.index+1,d="'"===i[0],(c=!F(r,o))||l){if(h=!c,p=!l)for(f=v.length-1;f>=0&&(u=v[f],!(v[f].level<a));f--)if(u.single===d&&v[f].level===a){u=v[f],d?(m[u.token].content=P(m[u.token].content,u.pos,t.options.quotes[2]),n.content=P(n.content,i.index,t.options.quotes[3])):(m[u.token].content=P(m[u.token].content,u.pos,t.options.quotes[0]),n.content=P(n.content,i.index,t.options.quotes[1])),v.length=f;continue t}h?v.push({token:e,pos:i.index,single:d,level:a}):p&&d&&(n.content=P(n.content,i.index,"’"))}else d&&(n.content=P(n.content,i.index,"’"))}}]];function B(){this.options={},this.ruler=new x;for(var t=0;t<R.length;t++)this.ruler.push(R[t][0],R[t][1])}function D(t,e,n,r,i){var o,s,a,l,c,u,h;for(this.src=t,this.parser=e,this.options=n,this.env=r,this.tokens=i,this.bMarks=[],this.eMarks=[],this.tShift=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.parentType="root",this.ddIndent=-1,this.level=0,this.result="",u=0,h=!1,a=l=u=0,c=(s=this.src).length;l<c;l++){if(o=s.charCodeAt(l),!h){if(32===o){u++;continue}h=!0}10!==o&&l!==c-1||(10!==o&&l++,this.bMarks.push(a),this.eMarks.push(l),this.tShift.push(u),h=!1,u=0,a=l+1)}this.bMarks.push(s.length),this.eMarks.push(s.length),this.tShift.push(0),this.lineMax=this.bMarks.length-1}function Y(t,e){var n,r,i;return(r=t.bMarks[e]+t.tShift[e])>=(i=t.eMarks[e])||42!==(n=t.src.charCodeAt(r++))&&45!==n&&43!==n||r<i&&32!==t.src.charCodeAt(r)?-1:r}function U(t,e){var n,r=t.bMarks[e]+t.tShift[e],i=t.eMarks[e];if(r+1>=i)return-1;if((n=t.src.charCodeAt(r++))<48||n>57)return-1;for(;;){if(r>=i)return-1;if(!((n=t.src.charCodeAt(r++))>=48&&n<=57)){if(41===n||46===n)break;return-1}}return r<i&&32!==t.src.charCodeAt(r)?-1:r}B.prototype.process=function(t){var e,n,r;for(e=0,n=(r=this.ruler.getRules("")).length;e<n;e++)r[e](t)},D.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]},D.prototype.skipEmptyLines=function(t){for(var e=this.lineMax;t<e&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t},D.prototype.skipSpaces=function(t){for(var e=this.src.length;t<e&&32===this.src.charCodeAt(t);t++);return t},D.prototype.skipChars=function(t,e){for(var n=this.src.length;t<n&&this.src.charCodeAt(t)===e;t++);return t},D.prototype.skipCharsBack=function(t,e,n){if(t<=n)return t;for(;t>n;)if(e!==this.src.charCodeAt(--t))return t+1;return t},D.prototype.getLines=function(t,e,n,r){var i,o,s,a,l,c=t;if(t>=e)return"";if(c+1===e)return o=this.bMarks[c]+Math.min(this.tShift[c],n),s=r?this.eMarks[c]+1:this.eMarks[c],this.src.slice(o,s);for(a=new Array(e-t),i=0;c<e;c++,i++)(l=this.tShift[c])>n&&(l=n),l<0&&(l=0),o=this.bMarks[c]+l,s=c+1<e||r?this.eMarks[c]+1:this.eMarks[c],a[i]=this.src.slice(o,s);return a.join("")};var H={};["article","aside","button","blockquote","body","canvas","caption","col","colgroup","dd","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","iframe","li","map","object","ol","output","p","pre","progress","script","section","style","table","tbody","td","textarea","tfoot","th","tr","thead","ul","video"].forEach((function(t){H[t]=!0}));var K=/^<([a-zA-Z]{1,15})[\s\/>]/,V=/^<\/([a-zA-Z]{1,15})[\s>]/;function Z(t,e){var n=t.bMarks[e]+t.blkIndent,r=t.eMarks[e];return t.src.substr(n,r-n)}function W(t,e){var n,r,i=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];return i>=o||126!==(r=t.src.charCodeAt(i++))&&58!==r||i===(n=t.skipSpaces(i))||n>=o?-1:n}var G=[["code",function(t,e,n){var r,i;if(t.tShift[e]-t.blkIndent<4)return!1;for(i=r=e+1;r<n;)if(t.isEmpty(r))r++;else{if(!(t.tShift[r]-t.blkIndent>=4))break;i=++r}return t.line=r,t.tokens.push({type:"code",content:t.getLines(e,i,4+t.blkIndent,!0),block:!0,lines:[e,t.line],level:t.level}),!0}],["fences",function(t,e,n,r){var i,o,s,a,l,c=!1,u=t.bMarks[e]+t.tShift[e],h=t.eMarks[e];if(u+3>h)return!1;if(126!==(i=t.src.charCodeAt(u))&&96!==i)return!1;if(l=u,(o=(u=t.skipChars(u,i))-l)<3)return!1;if((s=t.src.slice(u,h).trim()).indexOf("`")>=0)return!1;if(r)return!0;for(a=e;!(++a>=n)&&!((u=l=t.bMarks[a]+t.tShift[a])<(h=t.eMarks[a])&&t.tShift[a]<t.blkIndent);)if(t.src.charCodeAt(u)===i&&!(t.tShift[a]-t.blkIndent>=4||(u=t.skipChars(u,i))-l<o||(u=t.skipSpaces(u))<h)){c=!0;break}return o=t.tShift[e],t.line=a+(c?1:0),t.tokens.push({type:"fence",params:s,content:t.getLines(e+1,a,o,!0),lines:[e,t.line],level:t.level}),!0},["paragraph","blockquote","list"]],["blockquote",function(t,e,n,r){var i,o,s,a,l,c,u,h,p,f,d,g=t.bMarks[e]+t.tShift[e],m=t.eMarks[e];if(g>m)return!1;if(62!==t.src.charCodeAt(g++))return!1;if(t.level>=t.options.maxNesting)return!1;if(r)return!0;for(32===t.src.charCodeAt(g)&&g++,l=t.blkIndent,t.blkIndent=0,a=[t.bMarks[e]],t.bMarks[e]=g,o=(g=g<m?t.skipSpaces(g):g)>=m,s=[t.tShift[e]],t.tShift[e]=g-t.bMarks[e],h=t.parser.ruler.getRules("blockquote"),i=e+1;i<n&&!((g=t.bMarks[i]+t.tShift[i])>=(m=t.eMarks[i]));i++)if(62!==t.src.charCodeAt(g++)){if(o)break;for(d=!1,p=0,f=h.length;p<f;p++)if(h[p](t,i,n,!0)){d=!0;break}if(d)break;a.push(t.bMarks[i]),s.push(t.tShift[i]),t.tShift[i]=-1337}else 32===t.src.charCodeAt(g)&&g++,a.push(t.bMarks[i]),t.bMarks[i]=g,o=(g=g<m?t.skipSpaces(g):g)>=m,s.push(t.tShift[i]),t.tShift[i]=g-t.bMarks[i];for(c=t.parentType,t.parentType="blockquote",t.tokens.push({type:"blockquote_open",lines:u=[e,0],level:t.level++}),t.parser.tokenize(t,e,i),t.tokens.push({type:"blockquote_close",level:--t.level}),t.parentType=c,u[1]=t.line,p=0;p<s.length;p++)t.bMarks[p+e]=a[p],t.tShift[p+e]=s[p];return t.blkIndent=l,!0},["paragraph","blockquote","list"]],["hr",function(t,e,n,r){var i,o,s,a=t.bMarks[e],l=t.eMarks[e];if((a+=t.tShift[e])>l)return!1;if(42!==(i=t.src.charCodeAt(a++))&&45!==i&&95!==i)return!1;for(o=1;a<l;){if((s=t.src.charCodeAt(a++))!==i&&32!==s)return!1;s===i&&o++}return!(o<3)&&(r||(t.line=e+1,t.tokens.push({type:"hr",lines:[e,t.line],level:t.level})),!0)},["paragraph","blockquote","list"]],["list",function(t,e,n,r){var i,o,s,a,l,c,u,h,p,f,d,g,m,v,y,_,k,b,x,w,A,C=!0;if((h=U(t,e))>=0)g=!0;else{if(!((h=Y(t,e))>=0))return!1;g=!1}if(t.level>=t.options.maxNesting)return!1;if(d=t.src.charCodeAt(h-1),r)return!0;for(v=t.tokens.length,g?(u=t.bMarks[e]+t.tShift[e],f=Number(t.src.substr(u,h-u-1)),t.tokens.push({type:"ordered_list_open",order:f,lines:_=[e,0],level:t.level++})):t.tokens.push({type:"bullet_list_open",lines:_=[e,0],level:t.level++}),i=e,y=!1,b=t.parser.ruler.getRules("list");!(!(i<n)||((p=(m=t.skipSpaces(h))>=t.eMarks[i]?1:m-h)>4&&(p=1),p<1&&(p=1),o=h-t.bMarks[i]+p,t.tokens.push({type:"list_item_open",lines:k=[e,0],level:t.level++}),a=t.blkIndent,l=t.tight,s=t.tShift[e],c=t.parentType,t.tShift[e]=m-t.bMarks[e],t.blkIndent=o,t.tight=!0,t.parentType="list",t.parser.tokenize(t,e,n,!0),t.tight&&!y||(C=!1),y=t.line-e>1&&t.isEmpty(t.line-1),t.blkIndent=a,t.tShift[e]=s,t.tight=l,t.parentType=c,t.tokens.push({type:"list_item_close",level:--t.level}),i=e=t.line,k[1]=i,m=t.bMarks[e],i>=n)||t.isEmpty(i)||t.tShift[i]<t.blkIndent);){for(A=!1,x=0,w=b.length;x<w;x++)if(b[x](t,i,n,!0)){A=!0;break}if(A)break;if(g){if((h=U(t,i))<0)break}else if((h=Y(t,i))<0)break;if(d!==t.src.charCodeAt(h-1))break}return t.tokens.push({type:g?"ordered_list_close":"bullet_list_close",level:--t.level}),_[1]=i,t.line=i,C&&function(t,e){var n,r,i=t.level+2;for(n=e+2,r=t.tokens.length-2;n<r;n++)t.tokens[n].level===i&&"paragraph_open"===t.tokens[n].type&&(t.tokens[n+2].tight=!0,t.tokens[n].tight=!0,n+=2)}(t,v),!0},["paragraph","blockquote"]],["footnote",function(t,e,n,r){var i,o,s,a,l,c=t.bMarks[e]+t.tShift[e],u=t.eMarks[e];if(c+4>u)return!1;if(91!==t.src.charCodeAt(c))return!1;if(94!==t.src.charCodeAt(c+1))return!1;if(t.level>=t.options.maxNesting)return!1;for(a=c+2;a<u;a++){if(32===t.src.charCodeAt(a))return!1;if(93===t.src.charCodeAt(a))break}return a!==c+2&&(!(a+1>=u||58!==t.src.charCodeAt(++a))&&(r||(a++,t.env.footnotes||(t.env.footnotes={}),t.env.footnotes.refs||(t.env.footnotes.refs={}),l=t.src.slice(c+2,a-2),t.env.footnotes.refs[":"+l]=-1,t.tokens.push({type:"footnote_reference_open",label:l,level:t.level++}),i=t.bMarks[e],o=t.tShift[e],s=t.parentType,t.tShift[e]=t.skipSpaces(a)-a,t.bMarks[e]=a,t.blkIndent+=4,t.parentType="footnote",t.tShift[e]<t.blkIndent&&(t.tShift[e]+=t.blkIndent,t.bMarks[e]-=t.blkIndent),t.parser.tokenize(t,e,n,!0),t.parentType=s,t.blkIndent-=4,t.tShift[e]=o,t.bMarks[e]=i,t.tokens.push({type:"footnote_reference_close",level:--t.level})),!0))},["paragraph"]],["heading",function(t,e,n,r){var i,o,s,a=t.bMarks[e]+t.tShift[e],l=t.eMarks[e];if(a>=l)return!1;if(35!==(i=t.src.charCodeAt(a))||a>=l)return!1;for(o=1,i=t.src.charCodeAt(++a);35===i&&a<l&&o<=6;)o++,i=t.src.charCodeAt(++a);return!(o>6||a<l&&32!==i)&&(r||(l=t.skipCharsBack(l,32,a),(s=t.skipCharsBack(l,35,a))>a&&32===t.src.charCodeAt(s-1)&&(l=s),t.line=e+1,t.tokens.push({type:"heading_open",hLevel:o,lines:[e,t.line],level:t.level}),a<l&&t.tokens.push({type:"inline",content:t.src.slice(a,l).trim(),level:t.level+1,lines:[e,t.line],children:[]}),t.tokens.push({type:"heading_close",hLevel:o,level:t.level})),!0)},["paragraph","blockquote"]],["lheading",function(t,e,n){var r,i,o,s=e+1;return!(s>=n)&&(!(t.tShift[s]<t.blkIndent)&&(!(t.tShift[s]-t.blkIndent>3)&&(!((i=t.bMarks[s]+t.tShift[s])>=(o=t.eMarks[s]))&&((45===(r=t.src.charCodeAt(i))||61===r)&&(i=t.skipChars(i,r),!((i=t.skipSpaces(i))<o)&&(i=t.bMarks[e]+t.tShift[e],t.line=s+1,t.tokens.push({type:"heading_open",hLevel:61===r?1:2,lines:[e,t.line],level:t.level}),t.tokens.push({type:"inline",content:t.src.slice(i,t.eMarks[e]).trim(),level:t.level+1,lines:[e,t.line-1],children:[]}),t.tokens.push({type:"heading_close",hLevel:61===r?1:2,level:t.level}),!0))))))}],["htmlblock",function(t,e,n,r){var i,o,s,a=t.bMarks[e],l=t.eMarks[e],c=t.tShift[e];if(a+=c,!t.options.html)return!1;if(c>3||a+2>=l)return!1;if(60!==t.src.charCodeAt(a))return!1;if(33===(i=t.src.charCodeAt(a+1))||63===i){if(r)return!0}else{if(47!==i&&!function(t){var e=32|t;return e>=97&&e<=122}(i))return!1;if(47===i){if(!(o=t.src.slice(a,l).match(V)))return!1}else if(!(o=t.src.slice(a,l).match(K)))return!1;if(!0!==H[o[1].toLowerCase()])return!1;if(r)return!0}for(s=e+1;s<t.lineMax&&!t.isEmpty(s);)s++;return t.line=s,t.tokens.push({type:"htmlblock",level:t.level,lines:[e,t.line],content:t.getLines(e,s,0,!0)}),!0},["paragraph","blockquote"]],["table",function(t,e,n,r){var i,o,s,a,l,c,u,h,p,f,d;if(e+2>n)return!1;if(l=e+1,t.tShift[l]<t.blkIndent)return!1;if((s=t.bMarks[l]+t.tShift[l])>=t.eMarks[l])return!1;if(124!==(i=t.src.charCodeAt(s))&&45!==i&&58!==i)return!1;if(o=Z(t,e+1),!/^[-:| ]+$/.test(o))return!1;if((c=o.split("|"))<=2)return!1;for(h=[],a=0;a<c.length;a++){if(!(p=c[a].trim())){if(0===a||a===c.length-1)continue;return!1}if(!/^:?-+:?$/.test(p))return!1;58===p.charCodeAt(p.length-1)?h.push(58===p.charCodeAt(0)?"center":"right"):58===p.charCodeAt(0)?h.push("left"):h.push("")}if(-1===(o=Z(t,e).trim()).indexOf("|"))return!1;if(c=o.replace(/^\||\|$/g,"").split("|"),h.length!==c.length)return!1;if(r)return!0;for(t.tokens.push({type:"table_open",lines:f=[e,0],level:t.level++}),t.tokens.push({type:"thead_open",lines:[e,e+1],level:t.level++}),t.tokens.push({type:"tr_open",lines:[e,e+1],level:t.level++}),a=0;a<c.length;a++)t.tokens.push({type:"th_open",align:h[a],lines:[e,e+1],level:t.level++}),t.tokens.push({type:"inline",content:c[a].trim(),lines:[e,e+1],level:t.level,children:[]}),t.tokens.push({type:"th_close",level:--t.level});for(t.tokens.push({type:"tr_close",level:--t.level}),t.tokens.push({type:"thead_close",level:--t.level}),t.tokens.push({type:"tbody_open",lines:d=[e+2,0],level:t.level++}),l=e+2;l<n&&!(t.tShift[l]<t.blkIndent)&&-1!==(o=Z(t,l).trim()).indexOf("|");l++){for(c=o.replace(/^\||\|$/g,"").split("|"),t.tokens.push({type:"tr_open",level:t.level++}),a=0;a<c.length;a++)t.tokens.push({type:"td_open",align:h[a],level:t.level++}),u=c[a].substring(124===c[a].charCodeAt(0)?1:0,124===c[a].charCodeAt(c[a].length-1)?c[a].length-1:c[a].length).trim(),t.tokens.push({type:"inline",content:u,level:t.level,children:[]}),t.tokens.push({type:"td_close",level:--t.level});t.tokens.push({type:"tr_close",level:--t.level})}return t.tokens.push({type:"tbody_close",level:--t.level}),t.tokens.push({type:"table_close",level:--t.level}),f[1]=d[1]=l,t.line=l,!0},["paragraph"]],["deflist",function(t,e,n,r){var i,o,s,a,l,c,u,h,p,f,d,g,m,v;if(r)return!(t.ddIndent<0)&&W(t,e)>=0;if(u=e+1,t.isEmpty(u)&&++u>n)return!1;if(t.tShift[u]<t.blkIndent)return!1;if((i=W(t,u))<0)return!1;if(t.level>=t.options.maxNesting)return!1;c=t.tokens.length,t.tokens.push({type:"dl_open",lines:l=[e,0],level:t.level++}),s=e,o=u;t:for(;;){for(v=!0,m=!1,t.tokens.push({type:"dt_open",lines:[s,s],level:t.level++}),t.tokens.push({type:"inline",content:t.getLines(s,s+1,t.blkIndent,!1).trim(),level:t.level+1,lines:[s,s],children:[]}),t.tokens.push({type:"dt_close",level:--t.level});;){if(t.tokens.push({type:"dd_open",lines:a=[u,0],level:t.level++}),g=t.tight,p=t.ddIndent,h=t.blkIndent,d=t.tShift[o],f=t.parentType,t.blkIndent=t.ddIndent=t.tShift[o]+2,t.tShift[o]=i-t.bMarks[o],t.tight=!0,t.parentType="deflist",t.parser.tokenize(t,o,n,!0),t.tight&&!m||(v=!1),m=t.line-o>1&&t.isEmpty(t.line-1),t.tShift[o]=d,t.tight=g,t.parentType=f,t.blkIndent=h,t.ddIndent=p,t.tokens.push({type:"dd_close",level:--t.level}),a[1]=u=t.line,u>=n)break t;if(t.tShift[u]<t.blkIndent)break t;if((i=W(t,u))<0)break;o=u}if(u>=n)break;if(s=u,t.isEmpty(s))break;if(t.tShift[s]<t.blkIndent)break;if((o=s+1)>=n)break;if(t.isEmpty(o)&&o++,o>=n)break;if(t.tShift[o]<t.blkIndent)break;if((i=W(t,o))<0)break}return t.tokens.push({type:"dl_close",level:--t.level}),l[1]=u,t.line=u,v&&function(t,e){var n,r,i=t.level+2;for(n=e+2,r=t.tokens.length-2;n<r;n++)t.tokens[n].level===i&&"paragraph_open"===t.tokens[n].type&&(t.tokens[n+2].tight=!0,t.tokens[n].tight=!0,n+=2)}(t,c),!0},["paragraph"]],["paragraph",function(t,e){var n,r,i,o,s,a,l=e+1;if(l<(n=t.lineMax)&&!t.isEmpty(l))for(a=t.parser.ruler.getRules("paragraph");l<n&&!t.isEmpty(l);l++)if(!(t.tShift[l]-t.blkIndent>3)){for(i=!1,o=0,s=a.length;o<s;o++)if(a[o](t,l,n,!0)){i=!0;break}if(i)break}return r=t.getLines(e,l,t.blkIndent,!1).trim(),t.line=l,r.length&&(t.tokens.push({type:"paragraph_open",tight:!1,lines:[e,t.line],level:t.level}),t.tokens.push({type:"inline",content:r,level:t.level+1,lines:[e,t.line],children:[]}),t.tokens.push({type:"paragraph_close",tight:!1,level:t.level})),!0}]];function J(){this.ruler=new x;for(var t=0;t<G.length;t++)this.ruler.push(G[t][0],G[t][1],{alt:(G[t][2]||[]).slice()})}J.prototype.tokenize=function(t,e,n){for(var r,i=this.ruler.getRules(""),o=i.length,s=e,a=!1;s<n&&(t.line=s=t.skipEmptyLines(s),!(s>=n))&&!(t.tShift[s]<t.blkIndent);){for(r=0;r<o&&!i[r](t,s,n,!1);r++);if(t.tight=!a,t.isEmpty(t.line-1)&&(a=!0),(s=t.line)<n&&t.isEmpty(s)){if(a=!0,++s<n&&"list"===t.parentType&&t.isEmpty(s))break;t.line=s}}};var Q=/[\n\t]/g,tt=/\r[\n\u0085]|[\u2424\u2028\u0085]/g,et=/\u00a0/g;function nt(t){switch(t){case 10:case 92:case 96:case 42:case 95:case 94:case 91:case 93:case 33:case 38:case 60:case 62:case 123:case 125:case 36:case 37:case 64:case 126:case 43:case 61:case 58:return!0;default:return!1}}J.prototype.parse=function(t,e,n,r){var i,o=0,s=0;if(!t)return[];(t=(t=t.replace(et," ")).replace(tt,"\n")).indexOf("\t")>=0&&(t=t.replace(Q,(function(e,n){var r;return 10===t.charCodeAt(n)?(o=n+1,s=0,e):(r="    ".slice((n-o-s)%4),s=n-o+1,r)}))),i=new D(t,this,e,n,r),this.tokenize(i,i.line,i.lineMax)};for(var rt=[],it=0;it<256;it++)rt.push(0);function ot(t){return t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122}function st(t,e){var n,r,i,o=e,s=!0,a=!0,l=t.posMax,c=t.src.charCodeAt(e);for(n=e>0?t.src.charCodeAt(e-1):-1;o<l&&t.src.charCodeAt(o)===c;)o++;return o>=l&&(s=!1),(i=o-e)>=4?s=a=!1:(32!==(r=o<l?t.src.charCodeAt(o):-1)&&10!==r||(s=!1),32!==n&&10!==n||(a=!1),95===c&&(ot(n)&&(s=!1),ot(r)&&(a=!1))),{can_open:s,can_close:a,delims:i}}"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(t){rt[t.charCodeAt(0)]=1}));var at=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;var lt=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;var ct=["coap","doi","javascript","aaa","aaas","about","acap","cap","cid","crid","data","dav","dict","dns","file","ftp","geo","go","gopher","h323","http","https","iax","icap","im","imap","info","ipp","iris","iris.beep","iris.xpc","iris.xpcs","iris.lwz","ldap","mailto","mid","msrp","msrps","mtqp","mupdate","news","nfs","ni","nih","nntp","opaquelocktoken","pop","pres","rtsp","service","session","shttp","sieve","sip","sips","sms","snmp","soap.beep","soap.beeps","tag","tel","telnet","tftp","thismessage","tn3270","tip","tv","urn","vemmi","ws","wss","xcon","xcon-userid","xmlrpc.beep","xmlrpc.beeps","xmpp","z39.50r","z39.50s","adiumxtra","afp","afs","aim","apt","attachment","aw","beshare","bitcoin","bolo","callto","chrome","chrome-extension","com-eventbrite-attendee","content","cvs","dlna-playsingle","dlna-playcontainer","dtn","dvb","ed2k","facetime","feed","finger","fish","gg","git","gizmoproject","gtalk","hcp","icon","ipn","irc","irc6","ircs","itms","jar","jms","keyparc","lastfm","ldaps","magnet","maps","market","message","mms","ms-help","msnim","mumble","mvn","notes","oid","palm","paparazzi","platform","proxy","psyc","query","res","resource","rmi","rsync","rtmp","secondlife","sftp","sgn","skype","smb","soldat","spotify","ssh","steam","svn","teamspeak","things","udp","unreal","ut2004","ventrilo","view-source","webcal","wtai","wyciwyg","xfire","xri","ymsgr"],ut=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,ht=/^<([a-zA-Z.\-]{1,25}):([^<>\x00-\x20]*)>/;function pt(t,e){return t=t.source,e=e||"",function n(r,i){return r?(i=i.source||i,t=t.replace(r,i),n):new RegExp(t,e)}}var ft=pt(/(?:unquoted|single_quoted|double_quoted)/)("unquoted",/[^"'=<>`\x00-\x20]+/)("single_quoted",/'[^']*'/)("double_quoted",/"[^"]*"/)(),dt=pt(/(?:\s+attr_name(?:\s*=\s*attr_value)?)/)("attr_name",/[a-zA-Z_:][a-zA-Z0-9:._-]*/)("attr_value",ft)(),gt=pt(/<[A-Za-z][A-Za-z0-9]*attribute*\s*\/?>/)("attribute",dt)(),mt=pt(/^(?:open_tag|close_tag|comment|processing|declaration|cdata)/)("open_tag",gt)("close_tag",/<\/[A-Za-z][A-Za-z0-9]*\s*>/)("comment",/<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->/)("processing",/<[?].*?[?]>/)("declaration",/<![A-Z]+\s+[^>]*>/)("cdata",/<!\[CDATA\[[\s\S]*?\]\]>/)();var vt=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,yt=/^&([a-z][a-z0-9]{1,31});/i;var _t=[["text",function(t,e){for(var n=t.pos;n<t.posMax&&!nt(t.src.charCodeAt(n));)n++;return n!==t.pos&&(e||(t.pending+=t.src.slice(t.pos,n)),t.pos=n,!0)}],["newline",function(t,e){var n,r,i=t.pos;if(10!==t.src.charCodeAt(i))return!1;if(n=t.pending.length-1,r=t.posMax,!e)if(n>=0&&32===t.pending.charCodeAt(n))if(n>=1&&32===t.pending.charCodeAt(n-1)){for(var o=n-2;o>=0;o--)if(32!==t.pending.charCodeAt(o)){t.pending=t.pending.substring(0,o+1);break}t.push({type:"hardbreak",level:t.level})}else t.pending=t.pending.slice(0,-1),t.push({type:"softbreak",level:t.level});else t.push({type:"softbreak",level:t.level});for(i++;i<r&&32===t.src.charCodeAt(i);)i++;return t.pos=i,!0}],["escape",function(t,e){var n,r=t.pos,i=t.posMax;if(92!==t.src.charCodeAt(r))return!1;if(++r<i){if((n=t.src.charCodeAt(r))<256&&0!==rt[n])return e||(t.pending+=t.src[r]),t.pos+=2,!0;if(10===n){for(e||t.push({type:"hardbreak",level:t.level}),r++;r<i&&32===t.src.charCodeAt(r);)r++;return t.pos=r,!0}}return e||(t.pending+="\\"),t.pos++,!0}],["backticks",function(t,e){var n,r,i,o,s,a=t.pos;if(96!==t.src.charCodeAt(a))return!1;for(n=a,a++,r=t.posMax;a<r&&96===t.src.charCodeAt(a);)a++;for(i=t.src.slice(n,a),o=s=a;-1!==(o=t.src.indexOf("`",s));){for(s=o+1;s<r&&96===t.src.charCodeAt(s);)s++;if(s-o===i.length)return e||t.push({type:"code",content:t.src.slice(a,o).replace(/[ \n]+/g," ").trim(),block:!1,level:t.level}),t.pos=s,!0}return e||(t.pending+=i),t.pos+=i.length,!0}],["del",function(t,e){var n,r,i,o,s,a=t.posMax,l=t.pos;if(126!==t.src.charCodeAt(l))return!1;if(e)return!1;if(l+4>=a)return!1;if(126!==t.src.charCodeAt(l+1))return!1;if(t.level>=t.options.maxNesting)return!1;if(o=l>0?t.src.charCodeAt(l-1):-1,s=t.src.charCodeAt(l+2),126===o)return!1;if(126===s)return!1;if(32===s||10===s)return!1;for(r=l+2;r<a&&126===t.src.charCodeAt(r);)r++;if(r>l+3)return t.pos+=r-l,e||(t.pending+=t.src.slice(l,r)),!0;for(t.pos=l+2,i=1;t.pos+1<a;){if(126===t.src.charCodeAt(t.pos)&&126===t.src.charCodeAt(t.pos+1)&&(o=t.src.charCodeAt(t.pos-1),126!==(s=t.pos+2<a?t.src.charCodeAt(t.pos+2):-1)&&126!==o&&(32!==o&&10!==o?i--:32!==s&&10!==s&&i++,i<=0))){n=!0;break}t.parser.skipToken(t)}return n?(t.posMax=t.pos,t.pos=l+2,e||(t.push({type:"del_open",level:t.level++}),t.parser.tokenize(t),t.push({type:"del_close",level:--t.level})),t.pos=t.posMax+2,t.posMax=a,!0):(t.pos=l,!1)}],["ins",function(t,e){var n,r,i,o,s,a=t.posMax,l=t.pos;if(43!==t.src.charCodeAt(l))return!1;if(e)return!1;if(l+4>=a)return!1;if(43!==t.src.charCodeAt(l+1))return!1;if(t.level>=t.options.maxNesting)return!1;if(o=l>0?t.src.charCodeAt(l-1):-1,s=t.src.charCodeAt(l+2),43===o)return!1;if(43===s)return!1;if(32===s||10===s)return!1;for(r=l+2;r<a&&43===t.src.charCodeAt(r);)r++;if(r!==l+2)return t.pos+=r-l,e||(t.pending+=t.src.slice(l,r)),!0;for(t.pos=l+2,i=1;t.pos+1<a;){if(43===t.src.charCodeAt(t.pos)&&43===t.src.charCodeAt(t.pos+1)&&(o=t.src.charCodeAt(t.pos-1),43!==(s=t.pos+2<a?t.src.charCodeAt(t.pos+2):-1)&&43!==o&&(32!==o&&10!==o?i--:32!==s&&10!==s&&i++,i<=0))){n=!0;break}t.parser.skipToken(t)}return n?(t.posMax=t.pos,t.pos=l+2,e||(t.push({type:"ins_open",level:t.level++}),t.parser.tokenize(t),t.push({type:"ins_close",level:--t.level})),t.pos=t.posMax+2,t.posMax=a,!0):(t.pos=l,!1)}],["mark",function(t,e){var n,r,i,o,s,a=t.posMax,l=t.pos;if(61!==t.src.charCodeAt(l))return!1;if(e)return!1;if(l+4>=a)return!1;if(61!==t.src.charCodeAt(l+1))return!1;if(t.level>=t.options.maxNesting)return!1;if(o=l>0?t.src.charCodeAt(l-1):-1,s=t.src.charCodeAt(l+2),61===o)return!1;if(61===s)return!1;if(32===s||10===s)return!1;for(r=l+2;r<a&&61===t.src.charCodeAt(r);)r++;if(r!==l+2)return t.pos+=r-l,e||(t.pending+=t.src.slice(l,r)),!0;for(t.pos=l+2,i=1;t.pos+1<a;){if(61===t.src.charCodeAt(t.pos)&&61===t.src.charCodeAt(t.pos+1)&&(o=t.src.charCodeAt(t.pos-1),61!==(s=t.pos+2<a?t.src.charCodeAt(t.pos+2):-1)&&61!==o&&(32!==o&&10!==o?i--:32!==s&&10!==s&&i++,i<=0))){n=!0;break}t.parser.skipToken(t)}return n?(t.posMax=t.pos,t.pos=l+2,e||(t.push({type:"mark_open",level:t.level++}),t.parser.tokenize(t),t.push({type:"mark_close",level:--t.level})),t.pos=t.posMax+2,t.posMax=a,!0):(t.pos=l,!1)}],["emphasis",function(t,e){var n,r,i,o,s,a,l,c=t.posMax,u=t.pos,h=t.src.charCodeAt(u);if(95!==h&&42!==h)return!1;if(e)return!1;if(n=(l=st(t,u)).delims,!l.can_open)return t.pos+=n,e||(t.pending+=t.src.slice(u,t.pos)),!0;if(t.level>=t.options.maxNesting)return!1;for(t.pos=u+n,a=[n];t.pos<c;)if(t.src.charCodeAt(t.pos)!==h)t.parser.skipToken(t);else{if(r=(l=st(t,t.pos)).delims,l.can_close){for(o=a.pop(),s=r;o!==s;){if(s<o){a.push(o-s);break}if(s-=o,0===a.length)break;t.pos+=o,o=a.pop()}if(0===a.length){n=o,i=!0;break}t.pos+=r;continue}l.can_open&&a.push(r),t.pos+=r}return i?(t.posMax=t.pos,t.pos=u+n,e||(2!==n&&3!==n||t.push({type:"strong_open",level:t.level++}),1!==n&&3!==n||t.push({type:"em_open",level:t.level++}),t.parser.tokenize(t),1!==n&&3!==n||t.push({type:"em_close",level:--t.level}),2!==n&&3!==n||t.push({type:"strong_close",level:--t.level})),t.pos=t.posMax+n,t.posMax=c,!0):(t.pos=u,!1)}],["sub",function(t,e){var n,r,i=t.posMax,o=t.pos;if(126!==t.src.charCodeAt(o))return!1;if(e)return!1;if(o+2>=i)return!1;if(t.level>=t.options.maxNesting)return!1;for(t.pos=o+1;t.pos<i;){if(126===t.src.charCodeAt(t.pos)){n=!0;break}t.parser.skipToken(t)}return n&&o+1!==t.pos?(r=t.src.slice(o+1,t.pos)).match(/(^|[^\\])(\\\\)*\s/)?(t.pos=o,!1):(t.posMax=t.pos,t.pos=o+1,e||t.push({type:"sub",level:t.level,content:r.replace(at,"$1")}),t.pos=t.posMax+1,t.posMax=i,!0):(t.pos=o,!1)}],["sup",function(t,e){var n,r,i=t.posMax,o=t.pos;if(94!==t.src.charCodeAt(o))return!1;if(e)return!1;if(o+2>=i)return!1;if(t.level>=t.options.maxNesting)return!1;for(t.pos=o+1;t.pos<i;){if(94===t.src.charCodeAt(t.pos)){n=!0;break}t.parser.skipToken(t)}return n&&o+1!==t.pos?(r=t.src.slice(o+1,t.pos)).match(/(^|[^\\])(\\\\)*\s/)?(t.pos=o,!1):(t.posMax=t.pos,t.pos=o+1,e||t.push({type:"sup",level:t.level,content:r.replace(lt,"$1")}),t.pos=t.posMax+1,t.posMax=i,!0):(t.pos=o,!1)}],["links",function(t,e){var n,r,i,o,s,a,l,c,u=!1,h=t.pos,p=t.posMax,f=t.pos,d=t.src.charCodeAt(f);if(33===d&&(u=!0,d=t.src.charCodeAt(++f)),91!==d)return!1;if(t.level>=t.options.maxNesting)return!1;if(n=f+1,(r=A(t,f))<0)return!1;if((a=r+1)<p&&40===t.src.charCodeAt(a)){for(a++;a<p&&(32===(c=t.src.charCodeAt(a))||10===c);a++);if(a>=p)return!1;for(f=a,M(t,a)?(o=t.linkContent,a=t.pos):o="",f=a;a<p&&(32===(c=t.src.charCodeAt(a))||10===c);a++);if(a<p&&f!==a&&E(t,a))for(s=t.linkContent,a=t.pos;a<p&&(32===(c=t.src.charCodeAt(a))||10===c);a++);else s="";if(a>=p||41!==t.src.charCodeAt(a))return t.pos=h,!1;a++}else{if(t.linkLevel>0)return!1;for(;a<p&&(32===(c=t.src.charCodeAt(a))||10===c);a++);if(a<p&&91===t.src.charCodeAt(a)&&(f=a+1,(a=A(t,a))>=0?i=t.src.slice(f,a++):a=f-1),i||(void 0===i&&(a=r+1),i=t.src.slice(n,r)),!(l=t.env.references[I(i)]))return t.pos=h,!1;o=l.href,s=l.title}return e||(t.pos=n,t.posMax=r,u?t.push({type:"image",src:o,title:s,alt:t.src.substr(n,r-n),level:t.level}):(t.push({type:"link_open",href:o,title:s,level:t.level++}),t.linkLevel++,t.parser.tokenize(t),t.linkLevel--,t.push({type:"link_close",level:--t.level}))),t.pos=a,t.posMax=p,!0}],["footnote_inline",function(t,e){var n,r,i,o,s=t.posMax,a=t.pos;return!(a+2>=s)&&(94===t.src.charCodeAt(a)&&(91===t.src.charCodeAt(a+1)&&(!(t.level>=t.options.maxNesting)&&(n=a+2,!((r=A(t,a+1))<0)&&(e||(t.env.footnotes||(t.env.footnotes={}),t.env.footnotes.list||(t.env.footnotes.list=[]),i=t.env.footnotes.list.length,t.pos=n,t.posMax=r,t.push({type:"footnote_ref",id:i,level:t.level}),t.linkLevel++,o=t.tokens.length,t.parser.tokenize(t),t.env.footnotes.list[i]={tokens:t.tokens.splice(o)},t.linkLevel--),t.pos=r+1,t.posMax=s,!0)))))}],["footnote_ref",function(t,e){var n,r,i,o,s=t.posMax,a=t.pos;if(a+3>s)return!1;if(!t.env.footnotes||!t.env.footnotes.refs)return!1;if(91!==t.src.charCodeAt(a))return!1;if(94!==t.src.charCodeAt(a+1))return!1;if(t.level>=t.options.maxNesting)return!1;for(r=a+2;r<s;r++){if(32===t.src.charCodeAt(r))return!1;if(10===t.src.charCodeAt(r))return!1;if(93===t.src.charCodeAt(r))break}return r!==a+2&&(!(r>=s)&&(r++,n=t.src.slice(a+2,r-1),void 0!==t.env.footnotes.refs[":"+n]&&(e||(t.env.footnotes.list||(t.env.footnotes.list=[]),t.env.footnotes.refs[":"+n]<0?(i=t.env.footnotes.list.length,t.env.footnotes.list[i]={label:n,count:0},t.env.footnotes.refs[":"+n]=i):i=t.env.footnotes.refs[":"+n],o=t.env.footnotes.list[i].count,t.env.footnotes.list[i].count++,t.push({type:"footnote_ref",id:i,subId:o,level:t.level})),t.pos=r,t.posMax=s,!0)))}],["autolink",function(t,e){var n,r,i,o,s,a=t.pos;return 60===t.src.charCodeAt(a)&&(!((n=t.src.slice(a)).indexOf(">")<0)&&((r=n.match(ht))?!(ct.indexOf(r[1].toLowerCase())<0)&&(s=S(o=r[0].slice(1,-1)),!!t.parser.validateLink(o)&&(e||(t.push({type:"link_open",href:s,level:t.level}),t.push({type:"text",content:o,level:t.level+1}),t.push({type:"link_close",level:t.level})),t.pos+=r[0].length,!0)):!!(i=n.match(ut))&&(s=S("mailto:"+(o=i[0].slice(1,-1))),!!t.parser.validateLink(s)&&(e||(t.push({type:"link_open",href:s,level:t.level}),t.push({type:"text",content:o,level:t.level+1}),t.push({type:"link_close",level:t.level})),t.pos+=i[0].length,!0))))}],["htmltag",function(t,e){var n,r,i,o=t.pos;return!!t.options.html&&(i=t.posMax,!(60!==t.src.charCodeAt(o)||o+2>=i)&&(!(33!==(n=t.src.charCodeAt(o+1))&&63!==n&&47!==n&&!function(t){var e=32|t;return e>=97&&e<=122}(n))&&(!!(r=t.src.slice(o).match(mt))&&(e||t.push({type:"htmltag",content:t.src.slice(o,o+r[0].length),level:t.level}),t.pos+=r[0].length,!0))))}],["entity",function(t,e){var r,i,o=t.pos,s=t.posMax;if(38!==t.src.charCodeAt(o))return!1;if(o+1<s)if(35===t.src.charCodeAt(o+1)){if(i=t.src.slice(o).match(vt))return e||(r="x"===i[1][0].toLowerCase()?parseInt(i[1].slice(1),16):parseInt(i[1],10),t.pending+=a(r)?l(r):l(65533)),t.pos+=i[0].length,!0}else if(i=t.src.slice(o).match(yt)){var c=n(i[1]);if(i[1]!==c)return e||(t.pending+=c),t.pos+=i[0].length,!0}return e||(t.pending+="&"),t.pos++,!0}]];function kt(){this.ruler=new x;for(var t=0;t<_t.length;t++)this.ruler.push(_t[t][0],_t[t][1]);this.validateLink=bt}function bt(t){var e=t.trim().toLowerCase();return-1===(e=p(e)).indexOf(":")||-1===["vbscript","javascript","file","data"].indexOf(e.split(":")[0])}kt.prototype.skipToken=function(t){var e,n,r=this.ruler.getRules(""),i=r.length,o=t.pos;if((n=t.cacheGet(o))>0)t.pos=n;else{for(e=0;e<i;e++)if(r[e](t,!0))return void t.cacheSet(o,t.pos);t.pos++,t.cacheSet(o,t.pos)}},kt.prototype.tokenize=function(t){for(var e,n,r=this.ruler.getRules(""),i=r.length,o=t.posMax;t.pos<o;){for(n=0;n<i&&!(e=r[n](t,!1));n++);if(e){if(t.pos>=o)break}else t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()},kt.prototype.parse=function(t,e,n,r){var i=new w(t,this,e,n,r);this.tokenize(i)};var xt={default:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","replacements","smartquotes","references","abbr2","footnote_tail"]},block:{rules:["blockquote","code","fences","footnote","heading","hr","htmlblock","lheading","list","paragraph","table"]},inline:{rules:["autolink","backticks","del","emphasis","entity","escape","footnote_ref","htmltag","links","newline","text"]}}},full:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{},block:{},inline:{}}},commonmark:{options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","abbr2"]},block:{rules:["blockquote","code","fences","heading","hr","htmlblock","lheading","list","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","htmltag","links","newline","text"]}}}};function wt(t,e,n){this.src=e,this.env=n,this.options=t.options,this.tokens=[],this.inlineMode=!1,this.inline=t.inline,this.block=t.block,this.renderer=t.renderer,this.typographer=t.typographer}function At(t,e){"string"!=typeof t&&(e=t,t="default"),e&&null!=e.linkify&&console.warn("linkify option is removed. Use linkify plugin instead:\n\nimport Remarkable from 'remarkable';\nimport linkify from 'remarkable/linkify';\nnew Remarkable().use(linkify)\n"),this.inline=new kt,this.block=new J,this.core=new B,this.renderer=new b,this.ruler=new x,this.options={},this.configure(xt[t]),this.set(e||{})}At.prototype.set=function(t){i(this.options,t)},At.prototype.configure=function(t){var e=this;if(!t)throw new Error("Wrong `remarkable` preset, check name/content");t.options&&e.set(t.options),t.components&&Object.keys(t.components).forEach((function(n){t.components[n].rules&&e[n].ruler.enable(t.components[n].rules,!0)}))},At.prototype.use=function(t,e){return t(this,e),this},At.prototype.parse=function(t,e){var n=new wt(this,t,e);return this.core.process(n),n.tokens},At.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)},At.prototype.parseInline=function(t,e){var n=new wt(this,t,e);return n.inlineMode=!0,this.core.process(n),n.tokens},At.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)};const Ct={jsdelivr:t=>`https://cdn.jsdelivr.net/npm/${t}`,unpkg:t=>`https://unpkg.com/${t}`};class St{constructor(){this.providers={...Ct},this.provider="jsdelivr"}async getFastestProvider(t=5e3,e="npm2url/dist/index.cjs"){const n=new AbortController;let r=0;try{return await new Promise(((i,o)=>{Promise.all(Object.entries(this.providers).map((async([t,r])=>{try{await async function(t,e){const n=await fetch(t,{signal:e});if(!n.ok)throw n;await n.text()}(r(e),n.signal),i(t)}catch{}}))).then((()=>o(new Error("All providers failed")))),r=setTimeout(o,t,new Error("Timed out"))}))}finally{n.abort(),clearTimeout(r)}}async findFastestProvider(t,e){return this.provider=await this.getFastestProvider(t,e),this.provider}setProvider(t,e){e?this.providers[t]=e:delete this.providers[t]}getFullUrl(t,e=this.provider){if(t.includes("://"))return t;const n=this.providers[e];if(!n)throw new Error(`Provider ${e} not found`);return n(t)}}class Mt{constructor(){this.listeners=[]}tap(t){return this.listeners.push(t),()=>this.revoke(t)}revoke(t){const e=this.listeners.indexOf(t);e>=0&&this.listeners.splice(e,1)}revokeAll(){this.listeners.splice(0)}call(...t){for(const e of this.listeners)e(...t)}}const Et={"&":"&amp;","<":"&lt;",'"':"&quot;"};function It(t){return t.replace(/[&<"]/g,(t=>Et[t]))}function zt(t,e){return`<${t}${e?Object.entries(e).map((([t,e])=>{if(null!=e&&!1!==e)return t=` ${It(t)}`,!0===e?t:`${t}="${It(e)}"`})).filter(Boolean).join(""):""}>`}function $t(t,e,n){return null==e?zt(t,n):zt(t,n)+(e||"")+function(t){return`</${t}>`}(t)}function Tt(t,e){return t.map((t=>{if("script"===t.type){const{textContent:e,...n}=t.data;return $t("script",e||"",n)}if("iife"===t.type){const{fn:r,getParams:i}=t.data;return $t("script",(n=function(t,e){const n=e.map((t=>"function"==typeof t?t.toString():JSON.stringify(t??null))).join(",");return`(${t.toString()})(${n})`}(r,(null==i?void 0:i(e))||[]),n.replace(/<(\/script>)/g,"\\x3c$2")))}var n;return""}))}const jt=Math.random().toString(36).slice(2,8);let Nt=0;function Ot(){}function Lt(t,e){const n=(t,r)=>e(t,(()=>{var e;null==(e=t.children)||e.forEach((e=>{n(e,t)}))}),r);n(t)}function qt(t){if("string"==typeof t){const e=t;t=t=>t.tagName===e}const e=t;return function(){let t=Array.from(this.childNodes);return e&&(t=t.filter((t=>e(t)))),t}}
/*! @gera2ld/jsx-dom v2.2.2 | ISC License */
const Xt="http://www.w3.org/1999/xlink",Ft={show:Xt,actuate:Xt,href:Xt};function Pt(t,e,...n){return function(t,e){let n;if("string"==typeof t)n=1;else{if("function"!=typeof t)throw new Error("Invalid VNode type");n=2}return{vtype:n,type:t,props:e}}(t,e=Object.assign({},e,{children:1===n.length?n[0]:n}))}function Rt(t){return t.children}const Bt={isSvg:!1};function Dt(t,e){Array.isArray(e)||(e=[e]),(e=e.filter(Boolean)).length&&t.append(...e)}const Yt={className:"class",labelFor:"for"};function Ut(t,e,n,r){if(e=Yt[e]||e,!0===n)t.setAttribute(e,"");else if(!1===n)t.removeAttribute(e);else{const i=r?Ft[e]:void 0;void 0!==i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}}function Ht(t,e){return Array.isArray(t)?t.map((t=>Ht(t,e))).reduce(((t,e)=>t.concat(e)),[]):Kt(t,e)}function Kt(t,e=Bt){if(null==t||"boolean"==typeof t)return null;if(t instanceof Node)return t;if(2===(null==(n=t)?void 0:n.vtype)){const{type:n,props:r}=t;if(n===Rt){const t=document.createDocumentFragment();if(r.children){Dt(t,Ht(r.children,e))}return t}return Kt(n(r),e)}var n;if((t=>"string"==typeof t||"number"==typeof t)(t))return document.createTextNode(`${t}`);if((t=>1===(null==t?void 0:t.vtype))(t)){let n;const{type:r,props:i}=t;if(e.isSvg||"svg"!==r||(e=Object.assign({},e,{isSvg:!0})),n=e.isSvg?document.createElementNS("http://www.w3.org/2000/svg",r):document.createElement(r),function(t,e,n){for(const r in e)if("key"!==r&&"children"!==r&&"ref"!==r)if("dangerouslySetInnerHTML"===r)t.innerHTML=e[r].__html;else if("innerHTML"===r||"textContent"===r||"innerText"===r||"value"===r&&["textarea","select"].includes(t.tagName)){const n=e[r];null!=n&&(t[r]=n)}else r.startsWith("on")?t[r.toLowerCase()]=e[r]:Ut(t,r,e[r],n.isSvg)}(n,i,e),i.children){let t=e;e.isSvg&&"foreignObject"===r&&(t=Object.assign({},t,{isSvg:!1}));const o=Ht(i.children,t);null!=o&&Dt(n,o)}const{ref:o}=i;return"function"==typeof o&&o(n),n}throw new Error("mount: Invalid Vnode!")}function Vt(...t){return Kt(Pt(...t))}const Zt=function(t){const e={};return function(...n){const r=`${n[0]}`;let i=e[r];return i||(i={value:t(...n)},e[r]=i),i.value}}((t=>{document.head.append(Vt("link",{rel:"preload",as:"script",href:t}))})),Wt={};async function Gt(t,e){var n;const r="script"===t.type&&(null==(n=t.data)?void 0:n.src)||"";if(t.loaded||(t.loaded=Wt[r]),!t.loaded){const n=function(){const t={};return t.promise=new Promise(((e,n)=>{t.resolve=e,t.reject=n})),t}();if(t.loaded=n.promise,"script"===t.type&&(document.head.append(Vt("script",{...t.data,onLoad:()=>n.resolve(),onError:n.reject})),r?Wt[r]=t.loaded:n.resolve()),"iife"===t.type){const{fn:r,getParams:i}=t.data;r(...(null==i?void 0:i(e))||[]),n.resolve()}}await t.loaded}async function Jt(t,e){t.forEach((t=>{var e;"script"===t.type&&(null==(e=t.data)?void 0:e.src)&&Zt(t.data.src)})),e={getMarkmap:()=>window.markmap,...e};for(const n of t)await Gt(n,e)}function Qt(t){return{type:"script",data:{src:t}}}function te(t){return{type:"stylesheet",data:{href:t}}}var ee=(e,n)=>{const r=(n||{}).delimiter||"$";if(1!==r.length)throw new Error("invalid delimiter");const i=t();e.inline.ruler.push("katex",((t,e)=>{const n=t.pos,i=t.posMax;let o=n;if(t.src.charAt(o)!==r)return!1;for(++o;o<i&&t.src.charAt(o)===r;)++o;const s=t.src.slice(n,o);if(s.length>2)return!1;const a=o;let l=0;for(;o<i;){const n=t.src.charAt(o);if("{"!==n||0!=o&&"\\"==t.src.charAt(o-1)){if("}"!==n||0!=o&&"\\"==t.src.charAt(o-1)){if(n===r&&0===l){const n=o;let l=o+1;for(;l<i&&t.src.charAt(l)===r;)++l;if(l-n===s.length){if(!e){const e=t.src.slice(a,n).replace(/[ \n]+/g," ").trim();t.push({type:"katex",content:e,block:s.length>1,level:t.level})}return t.pos=l,!0}}}else if(l-=1,l<0)return!1}else l+=1;o+=1}return e||(t.pending+=s),t.pos+=s.length,!0}),n),e.block.ruler.push("katex",((t,e,n)=>{let i=!1,o=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];if(o+1>s)return!1;const a=t.src.charAt(o);if(a!==r)return!1;let l=o;o=t.skipChars(o,a);let c=o-l;if(2!==c)return!1;let u=e;for(;(++u,!(u>=n))&&(o=l=t.bMarks[u]+t.tShift[u],s=t.eMarks[u],!(o<s&&t.tShift[u]<t.blkIndent));)if(t.src.charAt(o)===r&&!(t.tShift[u]-t.blkIndent>=4||(o=t.skipChars(o,a),o-l<c||(o=t.skipSpaces(o),o<s)))){i=!0;break}c=t.tShift[e],t.line=u+(i?1:0);const h=t.getLines(e+1,u,c,!0).replace(/[ \n]+/g," ").trim();return t.tokens.push({type:"katex",params:null,content:h,lines:[e,t.line],level:t.level,block:!0}),!0}),n),e.renderer.rules.katex=(t,e)=>{return n=t[e].content,r=t[e].block,i.renderToString(n,{displayMode:r,throwOnError:!1});var n,r},e.renderer.rules.katex.delimiter=r};
/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function ne(t){return null==t}var re={isNothing:ne,isObject:function(t){return"object"==typeof t&&null!==t},toArray:function(t){return Array.isArray(t)?t:ne(t)?[]:[t]},repeat:function(t,e){var n,r="";for(n=0;n<e;n+=1)r+=t;return r},isNegativeZero:function(t){return 0===t&&Number.NEGATIVE_INFINITY===1/t},extend:function(t,e){var n,r,i,o;if(e)for(n=0,r=(o=Object.keys(e)).length;n<r;n+=1)t[i=o[n]]=e[i];return t}};function ie(t,e){var n="",r=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(n+='in "'+t.mark.name+'" '),n+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(n+="\n\n"+t.mark.snippet),r+" "+n):r}function oe(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=ie(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe.prototype.toString=function(t){return this.name+": "+ie(this,t)};var se=oe;function ae(t,e,n,r,i){var o="",s="",a=Math.floor(i/2)-1;return r-e>a&&(e=r-a+(o=" ... ").length),n-r>a&&(n=r+a-(s=" ...").length),{str:o+t.slice(e,n).replace(/\t/g,"→")+s,pos:r-e+o.length}}function le(t,e){return re.repeat(" ",e-t.length)+t}var ce=function(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),"number"!=typeof e.indent&&(e.indent=1),"number"!=typeof e.linesBefore&&(e.linesBefore=3),"number"!=typeof e.linesAfter&&(e.linesAfter=2);for(var n,r=/\r?\n|\r|\0/g,i=[0],o=[],s=-1;n=r.exec(t.buffer);)o.push(n.index),i.push(n.index+n[0].length),t.position<=n.index&&s<0&&(s=i.length-2);s<0&&(s=i.length-1);var a,l,c="",u=Math.min(t.line+e.linesAfter,o.length).toString().length,h=e.maxLength-(e.indent+u+3);for(a=1;a<=e.linesBefore&&!(s-a<0);a++)l=ae(t.buffer,i[s-a],o[s-a],t.position-(i[s]-i[s-a]),h),c=re.repeat(" ",e.indent)+le((t.line-a+1).toString(),u)+" | "+l.str+"\n"+c;for(l=ae(t.buffer,i[s],o[s],t.position,h),c+=re.repeat(" ",e.indent)+le((t.line+1).toString(),u)+" | "+l.str+"\n",c+=re.repeat("-",e.indent+u+3+l.pos)+"^\n",a=1;a<=e.linesAfter&&!(s+a>=o.length);a++)l=ae(t.buffer,i[s+a],o[s+a],t.position-(i[s]-i[s+a]),h),c+=re.repeat(" ",e.indent)+le((t.line+a+1).toString(),u)+" | "+l.str+"\n";return c.replace(/\n$/,"")},ue=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],he=["scalar","sequence","mapping"];var pe=function(t,e){var n,r;if(e=e||{},Object.keys(e).forEach((function(e){if(-1===ue.indexOf(e))throw new se('Unknown option "'+e+'" is met in definition of "'+t+'" YAML type.')})),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(t){return t},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=(n=e.styleAliases||null,r={},null!==n&&Object.keys(n).forEach((function(t){n[t].forEach((function(e){r[String(e)]=t}))})),r),-1===he.indexOf(this.kind))throw new se('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')};function fe(t,e){var n=[];return t[e].forEach((function(t){var e=n.length;n.forEach((function(n,r){n.tag===t.tag&&n.kind===t.kind&&n.multi===t.multi&&(e=r)})),n[e]=t})),n}function de(t){return this.extend(t)}de.prototype.extend=function(t){var e=[],n=[];if(t instanceof pe)n.push(t);else if(Array.isArray(t))n=n.concat(t);else{if(!t||!Array.isArray(t.implicit)&&!Array.isArray(t.explicit))throw new se("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");t.implicit&&(e=e.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit))}e.forEach((function(t){if(!(t instanceof pe))throw new se("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(t.loadKind&&"scalar"!==t.loadKind)throw new se("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(t.multi)throw new se("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")})),n.forEach((function(t){if(!(t instanceof pe))throw new se("Specified list of YAML types (or a single Type object) contains a non-Type object.")}));var r=Object.create(de.prototype);return r.implicit=(this.implicit||[]).concat(e),r.explicit=(this.explicit||[]).concat(n),r.compiledImplicit=fe(r,"implicit"),r.compiledExplicit=fe(r,"explicit"),r.compiledTypeMap=function(){var t,e,n={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function r(t){t.multi?(n.multi[t.kind].push(t),n.multi.fallback.push(t)):n[t.kind][t.tag]=n.fallback[t.tag]=t}for(t=0,e=arguments.length;t<e;t+=1)arguments[t].forEach(r);return n}(r.compiledImplicit,r.compiledExplicit),r};var ge=de,me=new pe("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return null!==t?t:""}}),ve=new pe("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return null!==t?t:[]}}),ye=new pe("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return null!==t?t:{}}}),_e=new ge({explicit:[me,ve,ye]});var ke=new pe("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(t){if(null===t)return!0;var e=t.length;return 1===e&&"~"===t||4===e&&("null"===t||"Null"===t||"NULL"===t)},construct:function(){return null},predicate:function(t){return null===t},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});var be=new pe("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(t){if(null===t)return!1;var e=t.length;return 4===e&&("true"===t||"True"===t||"TRUE"===t)||5===e&&("false"===t||"False"===t||"FALSE"===t)},construct:function(t){return"true"===t||"True"===t||"TRUE"===t},predicate:function(t){return"[object Boolean]"===Object.prototype.toString.call(t)},represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function xe(t){return 48<=t&&t<=55}function we(t){return 48<=t&&t<=57}var Ae=new pe("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(t){if(null===t)return!1;var e,n,r=t.length,i=0,o=!1;if(!r)return!1;if("-"!==(e=t[i])&&"+"!==e||(e=t[++i]),"0"===e){if(i+1===r)return!0;if("b"===(e=t[++i])){for(i++;i<r;i++)if("_"!==(e=t[i])){if("0"!==e&&"1"!==e)return!1;o=!0}return o&&"_"!==e}if("x"===e){for(i++;i<r;i++)if("_"!==(e=t[i])){if(!(48<=(n=t.charCodeAt(i))&&n<=57||65<=n&&n<=70||97<=n&&n<=102))return!1;o=!0}return o&&"_"!==e}if("o"===e){for(i++;i<r;i++)if("_"!==(e=t[i])){if(!xe(t.charCodeAt(i)))return!1;o=!0}return o&&"_"!==e}}if("_"===e)return!1;for(;i<r;i++)if("_"!==(e=t[i])){if(!we(t.charCodeAt(i)))return!1;o=!0}return!(!o||"_"===e)},construct:function(t){var e,n=t,r=1;if(-1!==n.indexOf("_")&&(n=n.replace(/_/g,"")),"-"!==(e=n[0])&&"+"!==e||("-"===e&&(r=-1),e=(n=n.slice(1))[0]),"0"===n)return 0;if("0"===e){if("b"===n[1])return r*parseInt(n.slice(2),2);if("x"===n[1])return r*parseInt(n.slice(2),16);if("o"===n[1])return r*parseInt(n.slice(2),8)}return r*parseInt(n,10)},predicate:function(t){return"[object Number]"===Object.prototype.toString.call(t)&&t%1==0&&!re.isNegativeZero(t)},represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Ce=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");var Se=/^[-+]?[0-9]+e/;var Me=new pe("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(t){return null!==t&&!(!Ce.test(t)||"_"===t[t.length-1])},construct:function(t){var e,n;return n="-"===(e=t.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),".inf"===e?1===n?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===e?NaN:n*parseFloat(e,10)},predicate:function(t){return"[object Number]"===Object.prototype.toString.call(t)&&(t%1!=0||re.isNegativeZero(t))},represent:function(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(re.isNegativeZero(t))return"-0.0";return n=t.toString(10),Se.test(n)?n.replace("e",".e"):n},defaultStyle:"lowercase"}),Ee=_e.extend({implicit:[ke,be,Ae,Me]}),Ie=Ee,ze=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),$e=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");var Te=new pe("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(t){return null!==t&&(null!==ze.exec(t)||null!==$e.exec(t))},construct:function(t){var e,n,r,i,o,s,a,l,c=0,u=null;if(null===(e=ze.exec(t))&&(e=$e.exec(t)),null===e)throw new Error("Date resolve error");if(n=+e[1],r=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(n,r,i));if(o=+e[4],s=+e[5],a=+e[6],e[7]){for(c=e[7].slice(0,3);c.length<3;)c+="0";c=+c}return e[9]&&(u=6e4*(60*+e[10]+ +(e[11]||0)),"-"===e[9]&&(u=-u)),l=new Date(Date.UTC(n,r,i,o,s,a,c)),u&&l.setTime(l.getTime()-u),l},instanceOf:Date,represent:function(t){return t.toISOString()}});var je=new pe("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(t){return"<<"===t||null===t}}),Ne="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";var Oe=new pe("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(t){if(null===t)return!1;var e,n,r=0,i=t.length,o=Ne;for(n=0;n<i;n++)if(!((e=o.indexOf(t.charAt(n)))>64)){if(e<0)return!1;r+=6}return r%8==0},construct:function(t){var e,n,r=t.replace(/[\r\n=]/g,""),i=r.length,o=Ne,s=0,a=[];for(e=0;e<i;e++)e%4==0&&e&&(a.push(s>>16&255),a.push(s>>8&255),a.push(255&s)),s=s<<6|o.indexOf(r.charAt(e));return 0===(n=i%4*6)?(a.push(s>>16&255),a.push(s>>8&255),a.push(255&s)):18===n?(a.push(s>>10&255),a.push(s>>2&255)):12===n&&a.push(s>>4&255),new Uint8Array(a)},predicate:function(t){return"[object Uint8Array]"===Object.prototype.toString.call(t)},represent:function(t){var e,n,r="",i=0,o=t.length,s=Ne;for(e=0;e<o;e++)e%3==0&&e&&(r+=s[i>>18&63],r+=s[i>>12&63],r+=s[i>>6&63],r+=s[63&i]),i=(i<<8)+t[e];return 0===(n=o%3)?(r+=s[i>>18&63],r+=s[i>>12&63],r+=s[i>>6&63],r+=s[63&i]):2===n?(r+=s[i>>10&63],r+=s[i>>4&63],r+=s[i<<2&63],r+=s[64]):1===n&&(r+=s[i>>2&63],r+=s[i<<4&63],r+=s[64],r+=s[64]),r}}),Le=Object.prototype.hasOwnProperty,qe=Object.prototype.toString;var Xe=new pe("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(t){if(null===t)return!0;var e,n,r,i,o,s=[],a=t;for(e=0,n=a.length;e<n;e+=1){if(r=a[e],o=!1,"[object Object]"!==qe.call(r))return!1;for(i in r)if(Le.call(r,i)){if(o)return!1;o=!0}if(!o)return!1;if(-1!==s.indexOf(i))return!1;s.push(i)}return!0},construct:function(t){return null!==t?t:[]}}),Fe=Object.prototype.toString;var Pe=new pe("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(t){if(null===t)return!0;var e,n,r,i,o,s=t;for(o=new Array(s.length),e=0,n=s.length;e<n;e+=1){if(r=s[e],"[object Object]"!==Fe.call(r))return!1;if(1!==(i=Object.keys(r)).length)return!1;o[e]=[i[0],r[i[0]]]}return!0},construct:function(t){if(null===t)return[];var e,n,r,i,o,s=t;for(o=new Array(s.length),e=0,n=s.length;e<n;e+=1)r=s[e],i=Object.keys(r),o[e]=[i[0],r[i[0]]];return o}}),Re=Object.prototype.hasOwnProperty;var Be=new pe("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(t){if(null===t)return!0;var e,n=t;for(e in n)if(Re.call(n,e)&&null!==n[e])return!1;return!0},construct:function(t){return null!==t?t:{}}}),De=Ie.extend({implicit:[Te,je],explicit:[Oe,Xe,Pe,Be]}),Ye=Object.prototype.hasOwnProperty,Ue=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,He=/[\x85\u2028\u2029]/,Ke=/[,\[\]\{\}]/,Ve=/^(?:!|!!|![a-z\-]+!)$/i,Ze=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function We(t){return Object.prototype.toString.call(t)}function Ge(t){return 10===t||13===t}function Je(t){return 9===t||32===t}function Qe(t){return 9===t||32===t||10===t||13===t}function tn(t){return 44===t||91===t||93===t||123===t||125===t}function en(t){var e;return 48<=t&&t<=57?t-48:97<=(e=32|t)&&e<=102?e-97+10:-1}function nn(t){return 48===t?"\0":97===t?"":98===t?"\b":116===t||9===t?"\t":110===t?"\n":118===t?"\v":102===t?"\f":114===t?"\r":101===t?"":32===t?" ":34===t?'"':47===t?"/":92===t?"\\":78===t?"":95===t?" ":76===t?"\u2028":80===t?"\u2029":""}function rn(t){return t<=65535?String.fromCharCode(t):String.fromCharCode(55296+(t-65536>>10),56320+(t-65536&1023))}for(var on=new Array(256),sn=new Array(256),an=0;an<256;an++)on[an]=nn(an)?1:0,sn[an]=nn(an);function ln(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||De,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function cn(t,e){var n={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return n.snippet=ce(n),new se(e,n)}function un(t,e){throw cn(t,e)}function hn(t,e){t.onWarning&&t.onWarning.call(null,cn(t,e))}var pn={YAML:function(t,e,n){var r,i,o;null!==t.version&&un(t,"duplication of %YAML directive"),1!==n.length&&un(t,"YAML directive accepts exactly one argument"),null===(r=/^([0-9]+)\.([0-9]+)$/.exec(n[0]))&&un(t,"ill-formed argument of the YAML directive"),i=parseInt(r[1],10),o=parseInt(r[2],10),1!==i&&un(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=o<2,1!==o&&2!==o&&hn(t,"unsupported YAML version of the document")},TAG:function(t,e,n){var r,i;2!==n.length&&un(t,"TAG directive accepts exactly two arguments"),r=n[0],i=n[1],Ve.test(r)||un(t,"ill-formed tag handle (first argument) of the TAG directive"),Ye.call(t.tagMap,r)&&un(t,'there is a previously declared suffix for "'+r+'" tag handle'),Ze.test(i)||un(t,"ill-formed tag prefix (second argument) of the TAG directive");try{i=decodeURIComponent(i)}catch(o){un(t,"tag prefix is malformed: "+i)}t.tagMap[r]=i}};function fn(t,e,n,r){var i,o,s,a;if(e<n){if(a=t.input.slice(e,n),r)for(i=0,o=a.length;i<o;i+=1)9===(s=a.charCodeAt(i))||32<=s&&s<=1114111||un(t,"expected valid JSON character");else Ue.test(a)&&un(t,"the stream contains non-printable characters");t.result+=a}}function dn(t,e,n,r){var i,o,s,a;for(re.isObject(n)||un(t,"cannot merge mappings; the provided source object is unacceptable"),s=0,a=(i=Object.keys(n)).length;s<a;s+=1)o=i[s],Ye.call(e,o)||(e[o]=n[o],r[o]=!0)}function gn(t,e,n,r,i,o,s,a,l){var c,u;if(Array.isArray(i))for(c=0,u=(i=Array.prototype.slice.call(i)).length;c<u;c+=1)Array.isArray(i[c])&&un(t,"nested arrays are not supported inside keys"),"object"==typeof i&&"[object Object]"===We(i[c])&&(i[c]="[object Object]");if("object"==typeof i&&"[object Object]"===We(i)&&(i="[object Object]"),i=String(i),null===e&&(e={}),"tag:yaml.org,2002:merge"===r)if(Array.isArray(o))for(c=0,u=o.length;c<u;c+=1)dn(t,e,o[c],n);else dn(t,e,o,n);else t.json||Ye.call(n,i)||!Ye.call(e,i)||(t.line=s||t.line,t.lineStart=a||t.lineStart,t.position=l||t.position,un(t,"duplicated mapping key")),"__proto__"===i?Object.defineProperty(e,i,{configurable:!0,enumerable:!0,writable:!0,value:o}):e[i]=o,delete n[i];return e}function mn(t){var e;10===(e=t.input.charCodeAt(t.position))?t.position++:13===e?(t.position++,10===t.input.charCodeAt(t.position)&&t.position++):un(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function vn(t,e,n){for(var r=0,i=t.input.charCodeAt(t.position);0!==i;){for(;Je(i);)9===i&&-1===t.firstTabInLine&&(t.firstTabInLine=t.position),i=t.input.charCodeAt(++t.position);if(e&&35===i)do{i=t.input.charCodeAt(++t.position)}while(10!==i&&13!==i&&0!==i);if(!Ge(i))break;for(mn(t),i=t.input.charCodeAt(t.position),r++,t.lineIndent=0;32===i;)t.lineIndent++,i=t.input.charCodeAt(++t.position)}return-1!==n&&0!==r&&t.lineIndent<n&&hn(t,"deficient indentation"),r}function yn(t){var e,n=t.position;return!(45!==(e=t.input.charCodeAt(n))&&46!==e||e!==t.input.charCodeAt(n+1)||e!==t.input.charCodeAt(n+2)||(n+=3,0!==(e=t.input.charCodeAt(n))&&!Qe(e)))}function _n(t,e){1===e?t.result+=" ":e>1&&(t.result+=re.repeat("\n",e-1))}function kn(t,e){var n,r,i=t.tag,o=t.anchor,s=[],a=!1;if(-1!==t.firstTabInLine)return!1;for(null!==t.anchor&&(t.anchorMap[t.anchor]=s),r=t.input.charCodeAt(t.position);0!==r&&(-1!==t.firstTabInLine&&(t.position=t.firstTabInLine,un(t,"tab characters must not be used in indentation")),45===r)&&Qe(t.input.charCodeAt(t.position+1));)if(a=!0,t.position++,vn(t,!0,-1)&&t.lineIndent<=e)s.push(null),r=t.input.charCodeAt(t.position);else if(n=t.line,wn(t,e,3,!1,!0),s.push(t.result),vn(t,!0,-1),r=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&0!==r)un(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break;return!!a&&(t.tag=i,t.anchor=o,t.kind="sequence",t.result=s,!0)}function bn(t){var e,n,r,i,o=!1,s=!1;if(33!==(i=t.input.charCodeAt(t.position)))return!1;if(null!==t.tag&&un(t,"duplication of a tag property"),60===(i=t.input.charCodeAt(++t.position))?(o=!0,i=t.input.charCodeAt(++t.position)):33===i?(s=!0,n="!!",i=t.input.charCodeAt(++t.position)):n="!",e=t.position,o){do{i=t.input.charCodeAt(++t.position)}while(0!==i&&62!==i);t.position<t.length?(r=t.input.slice(e,t.position),i=t.input.charCodeAt(++t.position)):un(t,"unexpected end of the stream within a verbatim tag")}else{for(;0!==i&&!Qe(i);)33===i&&(s?un(t,"tag suffix cannot contain exclamation marks"):(n=t.input.slice(e-1,t.position+1),Ve.test(n)||un(t,"named tag handle cannot contain such characters"),s=!0,e=t.position+1)),i=t.input.charCodeAt(++t.position);r=t.input.slice(e,t.position),Ke.test(r)&&un(t,"tag suffix cannot contain flow indicator characters")}r&&!Ze.test(r)&&un(t,"tag name cannot contain such characters: "+r);try{r=decodeURIComponent(r)}catch(a){un(t,"tag name is malformed: "+r)}return o?t.tag=r:Ye.call(t.tagMap,n)?t.tag=t.tagMap[n]+r:"!"===n?t.tag="!"+r:"!!"===n?t.tag="tag:yaml.org,2002:"+r:un(t,'undeclared tag handle "'+n+'"'),!0}function xn(t){var e,n;if(38!==(n=t.input.charCodeAt(t.position)))return!1;for(null!==t.anchor&&un(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;0!==n&&!Qe(n)&&!tn(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&un(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function wn(t,e,n,r,i){var o,s,a,l,c,u,h,p,f,d=1,g=!1,m=!1;if(null!==t.listener&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,o=s=a=4===n||3===n,r&&vn(t,!0,-1)&&(g=!0,t.lineIndent>e?d=1:t.lineIndent===e?d=0:t.lineIndent<e&&(d=-1)),1===d)for(;bn(t)||xn(t);)vn(t,!0,-1)?(g=!0,a=o,t.lineIndent>e?d=1:t.lineIndent===e?d=0:t.lineIndent<e&&(d=-1)):a=!1;if(a&&(a=g||i),1!==d&&4!==n||(p=1===n||2===n?e:e+1,f=t.position-t.lineStart,1===d?a&&(kn(t,f)||function(t,e,n){var r,i,o,s,a,l,c,u=t.tag,h=t.anchor,p={},f=Object.create(null),d=null,g=null,m=null,v=!1,y=!1;if(-1!==t.firstTabInLine)return!1;for(null!==t.anchor&&(t.anchorMap[t.anchor]=p),c=t.input.charCodeAt(t.position);0!==c;){if(v||-1===t.firstTabInLine||(t.position=t.firstTabInLine,un(t,"tab characters must not be used in indentation")),r=t.input.charCodeAt(t.position+1),o=t.line,63!==c&&58!==c||!Qe(r)){if(s=t.line,a=t.lineStart,l=t.position,!wn(t,n,2,!1,!0))break;if(t.line===o){for(c=t.input.charCodeAt(t.position);Je(c);)c=t.input.charCodeAt(++t.position);if(58===c)Qe(c=t.input.charCodeAt(++t.position))||un(t,"a whitespace character is expected after the key-value separator within a block mapping"),v&&(gn(t,p,f,d,g,null,s,a,l),d=g=m=null),y=!0,v=!1,i=!1,d=t.tag,g=t.result;else{if(!y)return t.tag=u,t.anchor=h,!0;un(t,"can not read an implicit mapping pair; a colon is missed")}}else{if(!y)return t.tag=u,t.anchor=h,!0;un(t,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===c?(v&&(gn(t,p,f,d,g,null,s,a,l),d=g=m=null),y=!0,v=!0,i=!0):v?(v=!1,i=!0):un(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,c=r;if((t.line===o||t.lineIndent>e)&&(v&&(s=t.line,a=t.lineStart,l=t.position),wn(t,e,4,!0,i)&&(v?g=t.result:m=t.result),v||(gn(t,p,f,d,g,m,s,a,l),d=g=m=null),vn(t,!0,-1),c=t.input.charCodeAt(t.position)),(t.line===o||t.lineIndent>e)&&0!==c)un(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return v&&gn(t,p,f,d,g,null,s,a,l),y&&(t.tag=u,t.anchor=h,t.kind="mapping",t.result=p),y}(t,f,p))||function(t,e){var n,r,i,o,s,a,l,c,u,h,p,f,d=!0,g=t.tag,m=t.anchor,v=Object.create(null);if(91===(f=t.input.charCodeAt(t.position)))s=93,c=!1,o=[];else{if(123!==f)return!1;s=125,c=!0,o={}}for(null!==t.anchor&&(t.anchorMap[t.anchor]=o),f=t.input.charCodeAt(++t.position);0!==f;){if(vn(t,!0,e),(f=t.input.charCodeAt(t.position))===s)return t.position++,t.tag=g,t.anchor=m,t.kind=c?"mapping":"sequence",t.result=o,!0;d?44===f&&un(t,"expected the node content, but found ','"):un(t,"missed comma between flow collection entries"),p=null,a=l=!1,63===f&&Qe(t.input.charCodeAt(t.position+1))&&(a=l=!0,t.position++,vn(t,!0,e)),n=t.line,r=t.lineStart,i=t.position,wn(t,e,1,!1,!0),h=t.tag,u=t.result,vn(t,!0,e),f=t.input.charCodeAt(t.position),!l&&t.line!==n||58!==f||(a=!0,f=t.input.charCodeAt(++t.position),vn(t,!0,e),wn(t,e,1,!1,!0),p=t.result),c?gn(t,o,v,h,u,p,n,r,i):a?o.push(gn(t,null,v,h,u,p,n,r,i)):o.push(u),vn(t,!0,e),44===(f=t.input.charCodeAt(t.position))?(d=!0,f=t.input.charCodeAt(++t.position)):d=!1}un(t,"unexpected end of the stream within a flow collection")}(t,p)?m=!0:(s&&function(t,e){var n,r,i,o,s,a=1,l=!1,c=!1,u=e,h=0,p=!1;if(124===(o=t.input.charCodeAt(t.position)))r=!1;else{if(62!==o)return!1;r=!0}for(t.kind="scalar",t.result="";0!==o;)if(43===(o=t.input.charCodeAt(++t.position))||45===o)1===a?a=43===o?3:2:un(t,"repeat of a chomping mode identifier");else{if(!((i=48<=(s=o)&&s<=57?s-48:-1)>=0))break;0===i?un(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):c?un(t,"repeat of an indentation width identifier"):(u=e+i-1,c=!0)}if(Je(o)){do{o=t.input.charCodeAt(++t.position)}while(Je(o));if(35===o)do{o=t.input.charCodeAt(++t.position)}while(!Ge(o)&&0!==o)}for(;0!==o;){for(mn(t),t.lineIndent=0,o=t.input.charCodeAt(t.position);(!c||t.lineIndent<u)&&32===o;)t.lineIndent++,o=t.input.charCodeAt(++t.position);if(!c&&t.lineIndent>u&&(u=t.lineIndent),Ge(o))h++;else{if(t.lineIndent<u){3===a?t.result+=re.repeat("\n",l?1+h:h):1===a&&l&&(t.result+="\n");break}for(r?Je(o)?(p=!0,t.result+=re.repeat("\n",l?1+h:h)):p?(p=!1,t.result+=re.repeat("\n",h+1)):0===h?l&&(t.result+=" "):t.result+=re.repeat("\n",h):t.result+=re.repeat("\n",l?1+h:h),l=!0,c=!0,h=0,n=t.position;!Ge(o)&&0!==o;)o=t.input.charCodeAt(++t.position);fn(t,n,t.position,!1)}}return!0}(t,p)||function(t,e){var n,r,i;if(39!==(n=t.input.charCodeAt(t.position)))return!1;for(t.kind="scalar",t.result="",t.position++,r=i=t.position;0!==(n=t.input.charCodeAt(t.position));)if(39===n){if(fn(t,r,t.position,!0),39!==(n=t.input.charCodeAt(++t.position)))return!0;r=t.position,t.position++,i=t.position}else Ge(n)?(fn(t,r,i,!0),_n(t,vn(t,!1,e)),r=i=t.position):t.position===t.lineStart&&yn(t)?un(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);un(t,"unexpected end of the stream within a single quoted scalar")}(t,p)||function(t,e){var n,r,i,o,s,a,l;if(34!==(a=t.input.charCodeAt(t.position)))return!1;for(t.kind="scalar",t.result="",t.position++,n=r=t.position;0!==(a=t.input.charCodeAt(t.position));){if(34===a)return fn(t,n,t.position,!0),t.position++,!0;if(92===a){if(fn(t,n,t.position,!0),Ge(a=t.input.charCodeAt(++t.position)))vn(t,!1,e);else if(a<256&&on[a])t.result+=sn[a],t.position++;else if((s=120===(l=a)?2:117===l?4:85===l?8:0)>0){for(i=s,o=0;i>0;i--)(s=en(a=t.input.charCodeAt(++t.position)))>=0?o=(o<<4)+s:un(t,"expected hexadecimal character");t.result+=rn(o),t.position++}else un(t,"unknown escape sequence");n=r=t.position}else Ge(a)?(fn(t,n,r,!0),_n(t,vn(t,!1,e)),n=r=t.position):t.position===t.lineStart&&yn(t)?un(t,"unexpected end of the document within a double quoted scalar"):(t.position++,r=t.position)}un(t,"unexpected end of the stream within a double quoted scalar")}(t,p)?m=!0:!function(t){var e,n,r;if(42!==(r=t.input.charCodeAt(t.position)))return!1;for(r=t.input.charCodeAt(++t.position),e=t.position;0!==r&&!Qe(r)&&!tn(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&un(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),Ye.call(t.anchorMap,n)||un(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],vn(t,!0,-1),!0}(t)?function(t,e,n){var r,i,o,s,a,l,c,u,h=t.kind,p=t.result;if(Qe(u=t.input.charCodeAt(t.position))||tn(u)||35===u||38===u||42===u||33===u||124===u||62===u||39===u||34===u||37===u||64===u||96===u)return!1;if((63===u||45===u)&&(Qe(r=t.input.charCodeAt(t.position+1))||n&&tn(r)))return!1;for(t.kind="scalar",t.result="",i=o=t.position,s=!1;0!==u;){if(58===u){if(Qe(r=t.input.charCodeAt(t.position+1))||n&&tn(r))break}else if(35===u){if(Qe(t.input.charCodeAt(t.position-1)))break}else{if(t.position===t.lineStart&&yn(t)||n&&tn(u))break;if(Ge(u)){if(a=t.line,l=t.lineStart,c=t.lineIndent,vn(t,!1,-1),t.lineIndent>=e){s=!0,u=t.input.charCodeAt(t.position);continue}t.position=o,t.line=a,t.lineStart=l,t.lineIndent=c;break}}s&&(fn(t,i,o,!1),_n(t,t.line-a),i=o=t.position,s=!1),Je(u)||(o=t.position+1),u=t.input.charCodeAt(++t.position)}return fn(t,i,o,!1),!!t.result||(t.kind=h,t.result=p,!1)}(t,p,1===n)&&(m=!0,null===t.tag&&(t.tag="?")):(m=!0,null===t.tag&&null===t.anchor||un(t,"alias node should not have any properties")),null!==t.anchor&&(t.anchorMap[t.anchor]=t.result)):0===d&&(m=a&&kn(t,f))),null===t.tag)null!==t.anchor&&(t.anchorMap[t.anchor]=t.result);else if("?"===t.tag){for(null!==t.result&&"scalar"!==t.kind&&un(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),l=0,c=t.implicitTypes.length;l<c;l+=1)if((h=t.implicitTypes[l]).resolve(t.result)){t.result=h.construct(t.result),t.tag=h.tag,null!==t.anchor&&(t.anchorMap[t.anchor]=t.result);break}}else if("!"!==t.tag){if(Ye.call(t.typeMap[t.kind||"fallback"],t.tag))h=t.typeMap[t.kind||"fallback"][t.tag];else for(h=null,l=0,c=(u=t.typeMap.multi[t.kind||"fallback"]).length;l<c;l+=1)if(t.tag.slice(0,u[l].tag.length)===u[l].tag){h=u[l];break}h||un(t,"unknown tag !<"+t.tag+">"),null!==t.result&&h.kind!==t.kind&&un(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+h.kind+'", not "'+t.kind+'"'),h.resolve(t.result,t.tag)?(t.result=h.construct(t.result,t.tag),null!==t.anchor&&(t.anchorMap[t.anchor]=t.result)):un(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return null!==t.listener&&t.listener("close",t),null!==t.tag||null!==t.anchor||m}function An(t){var e,n,r,i,o=t.position,s=!1;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);0!==(i=t.input.charCodeAt(t.position))&&(vn(t,!0,-1),i=t.input.charCodeAt(t.position),!(t.lineIndent>0||37!==i));){for(s=!0,i=t.input.charCodeAt(++t.position),e=t.position;0!==i&&!Qe(i);)i=t.input.charCodeAt(++t.position);for(r=[],(n=t.input.slice(e,t.position)).length<1&&un(t,"directive name must not be less than one character in length");0!==i;){for(;Je(i);)i=t.input.charCodeAt(++t.position);if(35===i){do{i=t.input.charCodeAt(++t.position)}while(0!==i&&!Ge(i));break}if(Ge(i))break;for(e=t.position;0!==i&&!Qe(i);)i=t.input.charCodeAt(++t.position);r.push(t.input.slice(e,t.position))}0!==i&&mn(t),Ye.call(pn,n)?pn[n](t,n,r):hn(t,'unknown document directive "'+n+'"')}vn(t,!0,-1),0===t.lineIndent&&45===t.input.charCodeAt(t.position)&&45===t.input.charCodeAt(t.position+1)&&45===t.input.charCodeAt(t.position+2)?(t.position+=3,vn(t,!0,-1)):s&&un(t,"directives end mark is expected"),wn(t,t.lineIndent-1,4,!1,!0),vn(t,!0,-1),t.checkLineBreaks&&He.test(t.input.slice(o,t.position))&&hn(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&yn(t)?46===t.input.charCodeAt(t.position)&&(t.position+=3,vn(t,!0,-1)):t.position<t.length-1&&un(t,"end of the stream or a document separator is expected")}function Cn(t,e){e=e||{},0!==(t=String(t)).length&&(10!==t.charCodeAt(t.length-1)&&13!==t.charCodeAt(t.length-1)&&(t+="\n"),65279===t.charCodeAt(0)&&(t=t.slice(1)));var n=new ln(t,e),r=t.indexOf("\0");for(-1!==r&&(n.position=r,un(n,"null byte is not allowed in input")),n.input+="\0";32===n.input.charCodeAt(n.position);)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)An(n);return n.documents}var Sn={loadAll:function(t,e,n){null!==e&&"object"==typeof e&&void 0===n&&(n=e,e=null);var r=Cn(t,n);if("function"!=typeof e)return r;for(var i=0,o=r.length;i<o;i+=1)e(r[i])},load:function(t,e){var n=Cn(t,e);if(0!==n.length){if(1===n.length)return n[0];throw new se("expected a single document in the stream, but found more")}}},Mn=Object.prototype.toString,En=Object.prototype.hasOwnProperty,In=65279,zn={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},$n=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Tn=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function jn(t){var e,n,r;if(e=t.toString(16).toUpperCase(),t<=255)n="x",r=2;else if(t<=65535)n="u",r=4;else{if(!(t<=4294967295))throw new se("code point within a string may not be greater than 0xFFFFFFFF");n="U",r=8}return"\\"+n+re.repeat("0",r-e.length)+e}function Nn(t){this.schema=t.schema||De,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=re.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=function(t,e){var n,r,i,o,s,a,l;if(null===e)return{};for(n={},i=0,o=(r=Object.keys(e)).length;i<o;i+=1)s=r[i],a=String(e[s]),"!!"===s.slice(0,2)&&(s="tag:yaml.org,2002:"+s.slice(2)),(l=t.compiledTypeMap.fallback[s])&&En.call(l.styleAliases,a)&&(a=l.styleAliases[a]),n[s]=a;return n}(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType='"'===t.quotingType?2:1,this.forceQuotes=t.forceQuotes||!1,this.replacer="function"==typeof t.replacer?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function On(t,e){for(var n,r=re.repeat(" ",e),i=0,o=-1,s="",a=t.length;i<a;)-1===(o=t.indexOf("\n",i))?(n=t.slice(i),i=a):(n=t.slice(i,o+1),i=o+1),n.length&&"\n"!==n&&(s+=r),s+=n;return s}function Ln(t,e){return"\n"+re.repeat(" ",t.indent*e)}function qn(t){return 32===t||9===t}function Xn(t){return 32<=t&&t<=126||161<=t&&t<=55295&&8232!==t&&8233!==t||57344<=t&&t<=65533&&t!==In||65536<=t&&t<=1114111}function Fn(t){return Xn(t)&&t!==In&&13!==t&&10!==t}function Pn(t,e,n){var r=Fn(t),i=r&&!qn(t);return(n?r:r&&44!==t&&91!==t&&93!==t&&123!==t&&125!==t)&&35!==t&&!(58===e&&!i)||Fn(e)&&!qn(e)&&35===t||58===e&&i}function Rn(t,e){var n,r=t.charCodeAt(e);return r>=55296&&r<=56319&&e+1<t.length&&(n=t.charCodeAt(e+1))>=56320&&n<=57343?1024*(r-55296)+n-56320+65536:r}function Bn(t){return/^\n* /.test(t)}function Dn(t,e,n,r,i,o,s,a){var l,c,u=0,h=null,p=!1,f=!1,d=-1!==r,g=-1,m=Xn(c=Rn(t,0))&&c!==In&&!qn(c)&&45!==c&&63!==c&&58!==c&&44!==c&&91!==c&&93!==c&&123!==c&&125!==c&&35!==c&&38!==c&&42!==c&&33!==c&&124!==c&&61!==c&&62!==c&&39!==c&&34!==c&&37!==c&&64!==c&&96!==c&&function(t){return!qn(t)&&58!==t}(Rn(t,t.length-1));if(e||s)for(l=0;l<t.length;u>=65536?l+=2:l++){if(!Xn(u=Rn(t,l)))return 5;m=m&&Pn(u,h,a),h=u}else{for(l=0;l<t.length;u>=65536?l+=2:l++){if(10===(u=Rn(t,l)))p=!0,d&&(f=f||l-g-1>r&&" "!==t[g+1],g=l);else if(!Xn(u))return 5;m=m&&Pn(u,h,a),h=u}f=f||d&&l-g-1>r&&" "!==t[g+1]}return p||f?n>9&&Bn(t)?5:s?2===o?5:2:f?4:3:!m||s||i(t)?2===o?5:2:1}function Yn(t,e,n,r,i){t.dump=function(){if(0===e.length)return 2===t.quotingType?'""':"''";if(!t.noCompatMode&&(-1!==$n.indexOf(e)||Tn.test(e)))return 2===t.quotingType?'"'+e+'"':"'"+e+"'";var o=t.indent*Math.max(1,n),s=-1===t.lineWidth?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-o),a=r||t.flowLevel>-1&&n>=t.flowLevel;switch(Dn(e,a,t.indent,s,(function(e){return function(t,e){var n,r;for(n=0,r=t.implicitTypes.length;n<r;n+=1)if(t.implicitTypes[n].resolve(e))return!0;return!1}(t,e)}),t.quotingType,t.forceQuotes&&!r,i)){case 1:return e;case 2:return"'"+e.replace(/'/g,"''")+"'";case 3:return"|"+Un(e,t.indent)+Hn(On(e,o));case 4:return">"+Un(e,t.indent)+Hn(On(function(t,e){var n,r,i=/(\n+)([^\n]*)/g,o=(a=t.indexOf("\n"),a=-1!==a?a:t.length,i.lastIndex=a,Kn(t.slice(0,a),e)),s="\n"===t[0]||" "===t[0];var a;for(;r=i.exec(t);){var l=r[1],c=r[2];n=" "===c[0],o+=l+(s||n||""===c?"":"\n")+Kn(c,e),s=n}return o}(e,s),o));case 5:return'"'+function(t){for(var e,n="",r=0,i=0;i<t.length;r>=65536?i+=2:i++)r=Rn(t,i),!(e=zn[r])&&Xn(r)?(n+=t[i],r>=65536&&(n+=t[i+1])):n+=e||jn(r);return n}(e)+'"';default:throw new se("impossible error: invalid scalar style")}}()}function Un(t,e){var n=Bn(t)?String(e):"",r="\n"===t[t.length-1];return n+(r&&("\n"===t[t.length-2]||"\n"===t)?"+":r?"":"-")+"\n"}function Hn(t){return"\n"===t[t.length-1]?t.slice(0,-1):t}function Kn(t,e){if(""===t||" "===t[0])return t;for(var n,r,i=/ [^ ]/g,o=0,s=0,a=0,l="";n=i.exec(t);)(a=n.index)-o>e&&(r=s>o?s:a,l+="\n"+t.slice(o,r),o=r+1),s=a;return l+="\n",t.length-o>e&&s>o?l+=t.slice(o,s)+"\n"+t.slice(s+1):l+=t.slice(o),l.slice(1)}function Vn(t,e,n,r){var i,o,s,a="",l=t.tag;for(i=0,o=n.length;i<o;i+=1)s=n[i],t.replacer&&(s=t.replacer.call(n,String(i),s)),(Wn(t,e+1,s,!0,!0,!1,!0)||void 0===s&&Wn(t,e+1,null,!0,!0,!1,!0))&&(r&&""===a||(a+=Ln(t,e)),t.dump&&10===t.dump.charCodeAt(0)?a+="-":a+="- ",a+=t.dump);t.tag=l,t.dump=a||"[]"}function Zn(t,e,n){var r,i,o,s,a,l;for(o=0,s=(i=n?t.explicitTypes:t.implicitTypes).length;o<s;o+=1)if(((a=i[o]).instanceOf||a.predicate)&&(!a.instanceOf||"object"==typeof e&&e instanceof a.instanceOf)&&(!a.predicate||a.predicate(e))){if(n?a.multi&&a.representName?t.tag=a.representName(e):t.tag=a.tag:t.tag="?",a.represent){if(l=t.styleMap[a.tag]||a.defaultStyle,"[object Function]"===Mn.call(a.represent))r=a.represent(e,l);else{if(!En.call(a.represent,l))throw new se("!<"+a.tag+'> tag resolver accepts not "'+l+'" style');r=a.represent[l](e,l)}t.dump=r}return!0}return!1}function Wn(t,e,n,r,i,o,s){t.tag=null,t.dump=n,Zn(t,n,!1)||Zn(t,n,!0);var a,l=Mn.call(t.dump),c=r;r&&(r=t.flowLevel<0||t.flowLevel>e);var u,h,p="[object Object]"===l||"[object Array]"===l;if(p&&(h=-1!==(u=t.duplicates.indexOf(n))),(null!==t.tag&&"?"!==t.tag||h||2!==t.indent&&e>0)&&(i=!1),h&&t.usedDuplicates[u])t.dump="*ref_"+u;else{if(p&&h&&!t.usedDuplicates[u]&&(t.usedDuplicates[u]=!0),"[object Object]"===l)r&&0!==Object.keys(t.dump).length?(!function(t,e,n,r){var i,o,s,a,l,c,u="",h=t.tag,p=Object.keys(n);if(!0===t.sortKeys)p.sort();else if("function"==typeof t.sortKeys)p.sort(t.sortKeys);else if(t.sortKeys)throw new se("sortKeys must be a boolean or a function");for(i=0,o=p.length;i<o;i+=1)c="",r&&""===u||(c+=Ln(t,e)),a=n[s=p[i]],t.replacer&&(a=t.replacer.call(n,s,a)),Wn(t,e+1,s,!0,!0,!0)&&((l=null!==t.tag&&"?"!==t.tag||t.dump&&t.dump.length>1024)&&(t.dump&&10===t.dump.charCodeAt(0)?c+="?":c+="? "),c+=t.dump,l&&(c+=Ln(t,e)),Wn(t,e+1,a,!0,l)&&(t.dump&&10===t.dump.charCodeAt(0)?c+=":":c+=": ",u+=c+=t.dump));t.tag=h,t.dump=u||"{}"}(t,e,t.dump,i),h&&(t.dump="&ref_"+u+t.dump)):(!function(t,e,n){var r,i,o,s,a,l="",c=t.tag,u=Object.keys(n);for(r=0,i=u.length;r<i;r+=1)a="",""!==l&&(a+=", "),t.condenseFlow&&(a+='"'),s=n[o=u[r]],t.replacer&&(s=t.replacer.call(n,o,s)),Wn(t,e,o,!1,!1)&&(t.dump.length>1024&&(a+="? "),a+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),Wn(t,e,s,!1,!1)&&(l+=a+=t.dump));t.tag=c,t.dump="{"+l+"}"}(t,e,t.dump),h&&(t.dump="&ref_"+u+" "+t.dump));else if("[object Array]"===l)r&&0!==t.dump.length?(t.noArrayIndent&&!s&&e>0?Vn(t,e-1,t.dump,i):Vn(t,e,t.dump,i),h&&(t.dump="&ref_"+u+t.dump)):(!function(t,e,n){var r,i,o,s="",a=t.tag;for(r=0,i=n.length;r<i;r+=1)o=n[r],t.replacer&&(o=t.replacer.call(n,String(r),o)),(Wn(t,e,o,!1,!1)||void 0===o&&Wn(t,e,null,!1,!1))&&(""!==s&&(s+=","+(t.condenseFlow?"":" ")),s+=t.dump);t.tag=a,t.dump="["+s+"]"}(t,e,t.dump),h&&(t.dump="&ref_"+u+" "+t.dump));else{if("[object String]"!==l){if("[object Undefined]"===l)return!1;if(t.skipInvalid)return!1;throw new se("unacceptable kind of an object to dump "+l)}"?"!==t.tag&&Yn(t,t.dump,e,o,c)}null!==t.tag&&"?"!==t.tag&&(a=encodeURI("!"===t.tag[0]?t.tag.slice(1):t.tag).replace(/!/g,"%21"),a="!"===t.tag[0]?"!"+a:"tag:yaml.org,2002:"===a.slice(0,18)?"!!"+a.slice(18):"!<"+a+">",t.dump=a+" "+t.dump)}return!0}function Gn(t,e){var n,r,i=[],o=[];for(Jn(t,i,o),n=0,r=o.length;n<r;n+=1)e.duplicates.push(i[o[n]]);e.usedDuplicates=new Array(r)}function Jn(t,e,n){var r,i,o;if(null!==t&&"object"==typeof t)if(-1!==(i=e.indexOf(t)))-1===n.indexOf(i)&&n.push(i);else if(e.push(t),Array.isArray(t))for(i=0,o=t.length;i<o;i+=1)Jn(t[i],e,n);else for(i=0,o=(r=Object.keys(t)).length;i<o;i+=1)Jn(t[r[i]],e,n)}function Qn(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}var tr={Type:pe,Schema:ge,FAILSAFE_SCHEMA:_e,JSON_SCHEMA:Ee,CORE_SCHEMA:Ie,DEFAULT_SCHEMA:De,load:Sn.load,loadAll:Sn.loadAll,dump:{dump:function(t,e){var n=new Nn(e=e||{});n.noRefs||Gn(t,n);var r=t;return n.replacer&&(r=n.replacer.call({"":r},"",r)),Wn(n,0,r,!0,!0)?n.dump+"\n":""}}.dump,YAMLException:se,types:{binary:Oe,float:Me,map:ye,null:ke,pairs:Pe,set:Be,timestamp:Te,bool:be,int:Ae,merge:je,omap:Xe,seq:ve,str:me},safeLoad:Qn("safeLoad","load"),safeLoadAll:Qn("safeLoadAll","loadAll"),safeDump:Qn("safeDump","dump")};const er=["d3@7.8.5/dist/d3.min.js","markmap-view@0.15.8/dist/browser/index.js"],nr="katex",rr=["katex@0.16.8/dist/katex.min.js"].map((t=>Qt(t))),ir=Qt("webfontloader@1.6.28/webfontloader.js");ir.data.defer=!0;const or=["katex@0.16.8/dist/katex.min.css"].map((t=>te(t)));function sr(t,e){return"script"===e.type&&e.data.src?{...e,data:{...e.data,src:t.getFullUrl(e.data.src)}}:e}const ar={name:nr,config:{versions:{katex:"0.16.8",webfontloader:"1.6.28"},preloadScripts:rr,scripts:[{type:"iife",data:{fn:t=>{window.WebFontConfig={custom:{families:["KaTeX_AMS","KaTeX_Caligraphic:n4,n7","KaTeX_Fraktur:n4,n7","KaTeX_Main:n4,n7,i4,i7","KaTeX_Math:i4,i7","KaTeX_Script","KaTeX_SansSerif:n4,n7,i4","KaTeX_Size1","KaTeX_Size2","KaTeX_Size3","KaTeX_Size4","KaTeX_Typewriter"]},active:()=>{t().refreshHook.call()}}},getParams:({getMarkmap:t})=>[t]}},ir],styles:or},transform(t){var e,n,r,i;let o;const s=(null==(n=null==(e=ar.config)?void 0:e.preloadScripts)?void 0:n.map((e=>sr(t.transformer.urlBuilder,e))))||[],a=(e,n)=>{const{katex:r}=window;return r?r.renderToString(e,{displayMode:n,throwOnError:!1}):((o||(o=Jt(s)),o).then((()=>{t.retransform.call()})),e)};let l=Ot;return t.parser.tap((t=>{t.use(ee),t.renderer.rules.katex=(t,e)=>{l();return a(t[e].content,!!t[e].block)}})),t.beforeParse.tap(((t,e)=>{l=()=>{e.features[nr]=!0}})),t.afterParse.tap(((t,e)=>{var n;const r=null==(n=e.frontmatter)?void 0:n.markmap;r&&["extraJs","extraCss"].forEach((t=>{var e,n;const i=r[t];var o,s,a;i&&(r[t]=(o=i,s=nr,a=(null==(n=null==(e=ar.config)?void 0:e.versions)?void 0:n.katex)||"",o.map((t=>{if("string"==typeof t&&!t.includes("://")){t.startsWith("npm:")||(t=`npm:${t}`);const e=4+s.length;t.startsWith(`npm:${s}/`)&&(t=`${t.slice(0,e)}@${a}${t.slice(e)}`)}return t}))))}))})),{styles:null==(r=ar.config)?void 0:r.styles,scripts:null==(i=ar.config)?void 0:i.scripts}}},lr={name:"frontmatter",transform:t=>(t.beforeParse.tap(((t,e)=>{const{content:n}=e;if(!/^---\r?\n/.test(n))return;const r=/\n---\r?\n/.exec(n);if(!r)return;const i=n.slice(4,r.index);let o;try{o=tr.load(i),(null==o?void 0:o.markmap)&&(o.markmap=function(t){if(!t)return;return["color","extraJs","extraCss"].forEach((e=>{null!=t[e]&&(t[e]=function(t){let e;"string"==typeof t?e=[t]:Array.isArray(t)&&(e=t.filter((t=>t&&"string"==typeof t)));return(null==e?void 0:e.length)?e:void 0}(t[e]))})),["duration","maxWidth","initialExpandLevel"].forEach((e=>{null!=t[e]&&(t[e]=function(t){if(isNaN(+t))return;return+t}(t[e]))})),t}(o.markmap))}catch{return}e.frontmatter=o,e.content=n.slice(r.index+r[0].length),e.contentLineOffset=n.slice(0,r.index).split("\n").length+1})),{})};const cr={name:"npmUrl",transform:t=>(t.afterParse.tap(((e,n)=>{const{frontmatter:r}=n,i=null==r?void 0:r.markmap;i&&["extraJs","extraCss"].forEach((e=>{const n=i[e];n&&(i[e]=n.map((e=>e.startsWith("npm:")?t.transformer.urlBuilder.getFullUrl(e.slice(4)):e)))}))})),{})},ur="hljs",hr=["@highlightjs/cdn-assets@11.8.0/highlight.min.js"].map((t=>Qt(t))),pr=["@highlightjs/cdn-assets@11.8.0/styles/default.min.css"].map((t=>te(t))),fr={name:ur,config:{versions:{hljs:"11.8.0"},preloadScripts:hr,styles:pr},transform(t){var e,n,r;let i;const o=(null==(n=null==(e=fr.config)?void 0:e.preloadScripts)?void 0:n.map((e=>sr(t.transformer.urlBuilder,e))))||[];let s=Ot;return t.parser.tap((e=>{e.set({highlight:(e,n)=>{s();const{hljs:r}=window;return r?r.highlightAuto(e,n?[n]:void 0).value:((i||(i=Jt(o)),i).then((()=>{t.retransform.call()})),e)}})})),t.beforeParse.tap(((t,e)=>{s=()=>{e.features[ur]=!0}})),{styles:null==(r=fr.config)?void 0:r.styles}}},dr=[lr,ar,fr,cr];function gr(t){var e,n;if("heading"===t.type)t.children=t.children.filter((t=>"paragraph"!==t.type));else if("list_item"===t.type)t.children=t.children.filter((e=>!["paragraph","fence"].includes(e.type)||(t.content||(t.content=e.content,t.payload={...t.payload,...e.payload}),!1))),null!=(null==(e=t.payload)?void 0:e.index)&&(t.content=`${t.payload.index}. ${t.content}`);else if("ordered_list"===t.type){let e=(null==(n=t.payload)?void 0:n.startIndex)??1;t.children.forEach((t=>{"list_item"===t.type&&(t.payload={...t.payload,index:e},e+=1)}))}t.children.length>0&&(t.children.forEach((t=>gr(t))),1!==t.children.length||t.children[0].content||(t.children=t.children[0].children))}function mr(t,e=0){t.depth=e,t.children.forEach((t=>{mr(t,e+1)}))}class vr{constructor(t=dr){this.assetsMap={},this.urlBuilder=new St,this.hooks={transformer:this,parser:new Mt,beforeParse:new Mt,afterParse:new Mt,htmltag:new Mt,retransform:new Mt},this.plugins=t.map((t=>"function"==typeof t?t():t));const e={};for(const{name:o,transform:s}of this.plugins)e[o]=s(this.hooks);this.assetsMap=e;const n=new At("full",{html:!0,breaks:!0,maxNesting:1/0});var r,i;n.renderer.rules.htmltag=(r=n.renderer.rules.htmltag,i=(t,...e)=>{const n=t(...e);return this.hooks.htmltag.call({args:e,result:n}),n},(...t)=>i(r,...t)),this.md=n,this.hooks.parser.call(n)}buildTree(t){const{md:e}=this,n={type:"root",depth:0,content:"",children:[],payload:{}},r=[n];let i=0;for(const o of t){const t={};o.lines&&(t.lines=o.lines);let n=r[r.length-1];if(o.type.endsWith("_open")){const e=o.type.slice(0,-5);if("heading"===e)for(i=o.hLevel;(null==n?void 0:n.depth)>=i;)r.pop(),n=r[r.length-1];else i=Math.max(i,(null==n?void 0:n.depth)||0)+1,"ordered_list"===e&&(t.startIndex=o.order);const s={type:e,depth:i,payload:t,content:"",children:[]};n.children.push(s),r.push(s)}else{if(!n)continue;if(o.type===`${n.type}_close`)"heading"===n.type?i=n.depth:(r.pop(),i=0);else if("inline"===o.type){const t=this.hooks.htmltag.tap((t=>{var e;const r=null==(e=t.result)?void 0:e.match(/^<!--([\s\S]*?)-->$/),i=null==r?void 0:r[1].trim().split(" ");"fold"===(null==i?void 0:i[0])&&(n.payload={...n.payload,fold:["all","recursively"].includes(i[1])?2:1},t.result="")})),r=e.renderer.render([o],e.options,{});t(),n.content=`${n.content||""}${r}`}else if("fence"===o.type){const r=e.renderer.render([o],e.options,{});n.children.push({type:o.type,depth:i+1,content:r,children:[],payload:t})}}}return n}transform(t){var e;const n={content:t,features:{},contentLineOffset:0};this.hooks.beforeParse.call(this.md,n);const r=this.md.parse(n.content,{});this.hooks.afterParse.call(this.md,n);let i=this.buildTree(r);return gr(i),1===(null==(e=i.children)?void 0:e.length)&&(i=i.children[0]),mr(i),{...n,root:i}}getAssets(t){const e=[],n=[];t??(t=this.plugins.map((t=>t.name)));for(const r of t.map((t=>this.assetsMap[t])))r&&(r.styles&&e.push(...r.styles),r.scripts&&n.push(...r.scripts));return{styles:e.map((t=>function(t,e){return"stylesheet"===e.type&&e.data.href?{...e,data:{...e.data,href:t.getFullUrl(e.data.href)}}:e}(this.urlBuilder,t))),scripts:n.map((t=>sr(this.urlBuilder,t)))}}getUsedAssets(t){const e=this.plugins.map((t=>t.name)).filter((e=>t[e]));return this.getAssets(e)}fillTemplate(t,e,n){(n={...n}).baseJs??(n.baseJs=er.map((t=>this.urlBuilder.getFullUrl(t))).map((t=>Qt(t))));const{scripts:r,styles:i}=e,o=[...i?(s=i,s.map((t=>"stylesheet"===t.type?$t("link",null,{rel:"stylesheet",...t.data}):$t("style",t.data)))):[]];var s;const a={getMarkmap:()=>window.markmap,getOptions:n.getOptions,jsonOptions:n.jsonOptions,root:t},l=[...Tt([...n.baseJs,...r||[],{type:"iife",data:{fn:(t,e,n,r)=>{const i=t();window.mm=i.Markmap.create("svg#mindmap",(e||i.deriveOptions)(r),n)},getParams:({getMarkmap:t,getOptions:e,root:n,jsonOptions:r})=>[t,e,n,r]}}],a)];return'<!DOCTYPE html>\n<html>\n<head>\n<meta charset="UTF-8">\n<meta name="viewport" content="width=device-width, initial-scale=1.0">\n<meta http-equiv="X-UA-Compatible" content="ie=edge">\n<title>Markmap</title>\n<style>\n* {\n  margin: 0;\n  padding: 0;\n}\n#mindmap {\n  display: block;\n  width: 100vw;\n  height: 100vh;\n}\n</style>\n\x3c!--CSS--\x3e\n</head>\n<body>\n<svg id="mindmap"></svg>\n\x3c!--JS--\x3e\n</body>\n</html>\n'.replace("\x3c!--CSS--\x3e",(()=>o.join(""))).replace("\x3c!--JS--\x3e",(()=>l.join("")))}}class yr extends Map{constructor(t,e=kr){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[n,r]of t)this.set(n,r)}get(t){return super.get(_r(this,t))}has(t){return super.has(_r(this,t))}set(t,e){return super.set(function({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}(this,t),e)}delete(t){return super.delete(function({_intern:t,_key:e},n){const r=e(n);t.has(r)&&(n=t.get(r),t.delete(r));return n}(this,t))}}function _r({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function kr(t){return null!==t&&"object"==typeof t?t.valueOf():t}function br(t,e){let n;if(void 0===e)for(const r of t)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function xr(t,e){let n;if(void 0===e)for(const r of t)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}var wr={value:()=>{}};function Ar(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Cr(r)}function Cr(t){this._=t}function Sr(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function Mr(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=wr,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}Cr.prototype=Ar.prototype={constructor:Cr,on:function(t,e){var n,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))),s=-1,a=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++s<a;)if(n=(t=o[s]).type)i[n]=Mr(i[n],t.name,e);else if(null==e)for(n in i)i[n]=Mr(i[n],t.name,null);return this}for(;++s<a;)if((n=(t=o[s]).type)&&(n=Sr(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Cr(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var Er="http://www.w3.org/1999/xhtml";const Ir={svg:"http://www.w3.org/2000/svg",xhtml:Er,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function zr(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Ir.hasOwnProperty(e)?{space:Ir[e],local:t}:t}function $r(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Er&&e.documentElement.namespaceURI===Er?e.createElement(t):e.createElementNS(n,t)}}function Tr(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function jr(t){var e=zr(t);return(e.local?Tr:$r)(e)}function Nr(){}function Or(t){return null==t?Nr:function(){return this.querySelector(t)}}function Lr(){return[]}function qr(t){return null==t?Lr:function(){return this.querySelectorAll(t)}}function Xr(t){return function(){return null==(e=t.apply(this,arguments))?[]:Array.isArray(e)?e:Array.from(e);var e}}function Fr(t){return function(){return this.matches(t)}}function Pr(t){return function(e){return e.matches(t)}}var Rr=Array.prototype.find;function Br(){return this.firstElementChild}var Dr=Array.prototype.filter;function Yr(){return Array.from(this.children)}function Ur(t){return new Array(t.length)}function Hr(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Kr(t,e,n,r,i,o){for(var s,a=0,l=e.length,c=o.length;a<c;++a)(s=e[a])?(s.__data__=o[a],r[a]=s):n[a]=new Hr(t,o[a]);for(;a<l;++a)(s=e[a])&&(i[a]=s)}function Vr(t,e,n,r,i,o,s){var a,l,c,u=new Map,h=e.length,p=o.length,f=new Array(h);for(a=0;a<h;++a)(l=e[a])&&(f[a]=c=s.call(l,l.__data__,a,e)+"",u.has(c)?i[a]=l:u.set(c,l));for(a=0;a<p;++a)c=s.call(t,o[a],a,o)+"",(l=u.get(c))?(r[a]=l,l.__data__=o[a],u.delete(c)):n[a]=new Hr(t,o[a]);for(a=0;a<h;++a)(l=e[a])&&u.get(f[a])===l&&(i[a]=l)}function Zr(t){return t.__data__}function Wr(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Gr(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Jr(t){return function(){this.removeAttribute(t)}}function Qr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ti(t,e){return function(){this.setAttribute(t,e)}}function ei(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function ni(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function ri(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function ii(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function oi(t){return function(){this.style.removeProperty(t)}}function si(t,e,n){return function(){this.style.setProperty(t,e,n)}}function ai(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function li(t,e){return t.style.getPropertyValue(e)||ii(t).getComputedStyle(t,null).getPropertyValue(e)}function ci(t){return function(){delete this[t]}}function ui(t,e){return function(){this[t]=e}}function hi(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function pi(t){return t.trim().split(/^|\s+/)}function fi(t){return t.classList||new di(t)}function di(t){this._node=t,this._names=pi(t.getAttribute("class")||"")}function gi(t,e){for(var n=fi(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function mi(t,e){for(var n=fi(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function vi(t){return function(){gi(this,t)}}function yi(t){return function(){mi(this,t)}}function _i(t,e){return function(){(e.apply(this,arguments)?gi:mi)(this,t)}}function ki(){this.textContent=""}function bi(t){return function(){this.textContent=t}}function xi(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function wi(){this.innerHTML=""}function Ai(t){return function(){this.innerHTML=t}}function Ci(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Si(){this.nextSibling&&this.parentNode.appendChild(this)}function Mi(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ei(){return null}function Ii(){var t=this.parentNode;t&&t.removeChild(this)}function zi(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function $i(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ti(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function ji(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var s=0,a=i.length;s<a;++s)if((r=i[s]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function Ni(t,e,n){var r=ii(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Oi(t,e){return function(){return Ni(this,t,e)}}function Li(t,e){return function(){return Ni(this,t,e.apply(this,arguments))}}Hr.prototype={constructor:Hr,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},di.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var qi=[null];function Xi(t,e){this._groups=t,this._parents=e}function Fi(){return new Xi([[document.documentElement]],qi)}function Pi(t){return"string"==typeof t?new Xi([[document.querySelector(t)]],[document.documentElement]):new Xi([[t]],qi)}function Ri(t,e){if(t=function(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}Xi.prototype=Fi.prototype={constructor:Xi,select:function(t){"function"!=typeof t&&(t=Or(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,s,a=e[i],l=a.length,c=r[i]=new Array(l),u=0;u<l;++u)(o=a[u])&&(s=t.call(o,o.__data__,u,a))&&("__data__"in o&&(s.__data__=o.__data__),c[u]=s);return new Xi(r,this._parents)},selectAll:function(t){t="function"==typeof t?Xr(t):qr(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s,a=e[o],l=a.length,c=0;c<l;++c)(s=a[c])&&(r.push(t.call(s,s.__data__,c,a)),i.push(s));return new Xi(r,i)},selectChild:function(t){return this.select(null==t?Br:function(t){return function(){return Rr.call(this.children,t)}}("function"==typeof t?t:Pr(t)))},selectChildren:function(t){return this.selectAll(null==t?Yr:function(t){return function(){return Dr.call(this.children,t)}}("function"==typeof t?t:Pr(t)))},filter:function(t){"function"!=typeof t&&(t=Fr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,s=e[i],a=s.length,l=r[i]=[],c=0;c<a;++c)(o=s[c])&&t.call(o,o.__data__,c,s)&&l.push(o);return new Xi(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,Zr);var n,r=e?Vr:Kr,i=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var s=o.length,a=new Array(s),l=new Array(s),c=new Array(s),u=0;u<s;++u){var h=i[u],p=o[u],f=p.length,d=Wr(t.call(h,h&&h.__data__,u,i)),g=d.length,m=l[u]=new Array(g),v=a[u]=new Array(g);r(h,p,m,v,c[u]=new Array(f),d,e);for(var y,_,k=0,b=0;k<g;++k)if(y=m[k]){for(k>=b&&(b=k+1);!(_=v[b])&&++b<g;);y._next=_||null}}return(a=new Xi(a,i))._enter=l,a._exit=c,a},enter:function(){return new Xi(this._enter||this._groups.map(Ur),this._parents)},exit:function(){return new Xi(this._exit||this._groups.map(Ur),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var c,u=n[l],h=r[l],p=u.length,f=a[l]=new Array(p),d=0;d<p;++d)(c=u[d]||h[d])&&(f[d]=c);for(;l<i;++l)a[l]=n[l];return new Xi(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,s=i[o];--o>=0;)(r=i[o])&&(s&&4^r.compareDocumentPosition(s)&&s.parentNode.insertBefore(r,s),s=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Gr);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s,a=n[o],l=a.length,c=i[o]=new Array(l),u=0;u<l;++u)(s=a[u])&&(c[u]=s);c.sort(e)}return new Xi(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],s=0,a=o.length;s<a;++s)(i=o[s])&&t.call(i,i.__data__,s,o);return this},attr:function(t,e){var n=zr(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Qr:Jr:"function"==typeof e?n.local?ri:ni:n.local?ei:ti)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?oi:"function"==typeof e?ai:si)(t,e,null==n?"":n)):li(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?ci:"function"==typeof e?hi:ui)(t,e)):this.node()[t]},classed:function(t,e){var n=pi(t+"");if(arguments.length<2){for(var r=fi(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?_i:e?vi:yi)(n,e))},text:function(t){return arguments.length?this.each(null==t?ki:("function"==typeof t?xi:bi)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?wi:("function"==typeof t?Ci:Ai)(t)):this.node().innerHTML},raise:function(){return this.each(Si)},lower:function(){return this.each(Mi)},append:function(t){var e="function"==typeof t?t:jr(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:jr(t),r=null==e?Ei:"function"==typeof e?e:Or(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Ii)},clone:function(t){return this.select(t?$i:zi)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),s=o.length;if(!(arguments.length<2)){for(a=e?ji:Ti,r=0;r<s;++r)this.each(a(o[r],e,n));return this}var a=this.node().__on;if(a)for(var l,c=0,u=a.length;c<u;++c)for(r=0,l=a[c];r<s;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?Li:Oi)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,s=i.length;o<s;++o)(r=i[o])&&(yield r)}};const Bi={capture:!0,passive:!1};function Di(t){t.preventDefault(),t.stopImmediatePropagation()}function Yi(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ui(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Hi(){}var Ki=.7,Vi=1/Ki,Zi="\\s*([+-]?\\d+)\\s*",Wi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ji=/^#([0-9a-f]{3,8})$/,Qi=new RegExp(`^rgb\\(${Zi},${Zi},${Zi}\\)$`),to=new RegExp(`^rgb\\(${Gi},${Gi},${Gi}\\)$`),eo=new RegExp(`^rgba\\(${Zi},${Zi},${Zi},${Wi}\\)$`),no=new RegExp(`^rgba\\(${Gi},${Gi},${Gi},${Wi}\\)$`),ro=new RegExp(`^hsl\\(${Wi},${Gi},${Gi}\\)$`),io=new RegExp(`^hsla\\(${Wi},${Gi},${Gi},${Wi}\\)$`),oo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function so(){return this.rgb().formatHex()}function ao(){return this.rgb().formatRgb()}function lo(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ji.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?co(e):3===n?new po(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?uo(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?uo(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Qi.exec(t))?new po(e[1],e[2],e[3],1):(e=to.exec(t))?new po(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=eo.exec(t))?uo(e[1],e[2],e[3],e[4]):(e=no.exec(t))?uo(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=ro.exec(t))?_o(e[1],e[2]/100,e[3]/100,1):(e=io.exec(t))?_o(e[1],e[2]/100,e[3]/100,e[4]):oo.hasOwnProperty(t)?co(oo[t]):"transparent"===t?new po(NaN,NaN,NaN,0):null}function co(t){return new po(t>>16&255,t>>8&255,255&t,1)}function uo(t,e,n,r){return r<=0&&(t=e=n=NaN),new po(t,e,n,r)}function ho(t,e,n,r){return 1===arguments.length?((i=t)instanceof Hi||(i=lo(i)),i?new po((i=i.rgb()).r,i.g,i.b,i.opacity):new po):new po(t,e,n,null==r?1:r);var i}function po(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function fo(){return`#${yo(this.r)}${yo(this.g)}${yo(this.b)}`}function go(){const t=mo(this.opacity);return`${1===t?"rgb(":"rgba("}${vo(this.r)}, ${vo(this.g)}, ${vo(this.b)}${1===t?")":`, ${t})`}`}function mo(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function vo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function yo(t){return((t=vo(t))<16?"0":"")+t.toString(16)}function _o(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new bo(t,e,n,r)}function ko(t){if(t instanceof bo)return new bo(t.h,t.s,t.l,t.opacity);if(t instanceof Hi||(t=lo(t)),!t)return new bo;if(t instanceof bo)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(s=e===o?(n-r)/a+6*(n<r):n===o?(r-e)/a+2:(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new bo(s,a,l,t.opacity)}function bo(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function xo(t){return(t=(t||0)%360)<0?t+360:t}function wo(t){return Math.max(0,Math.min(1,t||0))}function Ao(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Yi(Hi,lo,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:so,formatHex:so,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return ko(this).formatHsl()},formatRgb:ao,toString:ao}),Yi(po,ho,Ui(Hi,{brighter(t){return t=null==t?Vi:Math.pow(Vi,t),new po(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?Ki:Math.pow(Ki,t),new po(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new po(vo(this.r),vo(this.g),vo(this.b),mo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:fo,formatHex:fo,formatHex8:function(){return`#${yo(this.r)}${yo(this.g)}${yo(this.b)}${yo(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:go,toString:go})),Yi(bo,(function(t,e,n,r){return 1===arguments.length?ko(t):new bo(t,e,n,null==r?1:r)}),Ui(Hi,{brighter(t){return t=null==t?Vi:Math.pow(Vi,t),new bo(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Ki:Math.pow(Ki,t),new bo(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new po(Ao(t>=240?t-240:t+120,i,r),Ao(t,i,r),Ao(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new bo(xo(this.h),wo(this.s),wo(this.l),mo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=mo(this.opacity);return`${1===t?"hsl(":"hsla("}${xo(this.h)}, ${100*wo(this.s)}%, ${100*wo(this.l)}%${1===t?")":`, ${t})`}`}}));const Co=t=>()=>t;function So(t){return 1==(t=+t)?Mo:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Co(isNaN(e)?n:e)}}function Mo(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):Co(isNaN(t)?e:t)}const Eo=function t(e){var n=So(e);function r(t,e){var r=n((t=ho(t)).r,(e=ho(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),s=Mo(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=s(e),t+""}}return r.gamma=t,r}(1);function Io(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var zo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$o=new RegExp(zo.source,"g");function To(t,e){var n,r,i,o=zo.lastIndex=$o.lastIndex=0,s=-1,a=[],l=[];for(t+="",e+="";(n=zo.exec(t))&&(r=$o.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),a[s]?a[s]+=i:a[++s]=i),(n=n[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,l.push({i:s,x:Io(n,r)})),o=$o.lastIndex;return o<e.length&&(i=e.slice(o),a[s]?a[s]+=i:a[++s]=i),a.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)a[(n=l[r]).i]=n.x(t);return a.join("")})}var jo,No=180/Math.PI,Oo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Lo(t,e,n,r,i,o){var s,a,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),t*r<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*No,skewX:Math.atan(l)*No,scaleX:s,scaleY:a}}function qo(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,s){var a=[],l=[];return o=t(o),s=t(s),function(t,r,i,o,s,a){if(t!==i||r!==o){var l=s.push("translate(",null,e,null,n);a.push({i:l-4,x:Io(t,i)},{i:l-2,x:Io(r,o)})}else(i||o)&&s.push("translate("+i+e+o+n)}(o.translateX,o.translateY,s.translateX,s.translateY,a,l),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Io(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,s.rotate,a,l),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Io(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,s.skewX,a,l),function(t,e,n,r,o,s){if(t!==n||e!==r){var a=o.push(i(o)+"scale(",null,",",null,")");s.push({i:a-4,x:Io(t,n)},{i:a-2,x:Io(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,s.scaleX,s.scaleY,a,l),o=s=null,function(t){for(var e,n=-1,r=l.length;++n<r;)a[(e=l[n]).i]=e.x(t);return a.join("")}}}var Xo=qo((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Oo:Lo(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),Fo=qo((function(t){return null==t?Oo:(jo||(jo=document.createElementNS("http://www.w3.org/2000/svg","g")),jo.setAttribute("transform",t),(t=jo.transform.baseVal.consolidate())?Lo((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Oo)}),", ",")",")");function Po(t){return((t=Math.exp(t))+1/t)/2}const Ro=function t(e,n,r){function i(t,i){var o,s,a=t[0],l=t[1],c=t[2],u=i[0],h=i[1],p=i[2],f=u-a,d=h-l,g=f*f+d*d;if(g<1e-12)s=Math.log(p/c)/e,o=function(t){return[a+t*f,l+t*d,c*Math.exp(e*t*s)]};else{var m=Math.sqrt(g),v=(p*p-c*c+r*g)/(2*c*n*m),y=(p*p-c*c-r*g)/(2*p*n*m),_=Math.log(Math.sqrt(v*v+1)-v),k=Math.log(Math.sqrt(y*y+1)-y);s=(k-_)/e,o=function(t){var r,i=t*s,o=Po(_),u=c/(n*m)*(o*(r=e*i+_,((r=Math.exp(2*r))-1)/(r+1))-function(t){return((t=Math.exp(t))-1/t)/2}(_));return[a+u*f,l+u*d,c*o/Po(e*i+_)]}}return o.duration=1e3*s*e/Math.SQRT2,o}return i.rho=function(e){var n=Math.max(.001,+e),r=n*n;return t(n,r,r*r)},i}(Math.SQRT2,2,4);var Bo,Do,Yo=0,Uo=0,Ho=0,Ko=0,Vo=0,Zo=0,Wo="object"==typeof performance&&performance.now?performance:Date,Go="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Jo(){return Vo||(Go(Qo),Vo=Wo.now()+Zo)}function Qo(){Vo=0}function ts(){this._call=this._time=this._next=null}function es(t,e,n){var r=new ts;return r.restart(t,e,n),r}function ns(){Vo=(Ko=Wo.now())+Zo,Yo=Uo=0;try{!function(){Jo(),++Yo;for(var t,e=Bo;e;)(t=Vo-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Yo}()}finally{Yo=0,function(){var t,e,n=Bo,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Bo=e);Do=t,is(r)}(),Vo=0}}function rs(){var t=Wo.now(),e=t-Ko;e>1e3&&(Zo-=e,Ko=t)}function is(t){Yo||(Uo&&(Uo=clearTimeout(Uo)),t-Vo>24?(t<1/0&&(Uo=setTimeout(ns,t-Wo.now()-Zo)),Ho&&(Ho=clearInterval(Ho))):(Ho||(Ko=Wo.now(),Ho=setInterval(rs,1e3)),Yo=1,Go(ns)))}function os(t,e,n){var r=new ts;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}ts.prototype=es.prototype={constructor:ts,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Jo():+n)+(null==e?0:+e),this._next||Do===this||(Do?Do._next=this:Bo=this,Do=this),this._call=t,this._time=n,is()},stop:function(){this._call&&(this._call=null,this._time=1/0,is())}};var ss=Ar("start","end","cancel","interrupt"),as=[];function ls(t,e,n,r,i,o){var s=t.__transition;if(s){if(n in s)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(t){n.state=1,n.timer.restart(s,n.delay,n.time),n.delay<=t&&s(t-n.delay)}function s(o){var c,u,h,p;if(1!==n.state)return l();for(c in i)if((p=i[c]).name===n.name){if(3===p.state)return os(s);4===p.state?(p.state=6,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete i[c]):+c<e&&(p.state=6,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete i[c])}if(os((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(o))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),c=0,u=-1;c<h;++c)(p=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++u]=p);r.length=u+1}}function a(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(l),n.state=5,1),o=-1,s=r.length;++o<s;)r[o].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=es(o,0,n.time)}(t,n,{name:e,index:r,group:i,on:ss,tween:as,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function cs(t,e){var n=hs(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function us(t,e){var n=hs(t,e);if(n.state>3)throw new Error("too late; already running");return n}function hs(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function ps(t,e){var n,r,i,o=t.__transition,s=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):s=!1;s&&delete t.__transition}}function fs(t,e){var n,r;return function(){var i=us(this,t),o=i.tween;if(o!==n)for(var s=0,a=(r=n=o).length;s<a;++s)if(r[s].name===e){(r=r.slice()).splice(s,1);break}i.tween=r}}function ds(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=us(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=a;break}l===c&&i.push(a)}o.tween=i}}function gs(t,e,n){var r=t._id;return t.each((function(){var t=us(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return hs(t,r).value[e]}}function ms(t,e){var n;return("number"==typeof e?Io:e instanceof lo?Eo:(n=lo(e))?(e=n,Eo):To)(t,e)}function vs(t){return function(){this.removeAttribute(t)}}function ys(t){return function(){this.removeAttributeNS(t.space,t.local)}}function _s(t,e,n){var r,i,o=n+"";return function(){var s=this.getAttribute(t);return s===o?null:s===r?i:i=e(r=s,n)}}function ks(t,e,n){var r,i,o=n+"";return function(){var s=this.getAttributeNS(t.space,t.local);return s===o?null:s===r?i:i=e(r=s,n)}}function bs(t,e,n){var r,i,o;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttribute(t))===(a=l+"")?null:s===r&&a===i?o:(i=a,o=e(r=s,l));this.removeAttribute(t)}}function xs(t,e,n){var r,i,o;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttributeNS(t.space,t.local))===(a=l+"")?null:s===r&&a===i?o:(i=a,o=e(r=s,l));this.removeAttributeNS(t.space,t.local)}}function ws(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,i)),n}return i._value=e,i}function As(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,i)),n}return i._value=e,i}function Cs(t,e){return function(){cs(this,t).delay=+e.apply(this,arguments)}}function Ss(t,e){return e=+e,function(){cs(this,t).delay=e}}function Ms(t,e){return function(){us(this,t).duration=+e.apply(this,arguments)}}function Es(t,e){return e=+e,function(){us(this,t).duration=e}}var Is=Fi.prototype.constructor;function zs(t){return function(){this.style.removeProperty(t)}}var $s=0;function Ts(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function js(){return++$s}var Ns=Fi.prototype;Ts.prototype={constructor:Ts,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Or(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a,l,c=r[s],u=c.length,h=o[s]=new Array(u),p=0;p<u;++p)(a=c[p])&&(l=t.call(a,a.__data__,p,c))&&("__data__"in a&&(l.__data__=a.__data__),h[p]=l,ls(h[p],e,n,p,h,hs(a,n)));return new Ts(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=qr(t));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l,c=r[a],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var p,f=t.call(l,l.__data__,h,c),d=hs(l,n),g=0,m=f.length;g<m;++g)(p=f[g])&&ls(p,e,n,g,f,d);o.push(f),s.push(l)}return new Ts(o,s,e,n)},selectChild:Ns.selectChild,selectChildren:Ns.selectChildren,filter:function(t){"function"!=typeof t&&(t=Fr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,s=e[i],a=s.length,l=r[i]=[],c=0;c<a;++c)(o=s[c])&&t.call(o,o.__data__,c,s)&&l.push(o);return new Ts(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l,c=e[a],u=n[a],h=c.length,p=s[a]=new Array(h),f=0;f<h;++f)(l=c[f]||u[f])&&(p[f]=l);for(;a<r;++a)s[a]=e[a];return new Ts(s,this._parents,this._name,this._id)},selection:function(){return new Is(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=js(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s,a=r[o],l=a.length,c=0;c<l;++c)if(s=a[c]){var u=hs(s,e);ls(s,t,n,c,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Ts(r,this._parents,t,n)},call:Ns.call,nodes:Ns.nodes,node:Ns.node,size:Ns.size,empty:Ns.empty,each:Ns.each,on:function(t,e){var n=this._id;return arguments.length<2?hs(this.node(),n).on.on(t):this.each(function(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?cs:us;return function(){var s=o(this,t),a=s.on;a!==r&&(i=(r=a).copy()).on(e,n),s.on=i}}(n,t,e))},attr:function(t,e){var n=zr(t),r="transform"===n?Fo:ms;return this.attrTween(t,"function"==typeof e?(n.local?xs:bs)(n,r,gs(this,"attr."+t,e)):null==e?(n.local?ys:vs)(n):(n.local?ks:_s)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=zr(t);return this.tween(n,(r.local?ws:As)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?Xo:ms;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=li(this,t),s=(this.style.removeProperty(t),li(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}(t,r)).on("end.style."+t,zs(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var s=li(this,t),a=n(this),l=a+"";return null==a&&(this.style.removeProperty(t),l=a=li(this,t)),s===l?null:s===r&&l===i?o:(i=l,o=e(r=s,a))}}(t,r,gs(this,"style."+t,e))).each(function(t,e){var n,r,i,o,s="style."+e,a="end."+s;return function(){var l=us(this,t),c=l.on,u=null==l.value[s]?o||(o=zs(e)):void 0;c===n&&i===u||(r=(n=c).copy()).on(a,i=u),l.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var s=li(this,t);return s===o?null:s===r?i:i=e(r=s,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&function(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}(t,o,n)),r}return o._value=e,o}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(gs(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&function(t){return function(e){this.textContent=t.call(this,e)}}(r)),e}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=hs(this.node(),n).tween,o=0,s=i.length;o<s;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?fs:ds)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Cs:Ss)(e,t)):hs(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Ms:Es)(e,t)):hs(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){us(this,t).ease=e}}(e,t)):hs(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;us(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,s){var a={value:s},l={value:function(){0==--i&&o()}};n.each((function(){var n=us(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),n.on=e})),0===i&&o()}))},[Symbol.iterator]:Ns[Symbol.iterator]};var Os={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Ls(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}Fi.prototype.interrupt=function(t){return this.each((function(){ps(this,t)}))},Fi.prototype.transition=function(t){var e,n;t instanceof Ts?(e=t._id,t=t._name):(e=js(),(n=Os).time=Jo(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s,a=r[o],l=a.length,c=0;c<l;++c)(s=a[c])&&ls(s,t,e,c,a,n||Ls(s,e));return new Ts(r,this._parents,t,e)};const qs=Math.PI,Xs=2*qs,Fs=1e-6,Ps=Xs-Fs;function Rs(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}class Bs{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?Rs:function(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Rs;const n=10**e;return function(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=Math.round(arguments[e]*n)/n+t[e]}}(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,n,r){this._append`Q${+t},${+e},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(t,e,n,r,i,o){this._append`C${+t},${+e},${+n},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(t,e,n,r,i){if(t=+t,e=+e,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,a=n-t,l=r-e,c=o-t,u=s-e,h=c*c+u*u;if(null===this._x1)this._append`M${this._x1=t},${this._y1=e}`;else if(h>Fs)if(Math.abs(u*a-l*c)>Fs&&i){let p=n-o,f=r-s,d=a*a+l*l,g=p*p+f*f,m=Math.sqrt(d),v=Math.sqrt(h),y=i*Math.tan((qs-Math.acos((d+h-g)/(2*m*v)))/2),_=y/v,k=y/m;Math.abs(_-1)>Fs&&this._append`L${t+_*c},${e+_*u}`,this._append`A${i},${i},0,0,${+(u*p>c*f)},${this._x1=t+k*a},${this._y1=e+k*l}`}else this._append`L${this._x1=t},${this._y1=e}`;else;}arc(t,e,n,r,i,o){if(t=+t,e=+e,o=!!o,(n=+n)<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(r),a=n*Math.sin(r),l=t+s,c=e+a,u=1^o,h=o?r-i:i-r;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>Fs||Math.abs(this._y1-c)>Fs)&&this._append`L${l},${c}`,n&&(h<0&&(h=h%Xs+Xs),h>Ps?this._append`A${n},${n},0,1,${u},${t-s},${e-a}A${n},${n},0,1,${u},${this._x1=l},${this._y1=c}`:h>Fs&&this._append`A${n},${n},0,${+(h>=qs)},${u},${this._x1=t+n*Math.cos(i)},${this._y1=e+n*Math.sin(i)}`)}rect(t,e,n,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function Ds(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}const Ys=Symbol("implicit");const Us=function(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function Hs(t){return function(){return t}}var Ks=Array.prototype.slice;function Vs(t){return t[0]}function Zs(t){return t[1]}class Ws{constructor(t,e){this._context=t,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,e,t,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,t,this._y0,t,e)}this._x0=t,this._y0=e}}function Gs(t){return new Ws(t,!0)}function Js(t){return t.source}function Qs(t){return t.target}function ta(t){let e=Js,n=Qs,r=Vs,i=Zs,o=null,s=null,a=function(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(null==n)e=null;else{const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);e=t}return t},()=>new Bs(e)}(l);function l(){let l;const c=Ks.call(arguments),u=e.apply(this,c),h=n.apply(this,c);if(null==o&&(s=t(l=a())),s.lineStart(),c[0]=u,s.point(+r.apply(this,c),+i.apply(this,c)),c[0]=h,s.point(+r.apply(this,c),+i.apply(this,c)),s.lineEnd(),l)return s=null,l+""||null}return l.source=function(t){return arguments.length?(e=t,l):e},l.target=function(t){return arguments.length?(n=t,l):n},l.x=function(t){return arguments.length?(r="function"==typeof t?t:Hs(+t),l):r},l.y=function(t){return arguments.length?(i="function"==typeof t?t:Hs(+t),l):i},l.context=function(e){return arguments.length?(null==e?o=s=null:s=t(o=e),l):o},l}const ea=t=>()=>t;function na(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function ra(t,e,n){this.k=t,this.x=e,this.y=n}ra.prototype={constructor:ra,scale:function(t){return 1===t?this:new ra(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new ra(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ia=new ra(1,0,0);function oa(t){for(;!t.__zoom;)if(!(t=t.parentNode))return ia;return t.__zoom}function sa(t){t.stopImmediatePropagation()}function aa(t){t.preventDefault(),t.stopImmediatePropagation()}function la(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function ca(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function ua(){return this.__zoom||ia}function ha(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function pa(){return navigator.maxTouchPoints||"ontouchstart"in this}function fa(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function da(){var t,e,n,r=la,i=ca,o=fa,s=ha,a=pa,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,h=Ro,p=Ar("start","zoom","end"),f=0,d=10;function g(t){t.property("__zoom",ua).on("wheel.zoom",x,{passive:!1}).on("mousedown.zoom",w).on("dblclick.zoom",A).filter(a).on("touchstart.zoom",C).on("touchmove.zoom",S).on("touchend.zoom touchcancel.zoom",M).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(t,e){return(e=Math.max(l[0],Math.min(l[1],e)))===t.k?t:new ra(e,t.x,t.y)}function v(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new ra(t.k,r,i)}function y(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function _(t,e,n,r){t.on("start.zoom",(function(){k(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){k(this,arguments).event(r).end()})).tween("zoom",(function(){var t=this,o=arguments,s=k(t,o).event(r),a=i.apply(t,o),l=null==n?y(a):"function"==typeof n?n.apply(t,o):n,c=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),u=t.__zoom,p="function"==typeof e?e.apply(t,o):e,f=h(u.invert(l).concat(c/u.k),p.invert(l).concat(c/p.k));return function(t){if(1===t)t=p;else{var e=f(t),n=c/e[2];t=new ra(n,l[0]-e[0]*n,l[1]-e[1]*n)}s.zoom(null,t)}}))}function k(t,e,n){return!n&&t.__zooming||new b(t,e)}function b(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=i.apply(t,e),this.taps=0}function x(t,...e){if(r.apply(this,arguments)){var n=k(this,e).event(t),i=this.__zoom,a=Math.max(l[0],Math.min(l[1],i.k*Math.pow(2,s.apply(this,arguments)))),u=Ri(t);if(n.wheel)n.mouse[0][0]===u[0]&&n.mouse[0][1]===u[1]||(n.mouse[1]=i.invert(n.mouse[0]=u)),clearTimeout(n.wheel);else{if(i.k===a)return;n.mouse=[u,i.invert(u)],ps(this),n.start()}aa(t),n.wheel=setTimeout((function(){n.wheel=null,n.end()}),150),n.zoom("mouse",o(v(m(i,a),n.mouse[0],n.mouse[1]),n.extent,c))}}function w(t,...e){if(!n&&r.apply(this,arguments)){var i,s,a,l=t.currentTarget,u=k(this,e,!0).event(t),h=Pi(t.view).on("mousemove.zoom",(function(t){if(aa(t),!u.moved){var e=t.clientX-d,n=t.clientY-g;u.moved=e*e+n*n>f}u.event(t).zoom("mouse",o(v(u.that.__zoom,u.mouse[0]=Ri(t,l),u.mouse[1]),u.extent,c))}),!0).on("mouseup.zoom",(function(t){h.on("mousemove.zoom mouseup.zoom",null),e=t.view,n=u.moved,r=e.document.documentElement,i=Pi(e).on("dragstart.drag",null),n&&(i.on("click.drag",Di,Bi),setTimeout((function(){i.on("click.drag",null)}),0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect),aa(t),u.event(t).end();var e,n,r,i}),!0),p=Ri(t,l),d=t.clientX,g=t.clientY;i=t.view,s=i.document.documentElement,a=Pi(i).on("dragstart.drag",Di,Bi),"onselectstart"in s?a.on("selectstart.drag",Di,Bi):(s.__noselect=s.style.MozUserSelect,s.style.MozUserSelect="none"),sa(t),u.mouse=[p,this.__zoom.invert(p)],ps(this),u.start()}}function A(t,...e){if(r.apply(this,arguments)){var n=this.__zoom,s=Ri(t.changedTouches?t.changedTouches[0]:t,this),a=n.invert(s),l=n.k*(t.shiftKey?.5:2),h=o(v(m(n,l),s,a),i.apply(this,e),c);aa(t),u>0?Pi(this).transition().duration(u).call(_,h,s,t):Pi(this).call(g.transform,h,s,t)}}function C(n,...i){if(r.apply(this,arguments)){var o,s,a,l,c=n.touches,u=c.length,h=k(this,i,n.changedTouches.length===u).event(n);for(sa(n),s=0;s<u;++s)l=[l=Ri(a=c[s],this),this.__zoom.invert(l),a.identifier],h.touch0?h.touch1||h.touch0[2]===l[2]||(h.touch1=l,h.taps=0):(h.touch0=l,o=!0,h.taps=1+!!t);t&&(t=clearTimeout(t)),o&&(h.taps<2&&(e=l[0],t=setTimeout((function(){t=null}),500)),ps(this),h.start())}}function S(t,...e){if(this.__zooming){var n,r,i,s,a=k(this,e).event(t),l=t.changedTouches,u=l.length;for(aa(t),n=0;n<u;++n)i=Ri(r=l[n],this),a.touch0&&a.touch0[2]===r.identifier?a.touch0[0]=i:a.touch1&&a.touch1[2]===r.identifier&&(a.touch1[0]=i);if(r=a.that.__zoom,a.touch1){var h=a.touch0[0],p=a.touch0[1],f=a.touch1[0],d=a.touch1[1],g=(g=f[0]-h[0])*g+(g=f[1]-h[1])*g,y=(y=d[0]-p[0])*y+(y=d[1]-p[1])*y;r=m(r,Math.sqrt(g/y)),i=[(h[0]+f[0])/2,(h[1]+f[1])/2],s=[(p[0]+d[0])/2,(p[1]+d[1])/2]}else{if(!a.touch0)return;i=a.touch0[0],s=a.touch0[1]}a.zoom("touch",o(v(r,i,s),a.extent,c))}}function M(t,...r){if(this.__zooming){var i,o,s=k(this,r).event(t),a=t.changedTouches,l=a.length;for(sa(t),n&&clearTimeout(n),n=setTimeout((function(){n=null}),500),i=0;i<l;++i)o=a[i],s.touch0&&s.touch0[2]===o.identifier?delete s.touch0:s.touch1&&s.touch1[2]===o.identifier&&delete s.touch1;if(s.touch1&&!s.touch0&&(s.touch0=s.touch1,delete s.touch1),s.touch0)s.touch0[1]=this.__zoom.invert(s.touch0[0]);else if(s.end(),2===s.taps&&(o=Ri(o,this),Math.hypot(e[0]-o[0],e[1]-o[1])<d)){var c=Pi(this).on("dblclick.zoom");c&&c.apply(this,arguments)}}}return g.transform=function(t,e,n,r){var i=t.selection?t.selection():t;i.property("__zoom",ua),t!==i?_(t,e,n,r):i.interrupt().each((function(){k(this,arguments).event(r).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},g.scaleBy=function(t,e,n,r){g.scaleTo(t,(function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)}),n,r)},g.scaleTo=function(t,e,n,r){g.transform(t,(function(){var t=i.apply(this,arguments),r=this.__zoom,s=null==n?y(t):"function"==typeof n?n.apply(this,arguments):n,a=r.invert(s),l="function"==typeof e?e.apply(this,arguments):e;return o(v(m(r,l),s,a),t,c)}),n,r)},g.translateBy=function(t,e,n,r){g.transform(t,(function(){return o(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),c)}),null,r)},g.translateTo=function(t,e,n,r,s){g.transform(t,(function(){var t=i.apply(this,arguments),s=this.__zoom,a=null==r?y(t):"function"==typeof r?r.apply(this,arguments):r;return o(ia.translate(a[0],a[1]).scale(s.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,c)}),r,s)},b.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=Pi(this.that).datum();p.call(t,this.that,new na(t,{sourceEvent:this.sourceEvent,target:g,type:t,transform:this.that.__zoom,dispatch:p}),e)}},g.wheelDelta=function(t){return arguments.length?(s="function"==typeof t?t:ea(+t),g):s},g.filter=function(t){return arguments.length?(r="function"==typeof t?t:ea(!!t),g):r},g.touchable=function(t){return arguments.length?(a="function"==typeof t?t:ea(!!t),g):a},g.extent=function(t){return arguments.length?(i="function"==typeof t?t:ea([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),g):i},g.scaleExtent=function(t){return arguments.length?(l[0]=+t[0],l[1]=+t[1],g):[l[0],l[1]]},g.translateExtent=function(t){return arguments.length?(c[0][0]=+t[0][0],c[1][0]=+t[1][0],c[0][1]=+t[0][1],c[1][1]=+t[1][1],g):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},g.constrain=function(t){return arguments.length?(o=t,g):o},g.duration=function(t){return arguments.length?(u=+t,g):u},g.interpolate=function(t){return arguments.length?(h=t,g):h},g.on=function(){var t=p.on.apply(p,arguments);return t===p?g:t},g.clickDistance=function(t){return arguments.length?(f=(t=+t)*t,g):Math.sqrt(f)},g.tapDistance=function(t){return arguments.length?(d=+t,g):d},g}
/*! @gera2ld/jsx-dom v2.2.2 | ISC License */oa.prototype=ra.prototype;const ga="http://www.w3.org/1999/xlink",ma={show:ga,actuate:ga,href:ga};function va(t,e){let n;if("string"==typeof t)n=1;else{if("function"!=typeof t)throw new Error("Invalid VNode type");n=2}return{vtype:n,type:t,props:e}}function ya(t){return t.children}const _a={isSvg:!1};function ka(t,e){Array.isArray(e)||(e=[e]),(e=e.filter(Boolean)).length&&t.append(...e)}const ba={className:"class",labelFor:"for"};function xa(t,e,n,r){if(e=ba[e]||e,!0===n)t.setAttribute(e,"");else if(!1===n)t.removeAttribute(e);else{const i=r?ma[e]:void 0;void 0!==i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}}function wa(t,e){return Array.isArray(t)?function(t){return t.reduce(((t,e)=>t.concat(e)),[])}(t.map((t=>wa(t,e)))):Aa(t,e)}function Aa(t,e=_a){if(null==t||"boolean"==typeof t)return null;if(t instanceof Node)return t;if((t=>2===(null==t?void 0:t.vtype))(t)){const{type:n,props:r}=t;if(n===ya){const t=document.createDocumentFragment();if(r.children){ka(t,wa(r.children,e))}return t}return Aa(n(r),e)}if((t=>"string"==typeof t||"number"==typeof t)(t))return document.createTextNode(`${t}`);if((t=>1===(null==t?void 0:t.vtype))(t)){let n;const{type:r,props:i}=t;if(!e.isSvg&&"svg"===r&&(e=Object.assign({},e,{isSvg:!0})),n=e.isSvg?document.createElementNS("http://www.w3.org/2000/svg",r):document.createElement(r),function(t,e,n){for(const r in e)if("key"!==r&&"children"!==r&&"ref"!==r)if("dangerouslySetInnerHTML"===r)t.innerHTML=e[r].__html;else if("innerHTML"===r||"textContent"===r||"innerText"===r||"value"===r&&["textarea","select"].includes(t.tagName)){const n=e[r];null!=n&&(t[r]=n)}else r.startsWith("on")?t[r.toLowerCase()]=e[r]:xa(t,r,e[r],n.isSvg)}(n,i,e),i.children){let t=e;e.isSvg&&"foreignObject"===r&&(t=Object.assign({},t,{isSvg:!1}));const o=wa(i.children,t);null!=o&&ka(n,o)}const{ref:o}=i;return"function"==typeof o&&o(n),n}throw new Error("mount: Invalid Vnode!")}function Ca(t){return Aa(t)}function Sa(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function Ma(t,e){var n,r,i,o,s,a=new $a(t),l=+t.value&&(a.value=t.value),c=[a];for(null==e&&(e=Ea);n=c.pop();)if(l&&(n.value=+n.data.value),(i=e(n.data))&&(s=i.length))for(n.children=new Array(s),o=s-1;o>=0;--o)c.push(r=n.children[o]=new $a(i[o])),r.parent=n,r.depth=n.depth+1;return a.eachBefore(za)}function Ea(t){return t.children}function Ia(t){t.data=t.data.data}function za(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function $a(t){this.data=t,this.depth=this.height=0,this.parent=null}$a.prototype=Ma.prototype={constructor:$a,count:function(){return this.eachAfter(Sa)},each:function(t){var e,n,r,i,o=this,s=[o];do{for(e=s.reverse(),s=[];o=e.pop();)if(t(o),n=o.children)for(r=0,i=n.length;r<i;++r)s.push(n[r])}while(s.length);return this},eachAfter:function(t){for(var e,n,r,i=this,o=[i],s=[];i=o.pop();)if(s.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n]);for(;i=s.pop();)t(i);return this},eachBefore:function(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each((function(e){t.push(e)})),t},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return Ma(this).eachBefore(Ia)}};const Ta={name:"d3-flextree",version:"2.1.2",main:"build/d3-flextree.js",module:"index","jsnext:main":"index",author:{name:"Chris Maloney",url:"http://chrismaloney.org"},description:"Flexible tree layout algorithm that allows for variable node sizes.",keywords:["d3","d3-module","layout","tree","hierarchy","d3-hierarchy","plugin","d3-plugin","infovis","visualization","2d"],homepage:"https://github.com/klortho/d3-flextree",license:"WTFPL",repository:{type:"git",url:"https://github.com/klortho/d3-flextree.git"},scripts:{clean:"rm -rf build demo test","build:demo":"rollup -c --environment BUILD:demo","build:dev":"rollup -c --environment BUILD:dev","build:prod":"rollup -c --environment BUILD:prod","build:test":"rollup -c --environment BUILD:test",build:"rollup -c",lint:"eslint index.js src","test:main":"node test/bundle.js","test:browser":"node test/browser-tests.js",test:"npm-run-all test:*",prepare:"npm-run-all clean build lint test"},dependencies:{"d3-hierarchy":"^1.1.5"},devDependencies:{"babel-plugin-external-helpers":"^6.22.0","babel-preset-es2015-rollup":"^3.0.0",d3:"^4.13.0","d3-selection-multi":"^1.0.1",eslint:"^4.19.1",jsdom:"^11.6.2","npm-run-all":"^4.1.2",rollup:"^0.55.3","rollup-plugin-babel":"^2.7.1","rollup-plugin-commonjs":"^8.0.2","rollup-plugin-copy":"^0.2.3","rollup-plugin-json":"^2.3.0","rollup-plugin-node-resolve":"^3.0.2","rollup-plugin-uglify":"^3.0.0","uglify-es":"^3.3.9"}},{version:ja}=Ta,Na=Object.freeze({children:t=>t.children,nodeSize:t=>t.data.size,spacing:0});function Oa(t){const e=Object.assign({},Na,t);function n(t){const n=e[t];return"function"==typeof n?n:()=>n}function r(t){const e=o(function(){const t=i(),e=n("nodeSize"),r=n("spacing");return class extends t{constructor(t){super(t),Object.assign(this,{x:0,y:0,relX:0,prelim:0,shift:0,change:0,lExt:this,lExtRelX:0,lThr:null,rExt:this,rExtRelX:0,rThr:null})}get size(){return e(this.data)}spacing(t){return r(this.data,t.data)}get x(){return this.data.x}set x(t){this.data.x=t}get y(){return this.data.y}set y(t){this.data.y=t}update(){return La(this),qa(this),this}}}(),t,(t=>t.children));return e.update(),e.data}function i(){const t=n("nodeSize"),e=n("spacing");return class n extends Ma.prototype.constructor{constructor(t){super(t)}copy(){const t=o(this.constructor,this,(t=>t.children));return t.each((t=>t.data=t.data.data)),t}get size(){return t(this)}spacing(t){return e(this,t)}get nodes(){return this.descendants()}get xSize(){return this.size[0]}get ySize(){return this.size[1]}get top(){return this.y}get bottom(){return this.y+this.ySize}get left(){return this.x-this.xSize/2}get right(){return this.x+this.xSize/2}get root(){const t=this.ancestors();return t[t.length-1]}get numChildren(){return this.hasChildren?this.children.length:0}get hasChildren(){return!this.noChildren}get noChildren(){return null===this.children}get firstChild(){return this.hasChildren?this.children[0]:null}get lastChild(){return this.hasChildren?this.children[this.numChildren-1]:null}get extents(){return(this.children||[]).reduce(((t,e)=>n.maxExtents(t,e.extents)),this.nodeExtents)}get nodeExtents(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}static maxExtents(t,e){return{top:Math.min(t.top,e.top),bottom:Math.max(t.bottom,e.bottom),left:Math.min(t.left,e.left),right:Math.max(t.right,e.right)}}}}function o(t,e,n){const r=(e,i)=>{const o=new t(e);Object.assign(o,{parent:i,depth:null===i?0:i.depth+1,height:0,length:1});const s=n(e)||[];return o.children=0===s.length?null:s.map((t=>r(t,o))),o.children&&Object.assign(o,o.children.reduce(((t,e)=>({height:Math.max(t.height,e.height+1),length:t.length+e.length})),o)),o};return r(e,null)}return Object.assign(r,{nodeSize(t){return arguments.length?(e.nodeSize=t,r):e.nodeSize},spacing(t){return arguments.length?(e.spacing=t,r):e.spacing},children(t){return arguments.length?(e.children=t,r):e.children},hierarchy(t,n){const r=typeof n>"u"?e.children:n;return o(i(),t,r)},dump(t){const e=n("nodeSize"),r=t=>n=>{const i=t+"  ",o=t+"    ",{x:s,y:a}=n,l=e(n),c=n.children||[],u=0===c.length?" ":`,${i}children: [${o}${c.map(r(o)).join(o)}${i}],${t}`;return`{ size: [${l.join(", ")}],${i}x: ${s}, y: ${a}${u}},`};return r("\n")(t)}}),r}Oa.version=ja;const La=(t,e=0)=>(t.y=e,(t.children||[]).reduce(((e,n)=>{const[r,i]=e;La(n,t.y+t.ySize);const o=(0===r?n.lExt:n.rExt).bottom;0!==r&&Fa(t,r,i);return[r+1,Ka(o,r,i)]}),[0,null]),Xa(t),Ha(t),t),qa=(t,e,n)=>{typeof e>"u"&&(e=-t.relX-t.prelim,n=0);const r=e+t.relX;return t.relX=r+t.prelim-n,t.prelim=0,t.x=n+t.relX,(t.children||[]).forEach((e=>qa(e,r,t.x))),t},Xa=t=>{(t.children||[]).reduce(((t,e)=>{const[n,r]=t,i=n+e.shift,o=r+i+e.change;return e.relX+=o,[i,o]}),[0,0])},Fa=(t,e,n)=>{const r=t.children[e-1],i=t.children[e];let o=r,s=r.relX,a=i,l=i.relX,c=!0;for(;o&&a;){o.bottom>n.lowY&&(n=n.next);const r=s+o.prelim-(l+a.prelim)+o.xSize/2+a.xSize/2+o.spacing(a);(r>0||r<0&&c)&&(l+=r,Pa(i,r),Ra(t,e,n.index,r)),c=!1;const u=o.bottom,h=a.bottom;u<=h&&(o=Da(o),o&&(s+=o.relX)),u>=h&&(a=Ba(a),a&&(l+=a.relX))}!o&&a?Ya(t,e,a,l):o&&!a&&Ua(t,e,o,s)},Pa=(t,e)=>{t.relX+=e,t.lExtRelX+=e,t.rExtRelX+=e},Ra=(t,e,n,r)=>{const i=t.children[e],o=e-n;if(o>1){const e=r/o;t.children[n+1].shift+=e,i.shift-=e,i.change-=r-e}},Ba=t=>t.hasChildren?t.firstChild:t.lThr,Da=t=>t.hasChildren?t.lastChild:t.rThr,Ya=(t,e,n,r)=>{const i=t.firstChild,o=i.lExt,s=t.children[e];o.lThr=n;const a=r-n.relX-i.lExtRelX;o.relX+=a,o.prelim-=a,i.lExt=s.lExt,i.lExtRelX=s.lExtRelX},Ua=(t,e,n,r)=>{const i=t.children[e],o=i.rExt,s=t.children[e-1];o.rThr=n;const a=r-n.relX-i.rExtRelX;o.relX+=a,o.prelim-=a,i.rExt=s.rExt,i.rExtRelX=s.rExtRelX},Ha=t=>{if(t.hasChildren){const e=t.firstChild,n=t.lastChild,r=(e.prelim+e.relX-e.xSize/2+n.relX+n.prelim+n.xSize/2)/2;Object.assign(t,{prelim:r,lExt:e.lExt,lExtRelX:e.lExtRelX,rExt:n.rExt,rExtRelX:n.rExtRelX})}},Ka=(t,e,n)=>{for(;null!==n&&t>=n.lowY;)n=n.next;return{lowY:t,index:e,next:n}},Va=".markmap-container{position:absolute;width:0;height:0;top:-100px;left:-100px;overflow:hidden}.markmap-container>.markmap-foreign{display:inline-block}.markmap-container>.markmap-foreign>div:last-child,.markmap-container>.markmap-foreign>div:last-child :not(pre){white-space:nowrap}.markmap-container>.markmap-foreign>div:last-child code{white-space:inherit}";function Za(t){const e=t.data;return Math.max(4-2*e.depth,1.5)}function Wa(t,e){return t[function(t,e){let n,r=-1,i=-1;if(void 0===e)for(const o of t)++i,null!=o&&(n>o||void 0===n&&o>=o)&&(n=o,r=i);else for(let o of t)null!=(o=e(o,++i,t))&&(n>o||void 0===n&&o>=o)&&(n=o,r=i);return r}(t,e)]}function Ga(t){t.stopPropagation()}const Ja=new Mt,Qa=function t(){var e=new yr,n=[],r=[],i=Ys;function o(t){let o=e.get(t);if(void 0===o){if(i!==Ys)return i;e.set(t,o=n.push(t)-1)}return r[o%r.length]}return o.domain=function(t){if(!arguments.length)return n.slice();n=[],e=new yr;for(const r of t)e.has(r)||e.set(r,n.push(r)-1);return o},o.range=function(t){return arguments.length?(r=Array.from(t),o):r.slice()},o.unknown=function(t){return arguments.length?(i=t,o):i},o.copy=function(){return t(n,r).unknown(i)},Ds.apply(o,arguments),o}(Us),tl=typeof navigator<"u"&&navigator.userAgent.includes("Macintosh"),el=class t{constructor(e,n){this.options=t.defaultOptions,this.revokers=[],this.handleZoom=t=>{const{transform:e}=t;this.g.attr("transform",e)},this.handlePan=t=>{t.preventDefault();const e=oa(this.svg.node()),n=e.translate(-t.deltaX/e.k,-t.deltaY/e.k);this.svg.call(this.zoom.transform,n)},this.handleClick=(t,e)=>{let n=this.options.toggleRecursively;(tl?t.metaKey:t.ctrlKey)&&(n=!n),this.toggleNode(e.data,n)},this.viewHooks={transformHtml:new Mt},this.svg=e.datum?e:Pi(e),this.styleNode=this.svg.append("style"),this.zoom=da().filter((t=>this.options.scrollForPan&&"wheel"===t.type?t.ctrlKey&&!t.button:!(t.ctrlKey&&"wheel"!==t.type||t.button))).on("zoom",this.handleZoom),this.setOptions(n),this.state={id:this.options.id||this.svg.attr("id")||(Nt+=1,`mm-${jt}-${Nt}`),minX:0,maxX:0,minY:0,maxY:0},this.g=this.svg.append("g"),this.revokers.push(Ja.tap((()=>{this.setData()})))}getStyleContent(){const{style:t}=this.options,{id:e}=this.state,n="function"==typeof t?t(e):"";return[this.options.embedGlobalCSS&&".markmap{font:300 16px/20px sans-serif}.markmap-link{fill:none}.markmap-node>circle{cursor:pointer}.markmap-foreign{display:inline-block}.markmap-foreign a{color:#0097e6}.markmap-foreign a:hover{color:#00a8ff}.markmap-foreign code{padding:.25em;font-size:calc(1em - 2px);color:#555;background-color:#f0f0f0;border-radius:2px}.markmap-foreign pre{margin:0}.markmap-foreign pre>code{display:block}.markmap-foreign del{text-decoration:line-through}.markmap-foreign em{font-style:italic}.markmap-foreign strong{font-weight:700}.markmap-foreign mark{background:#ffeaa7}",n].filter(Boolean).join("\n")}updateStyle(){this.svg.attr("class",function(t,...e){const n=(t||"").split(" ").filter(Boolean);return e.forEach((t=>{t&&n.indexOf(t)<0&&n.push(t)})),n.join(" ")}(this.svg.attr("class"),"markmap",this.state.id));const t=this.getStyleContent();this.styleNode.text(t)}toggleNode(t,e=!1){var n,r;const i=null!=(n=t.payload)&&n.fold?0:1;e?Lt(t,((t,e)=>{t.payload={...t.payload,fold:i},e()})):t.payload={...t.payload,fold:null!=(r=t.payload)&&r.fold?0:1},this.renderData(t)}initializeData(t){let e=0;const{color:n,nodeMinHeight:r,maxWidth:i,initialExpandLevel:o}=this.options,{id:s}=this.state,a=Ca(va("div",{className:`markmap-container markmap ${s}-g`})),l=Ca(va("style",{children:[this.getStyleContent(),Va].join("\n")}));document.body.append(a,l);const c=i?`max-width: ${i}px`:"";let u=0;Lt(t,((t,r,i)=>{var s,l,h;t.children=null==(s=t.children)?void 0:s.map((t=>({...t}))),e+=1;const p=Ca(va("div",{className:"markmap-foreign",style:c,children:va("div",{dangerouslySetInnerHTML:{__html:t.content}})}));a.append(p),t.state={...t.state,id:e,el:p.firstChild},t.state.path=[null==(l=null==i?void 0:i.state)?void 0:l.path,t.state.id].filter(Boolean).join("."),n(t);const f=2===(null==(h=t.payload)?void 0:h.fold);f?u+=1:(u||o>=0&&t.depth>=o)&&(t.payload={...t.payload,fold:1}),r(),f&&(u-=1)}));const h=Array.from(a.childNodes).map((t=>t.firstChild));this.viewHooks.transformHtml.call(this,h),h.forEach((t=>{var e;null==(e=t.parentNode)||e.append(t.cloneNode(!0))})),Lt(t,((t,e,n)=>{var i;const o=t.state,s=o.el.getBoundingClientRect();t.content=o.el.innerHTML,o.size=[Math.ceil(s.width)+1,Math.max(Math.ceil(s.height),r)],o.key=[null==(i=null==n?void 0:n.state)?void 0:i.id,o.id].filter(Boolean).join(".")+t.content,e()})),a.remove(),l.remove()}setOptions(t){this.options={...this.options,...t},this.options.zoom?this.svg.call(this.zoom):this.svg.on(".zoom",null),this.options.pan?this.svg.on("wheel",this.handlePan):this.svg.on("wheel",null)}setData(t,e){e&&this.setOptions(e),t&&(this.state.data=t),this.state.data&&(this.initializeData(this.state.data),this.updateStyle(),this.renderData())}renderData(t){if(!this.state.data)return;const{spacingHorizontal:e,paddingX:n,spacingVertical:r,autoFit:i,color:o}=this.options,s=Oa({}).children((t=>{var e;if(null==(e=t.payload)||!e.fold)return t.children})).nodeSize((t=>{const[r,i]=t.data.state.size;return[i,r+(r?2*n:0)+e]})).spacing(((t,e)=>t.parent===e.parent?r:2*r)),a=s.hierarchy(this.state.data);s(a);const l=a.descendants().reverse(),c=a.links(),u=ta(Gs),h=xr(l,(t=>t.x-t.xSize/2)),p=br(l,(t=>t.x+t.xSize/2)),f=xr(l,(t=>t.y)),d=br(l,(t=>t.y+t.ySize-e));Object.assign(this.state,{minX:h,maxX:p,minY:f,maxY:d}),i&&this.fit();const g=t&&l.find((e=>e.data===t))||a,m=g.data.state.x0??g.x,v=g.data.state.y0??g.y,y=this.g.selectAll(qt("g")).data(l,(t=>t.data.state.key)),_=y.enter().append("g").attr("data-depth",(t=>t.data.depth)).attr("data-path",(t=>t.data.state.path)).attr("transform",(t=>`translate(${v+g.ySize-t.ySize},${m+g.xSize/2-t.xSize})`)),k=this.transition(y.exit());k.select("line").attr("x1",(t=>t.ySize-e)).attr("x2",(t=>t.ySize-e)),k.select("foreignObject").style("opacity",0),k.attr("transform",(t=>`translate(${g.y+g.ySize-t.ySize},${g.x+g.xSize/2-t.xSize})`)).remove();const b=y.merge(_).attr("class",(t=>{var e;return["markmap-node",(null==(e=t.data.payload)?void 0:e.fold)&&"markmap-fold"].filter(Boolean).join(" ")}));this.transition(b).attr("transform",(t=>`translate(${t.y},${t.x-t.xSize/2})`));const x=b.selectAll(qt("line")).data((t=>[t]),(t=>t.data.state.key)).join((t=>t.append("line").attr("x1",(t=>t.ySize-e)).attr("x2",(t=>t.ySize-e))),(t=>t),(t=>t.remove()));this.transition(x).attr("x1",-1).attr("x2",(t=>t.ySize-e+2)).attr("y1",(t=>t.xSize)).attr("y2",(t=>t.xSize)).attr("stroke",(t=>o(t.data))).attr("stroke-width",Za);const w=b.selectAll(qt("circle")).data((t=>{var e;return null!=(e=t.data.children)&&e.length?[t]:[]}),(t=>t.data.state.key)).join((t=>t.append("circle").attr("stroke-width","1.5").attr("cx",(t=>t.ySize-e)).attr("cy",(t=>t.xSize)).attr("r",0).on("click",((t,e)=>this.handleClick(t,e))).on("mousedown",Ga)),(t=>t),(t=>t.remove()));this.transition(w).attr("r",6).attr("cx",(t=>t.ySize-e)).attr("cy",(t=>t.xSize)).attr("stroke",(t=>o(t.data))).attr("fill",(t=>{var e;return null!=(e=t.data.payload)&&e.fold&&t.data.children?o(t.data):"#fff"}));const A=b.selectAll(qt("foreignObject")).data((t=>[t]),(t=>t.data.state.key)).join((t=>{const e=t.append("foreignObject").attr("class","markmap-foreign").attr("x",n).attr("y",0).style("opacity",0).on("mousedown",Ga).on("dblclick",Ga);return e.append("xhtml:div").select((function(t){const e=t.data.state.el.cloneNode(!0);return this.replaceWith(e),e})).attr("xmlns","http://www.w3.org/1999/xhtml"),e}),(t=>t),(t=>t.remove())).attr("width",(t=>Math.max(0,t.ySize-e-2*n))).attr("height",(t=>t.xSize));this.transition(A).style("opacity",1);const C=this.g.selectAll(qt("path")).data(c,(t=>t.target.data.state.key)).join((t=>{const n=[v+g.ySize-e,m+g.xSize/2];return t.insert("path","g").attr("class","markmap-link").attr("data-depth",(t=>t.target.data.depth)).attr("data-path",(t=>t.target.data.state.path)).attr("d",u({source:n,target:n}))}),(t=>t),(t=>{const n=[g.y+g.ySize-e,g.x+g.xSize/2];return this.transition(t).attr("d",u({source:n,target:n})).remove()}));this.transition(C).attr("stroke",(t=>o(t.target.data))).attr("stroke-width",(t=>Za(t.target))).attr("d",(t=>{const n=t.source,r=t.target,i=[n.y+n.ySize-e,n.x+n.xSize/2],o=[r.y,r.x+r.xSize/2];return u({source:i,target:o})})),l.forEach((t=>{t.data.state.x0=t.x,t.data.state.y0=t.y}))}transition(t){const{duration:e}=this.options;return t.transition().duration(e)}async fit(){const t=this.svg.node(),{width:e,height:n}=t.getBoundingClientRect(),{fitRatio:r}=this.options,{minX:i,maxX:o,minY:s,maxY:a}=this.state,l=a-s,c=o-i,u=Math.min(e/l*r,n/c*r,2),h=ia.translate((e-l*u)/2-s*u,(n-c*u)/2-i*u).scale(u);return this.transition(this.svg).call(this.zoom.transform,h).end().catch(Ot)}async ensureView(t,e){let n;if(this.g.selectAll(qt("g")).each((function(e){e.data===t&&(n=e)})),!n)return;const r=this.svg.node(),{spacingHorizontal:i}=this.options,o=r.getBoundingClientRect(),s=oa(r),[a,l]=[n.y,n.y+n.ySize-i+2].map((t=>t*s.k+s.x)),[c,u]=[n.x-n.xSize/2,n.x+n.xSize/2].map((t=>t*s.k+s.y)),h={left:0,right:0,top:0,bottom:0,...e},p=[h.left-a,o.width-h.right-l],f=[h.top-c,o.height-h.bottom-u],d=p[0]*p[1]>0?Wa(p,Math.abs)/s.k:0,g=f[0]*f[1]>0?Wa(f,Math.abs)/s.k:0;if(d||g){const t=s.translate(d,g);return this.transition(this.svg).call(this.zoom.transform,t).end().catch(Ot)}}async rescale(t){const e=this.svg.node(),{width:n,height:r}=e.getBoundingClientRect(),i=n/2,o=r/2,s=oa(e),a=s.translate((i-s.x)*(1-t)/s.k,(o-s.y)*(1-t)/s.k).scale(t);return this.transition(this.svg).call(this.zoom.transform,a).end().catch(Ot)}destroy(){this.svg.on(".zoom",null),this.svg.html(null),this.revokers.forEach((t=>{t()}))}static create(e,n,r=null){const i=new t(e,n);return r&&(i.setData(r),i.fit()),i}};el.defaultOptions={autoFit:!1,color:t=>{var e;return Qa(`${(null==(e=t.state)?void 0:e.path)||""}`)},duration:500,embedGlobalCSS:!0,fitRatio:.95,maxWidth:0,nodeMinHeight:16,paddingX:8,scrollForPan:tl,spacingHorizontal:80,spacingVertical:5,initialExpandLevel:-1,zoom:!0,pan:!0,toggleRecursively:!1};let nl=el;export{nl as F,vr as T};
