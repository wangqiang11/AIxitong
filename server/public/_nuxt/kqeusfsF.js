import{E as h}from"./CgvUZmt4.js";import{_ as w}from"./BUR_EBmg.js";import{E as B}from"./DY83oLYV.js";import{cn as M,o as C,d as N,bF as F}from"./C3C96yZa.js";/* empty css        */import"./l_nRXyiX.js";import"./DP2rzg_V.js";import{l as I,b as P,m as U,M as r,a3 as $,a0 as n,O as o,Z as p,u as l,N as d,a9 as j,a4 as q,a5 as z,y as G}from"./D5LW44Rr.js";import{_ as D}from"./xixvWuCN.js";import{_ as J}from"./DlAUqK2U.js";import"./v3hwjf8i.js";import"./BYIy1x1Y.js";import"./B3O-Pehw.js";import"./Bl82a0u_.js";import"./BanEqy-I.js";const L={class:"flex-1 leading-snug"},R={key:0,class:"flex justify-center items-center h-[150px] relative"},S={key:1,class:"uploader-container"},A={class:"el-upload__tip text-[#798696]"},m=10,O=I({__name:"uploader-picture",props:{modelValue:{default:""},type:{default:"image"},files:{}},emits:["update:modelValue"],setup(f,{emit:_}){const u=_,i=f,{modelValue:s}=M(i,u),a=P([]),v=t=>t.size>m*1024*1024?(N.error(`文件大小不能超过${m}MB`),!1):!0,g=t=>{u("update:modelValue",t.uri),s.value=t.uri,a.value=[{name:t.name,url:t.uri}]},x=t=>F(i.type,{file:t.file,name:"file",header:{}}),b=U(()=>{switch(i.type){case"image":return".jpg,.png,.jpeg";case"video":return".wmv,.avi,.mpg,.mpeg,.3gp,.mov,.mp4,.flv,.rmvb,.mkv";case"audio":return;default:return"*"}});return(t,e)=>{const y=h,k=w,E=B,V=C;return r(),$(V,{prop:"image",required:""},{label:n(()=>e[2]||(e[2]=[o("span",{class:"font-bold text-tx-primary"}," 上传参考图 ",-1)])),default:n(()=>[o("div",L,[p(E,{"file-list":l(a),"onUpdate:fileList":e[1]||(e[1]=c=>G(a)?a.value=c:null),class:"uploader",drag:"",multiple:!1,"show-file-list":!1,"on-success":g,"http-request":x,"before-upload":v,accept:l(b)},{default:n(()=>[o("div",null,[l(s)?(r(),d("div",R,[p(y,{class:"!block h-[100%]",src:l(s),fit:"contain"},null,8,["src"]),p(k,{class:"!absolute right-0 top-0 z-10 drop-shadow",name:"el-icon-CircleCloseFilled",color:"#ffffff",onClick:e[0]||(e[0]=j(c=>s.value="",["stop"]))})])):(r(),d("div",S,[e[3]||(e[3]=o("img",{src:D,alt:"文件上传",class:"w-8 mx-auto mb-2"},null,-1)),e[4]||(e[4]=o("div",{class:"el-upload__text text-[#798696] !text-[13px]"},[q(" 拖拽文件到此处或者"),o("em",null,"点击上传")],-1)),o("div",A,z(`支持图片格式：JPG/JPEG/PNG，低于${m}MB`),1)]))])]),_:1},8,["file-list","accept"])])]),_:1})}}}),re=J(O,[["__scopeId","data-v-cd547139"]]);export{re as default};
