import{bw as Ft,l as Pt,f as ct,bA as Ct,E as Rt,v as At}from"./C3C96yZa.js";import{a as Dt,E as Bt}from"./DYsLegfR.js";import{E as Vt}from"./CgvUZmt4.js";import{a as $t,E as jt}from"./BUnlzN8T.js";import{_ as Tt}from"./BF962ufL.js";import{E as Lt}from"./B8A6LEAg.js";/* empty css        *//* empty css        *//* empty css        *//* empty css        */import"./l0sNRNKZ.js";/* empty css        *//* empty css        */import{u as zt}from"./LOBBah3p.js";import{g as Nt,d as Ut}from"./CH-eeB8d.js";import Wt from"./DMJ7BWeK.js";import{_ as It}from"./DO9VfhN6.js";import{_ as St}from"./DS3Ct5a4.js";import{_ as Mt}from"./DvEjH-xN.js";import Ot from"./CQMF-mLK.js";import{l as Ht,b as f,j as g,r as Yt,F as Zt,M as n,N as r,Z as l,a0 as a,u as o,O as t,a7 as d,a5 as i,a2 as b,a4 as x,aa as qt,a3 as v,y as Gt,n as C}from"./D5LW44Rr.js";import"./DqyG3WEP.js";import"./oImEcKgE.js";import"./v3hwjf8i.js";import"./BYIy1x1Y.js";import"./B3O-Pehw.js";import"./DU1sy8XN.js";import"./DCTLXrZ8.js";import"./A_tEgBSR.js";import"./BanEqy-I.js";import"./BKQAyYgR.js";import"./DtUW6dPj.js";import"./CidrDSIv.js";import"./D0z3eKdY.js";import"./BvqcBhuh.js";/* empty css        */import"./BUR_EBmg.js";import"./DlAUqK2U.js";import"./DZCnEkJy.js";import"./B-LKCL5c.js";/* empty css        */import"./De1F1SLW.js";import"./WTCUdrt7.js";import"./DA296rl_.js";import"./CF0VoheG.js";import"./CvgUe-Qn.js";import"./DP2rzg_V.js";/* empty css        */import"./Dx0Fzmw2.js";import"./H5oe5nJ8.js";import"./DY83oLYV.js";import"./l_nRXyiX.js";import"./Bl82a0u_.js";const Jt=""+new URL("distribution_apply_bg.CkYfuHoF.png",import.meta.url).href,Kt=""+new URL("distribution_url_bg.BVazyjv5.png",import.meta.url).href,Qt=""+new URL("distribution_poster_bg.OxyEI-6k.png",import.meta.url).href,Xt={class:"flex flex-col min-h-0 h-full"},te={key:0,class:"w-full flex-1"},ee={key:1,class:"h-full w-full"},oe={key:0,class:"grid grid-cols-2 gap-x-[20px]"},se={class:"bg-page rounded-[12px] px-[30px] py-[25px]"},le={class:"mt-[23px] flex"},ie={key:0,class:"flex-1 bg-[#EDF6FE] p-[25px] rounded-[10px]"},ne={class:"text-xl text-primary"},ae={class:"text-base mt-[12px] text-[#9E9E9E]"},pe={key:1,class:"flex-1 bg-[#FFEAD5] p-[25px] rounded-[10px] ml-[20px]"},re={class:"text-xl text-[#FF8F1F]"},de={class:"text-base mt-[12px] text-[#9E9E9E]"},me={class:"flex flex-col min-h-0 bg-page rounded-[12px] px-[30px] py-[25px]"},xe={key:1},ce={class:"grid grid-cols-2 xl:grid-cols-4 gap-x-[20px] gap-y-[20px]"},ue={class:"bg-page rounded-[12px] px-[30px] py-[25px]"},_e={class:"flex justify-between items-center"},fe={class:"text-primary text-[30px] font-medium"},ge={class:"bg-page rounded-[12px] px-[30px] py-[25px]"},be={class:"flex justify-between items-center"},ve={class:"text-primary text-[30px] font-medium"},ye={class:"bg-page rounded-[12px] px-[30px] py-[25px]"},Ee={class:"flex justify-between items-center"},we={class:"text-primary text-[30px] font-medium"},ke={class:"bg-page rounded-[12px] px-[30px] py-[25px]"},he={class:"flex justify-between items-center"},Fe={class:"text-primary text-[30px] font-medium"},Pe={class:"grid grid-cols-2 gap-x-[20px] mt-4"},Ce={class:"w-full bg-page rounded-[12px] px-[30px] py-[25px]"},Re={class:"mt-[23px] flex"},Ae={key:0,class:"flex-1 bg-[#EDF6FE] p-[25px] rounded-[10px]"},De={class:"text-xl text-primary"},Be={class:"text-base mt-[12px] text-[#9E9E9E]"},Ve={key:1,class:"flex-1 bg-[#FFEAD5] p-[25px] rounded-[10px] ml-[20px]"},$e={class:"text-xl text-[#FF8F1F]"},je={class:"text-base mt-[12px] text-[#9E9E9E]"},Te={class:"flex flex-col min-h-0 w-full bg-page rounded-[12px] px-[30px] py-[25px]"},Le={class:"grid grid-cols-2 gap-x-[20px] h-full"},ze={class:"line-clamp-2 text-[#9E9E9E] mt-[12px]",style:{"word-break":"break-all"}},Ne={class:"absolute top-[15px] right-[15px]"},Ue={class:"absolute top-[15px] right-[15px]"},We={class:"bg-page rounded-[12px] px-[30px] py-[25px] mt-4"},Ie={class:"w-full mt-1 bg-white dark:bg-page pb-[20px]"},Se={class:"flex items-center"},Me={class:"ml-2"},Oe={class:"flex justify-end mt-5 mr-4"},qo=Ht({__name:"distribution",setup(He){const ut=Ft();Pt();const y=f(!1),E=f(!1),w=f(!1),R=g(),A=g(),D=g(),B=g(),k=Yt({level:""}),{pager:m,getLists:_,resetPage:Ye,resetParams:Ze}=zt({fetchFun:Nt,params:k}),s=f(),V=async()=>{s.value=await Ut()},_t=async()=>{E.value=!0,await C(),A.value.open()},ft=async()=>{var F;if(((F=s.value.apply_detail)==null?void 0:F.status)==1){ct.msgWarning("正在审核中！");return}y.value=!0,await C(),R.value.open()},gt=async()=>{if(s.value.withdraw_config.type.length==0){ct.alertWarning("后台未设置提现方式！");return}w.value=!0,await C(),B.value.open()},bt=()=>{Ct(s.value.config.pc_promotion_url)},h=()=>{_(),V(),y.value=!1,E.value=!1,w.value=!1};return Zt(()=>{_(),V()}),(F,e)=>{const c=Rt,P=Dt,vt=Bt,yt=Vt,u=$t,Et=jt,wt=Tt,kt=Lt,ht=At;return n(),r("div",Xt,[l(kt,{class:"bg-white dark:bg-body rounded-[12px] p-[20px]"},{default:a(()=>{var $,j,T,L,z,N,U,W,I,S,M,O,H,Y,Z,q,G,J,K,Q,X,tt,et,ot,st,lt,it,nt,at,pt,rt,dt,mt,xt;return[(($=o(s))==null?void 0:$.is_open)!=1?(n(),r("div",te,e[3]||(e[3]=[t("div",{class:"text-xl"},"推广功能未开启!",-1)]))):d("",!0),((j=o(s))==null?void 0:j.is_open)==1?(n(),r("div",ee,[(L=(T=o(s))==null?void 0:T.user)!=null&&L.is_distribution?(n(),r("div",xe,[t("div",ce,[t("div",ue,[e[9]||(e[9]=t("div",{class:"font-medium text-xl pt-[20px] pb-[15px]"},"可提现余额（元）",-1)),t("div",_e,[t("div",fe,i((q=(Z=o(s))==null?void 0:Z.user)==null?void 0:q.user_money),1),l(c,{type:"primary",class:"!border-none",style:{"--el-button-bg-color":"#4A92FF"},onClick:gt},{default:a(()=>e[8]||(e[8]=[x(" 去提现 ")])),_:1})])]),t("div",ge,[e[10]||(e[10]=t("div",{class:"font-medium text-xl pt-[20px] pb-[15px]"},"今日收益（元）",-1)),t("div",be,[t("div",ve,i((J=(G=o(s))==null?void 0:G.user)==null?void 0:J.today_money),1)])]),t("div",ye,[e[12]||(e[12]=t("div",{class:"font-medium text-xl pt-[20px] pb-[15px]"},"已提现（元）",-1)),t("div",Ee,[t("div",we,i((Q=(K=o(s))==null?void 0:K.user)==null?void 0:Q.withdrawn_money),1),l(c,{type:"warning",class:"!border-none",style:{"--el-button-bg-color":"#FFA64C"},onClick:e[0]||(e[0]=p=>o(D).open())},{default:a(()=>e[11]||(e[11]=[x(" 提现记录 ")])),_:1})])]),t("div",ke,[e[14]||(e[14]=t("div",{class:"font-medium text-xl pt-[20px] pb-[15px]"},"累计收益（元）",-1)),t("div",he,[t("div",Fe,i((tt=(X=o(s))==null?void 0:X.user)==null?void 0:tt.total_user_money),1),l(c,{type:"warning",class:"!border-none",style:{"--el-button-bg-color":"#F5BE0A"},onClick:_t},{default:a(()=>e[13]||(e[13]=[x(" 收益明细 ")])),_:1})])])]),t("div",Pe,[t("div",Ce,[e[15]||(e[15]=t("div",{class:"font-medium text-xl"},"分销规则",-1)),t("div",Re,[((et=o(s))==null?void 0:et.config.level)>=1?(n(),r("div",Ae,[t("div",De," 一级分销（分佣"+i((st=(ot=o(s))==null?void 0:ot.config)==null?void 0:st.first_ratio)+"%） ",1),t("div",Be," 成为分销商，下级消费您获得 "+i((it=(lt=o(s))==null?void 0:lt.config)==null?void 0:it.first_ratio)+"%奖励 ",1)])):d("",!0),((nt=o(s))==null?void 0:nt.config.level)==2?(n(),r("div",Ve,[t("div",$e," 二级分销（分佣"+i((pt=(at=o(s))==null?void 0:at.config)==null?void 0:pt.second_ratio)+"%） ",1),t("div",je," 成为分销商，下2级消费您获得 "+i((dt=(rt=o(s))==null?void 0:rt.config)==null?void 0:dt.second_ratio)+"%奖励 ",1)])):d("",!0)])]),t("div",Te,[e[21]||(e[21]=t("div",{class:"font-medium text-xl"},"推广方式",-1)),t("div",Le,[t("div",{class:"flex flex-col mt-[23px] p-[25px] rounded-[10px] bg-cover relative",style:b({"background-image":`url(${o(Kt)})`})},[e[17]||(e[17]=t("div",{class:"text-xl text-[#333333]"},"邀请链接",-1)),t("div",ze,i((xt=(mt=o(s))==null?void 0:mt.config)==null?void 0:xt.pc_promotion_url),1),t("div",Ne,[l(c,{type:"primary",size:"small",class:"!border-none",style:{"--el-button-bg-color":"#4A92FF"},onClick:bt},{default:a(()=>e[16]||(e[16]=[x(" 复制 ")])),_:1})])],4),t("div",{class:"flex flex-col mt-[23px] p-[25px] rounded-[10px] bg-cover relative",style:b({"background-image":`url(${o(Qt)})`})},[e[19]||(e[19]=t("div",{class:"text-xl text-[#333333]"},"分享海报",-1)),e[20]||(e[20]=t("div",{class:"text-[#9E9E9E] mt-[12px]"}," 扫描二维码，一起加入吧！ ",-1)),t("div",Ue,[l(Wt,{class:"inline-block"},{trigger:a(()=>[l(c,{type:"primary",size:"small",class:"!border-none",style:{"--el-button-bg-color":"#4A92FF"}},{default:a(()=>e[18]||(e[18]=[x(" 分享 ")])),_:1})]),_:1})])],4)])])]),t("div",We,[e[22]||(e[22]=t("div",{class:"font-medium text-xl"}," 邀请列表 ",-1)),l(vt,{modelValue:o(k).level,"onUpdate:modelValue":e[1]||(e[1]=p=>o(k).level=p),class:"mt-2",onTabChange:o(_)},{default:a(()=>[l(P,{label:`全部(${o(m).extend.all})`,name:""},null,8,["label"]),l(P,{label:`直接用户(${o(m).extend.first})`,name:1},null,8,["label"]),l(P,{label:`间接用户(${o(m).extend.second})`,name:2},null,8,["label"])]),_:1},8,["modelValue","onTabChange"]),t("div",Ie,[qt((n(),v(Et,{size:"large",data:o(m).lists,style:b({"--el-table-header-bg-color":o(ut)?"#000":"#EFEFEF"})},{default:a(()=>[l(u,{label:"用户昵称"},{default:a(({row:p})=>[t("div",Se,[l(yt,{class:"w-[48px] h-[48px]",src:p.avatar},null,8,["src"]),t("div",Me,i(p.nickname),1)])]),_:1}),l(u,{label:"订单量",prop:"order_num"},{default:a(({row:p})=>[x(i(p.order_num?p.order_num:"0"),1)]),_:1}),l(u,{label:"累计消费",prop:"total_amount"}),l(u,{label:"邀请人数",prop:"invite_num"}),l(u,{label:"分销资格",prop:"is_distribution_desc"}),l(u,{label:"注册时间",prop:"create_time"})]),_:1},8,["data","style"])),[[ht,o(m).loading]]),t("div",Oe,[l(wt,{modelValue:o(m),"onUpdate:modelValue":e[2]||(e[2]=p=>Gt(m)?m.value=p:null),onChange:o(_)},null,8,["modelValue","onChange"])])])])])):(n(),r("div",oe,[t("div",se,[e[4]||(e[4]=t("div",{class:"font-medium text-xl"},"分销规则",-1)),t("div",le,[((z=o(s))==null?void 0:z.config.level)>=1?(n(),r("div",ie,[t("div",ne," 一级分销（分佣"+i((U=(N=o(s))==null?void 0:N.config)==null?void 0:U.first_ratio)+"%） ",1),t("div",ae," 成为分销商，下级消费您获得 "+i((I=(W=o(s))==null?void 0:W.config)==null?void 0:I.first_ratio)+"%奖励 ",1)])):d("",!0),((S=o(s))==null?void 0:S.config.level)==2?(n(),r("div",pe,[t("div",re," 二级分销（分佣"+i((O=(M=o(s))==null?void 0:M.config)==null?void 0:O.second_ratio)+"%） ",1),t("div",de," 成为分销商，下2级消费您获得 "+i((Y=(H=o(s))==null?void 0:H.config)==null?void 0:Y.second_ratio)+"%奖励 ",1)])):d("",!0)])]),t("div",me,[e[7]||(e[7]=t("div",{class:"font-medium text-xl"},"申请分销",-1)),t("div",{class:"flex justify-between items-center h-full mt-[23px] p-[25px] rounded-[10px] bg-cover",style:b({"background-image":`url(${o(Jt)})`})},[e[6]||(e[6]=t("div",{class:"text-black"},"您当前还不是分销商，请申请成为分销商",-1)),l(c,{type:"primary",onClick:ft},{default:a(()=>e[5]||(e[5]=[x("申请成为分销商")])),_:1})],4)])])),o(y)?(n(),v(It,{key:2,ref_key:"applyPopRef",ref:R,onClosePop:h},null,512)):d("",!0),o(w)?(n(),v(Ot,{key:3,ref_key:"withdrawApplyPopRef",ref:B,onClosePop:h},null,512)):d("",!0),o(E)?(n(),v(St,{key:4,ref_key:"incomeDetailPopRef",ref:A,onClosePop:h},null,512)):d("",!0),l(Mt,{ref_key:"withdrawRecordPopRef",ref:D},null,512)])):d("",!0)]}),_:1})])}}});export{qo as default};
