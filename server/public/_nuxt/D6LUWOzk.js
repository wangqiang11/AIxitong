import{_ as w}from"./BUR_EBmg.js";import{E}from"./B8A6LEAg.js";import{E as $}from"./BU5tkCsd.js";import{f as B}from"./C3C96yZa.js";/* empty css        */import{u as S}from"./BZbHcrLm.js";import{b as D,e as I}from"./DQUFgXGm.js";import{c as L}from"./CzMv2m6f.js";import{l as N,M as o,N as a,O as e,u as i,a3 as j,a0 as z,Z as p,_,aq as f,X as R,a5 as l}from"./D5LW44Rr.js";import{_ as V}from"./DlAUqK2U.js";const q={class:"h-full"},A={class:"h-full flex flex-col"},F={class:"flex justify-between items-center p-4"},H={class:"flex-1 min-h-0"},K={class:"px-4"},M={class:"text-lg font-medium line-clamp-1"},O=["onClick"],P={class:"whitespace-pre-line line-clamp-5 my-[10px] h-[105px]"},Q={class:"flex items-center"},T={class:"mr-auto text-tx-secondary text-sm"},U=["onClick"],X={key:1,class:"h-full flex flex-col items-center justify-center"},Y=N({__name:"history",props:{currentId:{}},emits:["view","history"],setup(Z,{expose:u,emit:h}){const c=h,{data:n,refresh:d}=S(()=>D({type:4,page_size:5,page_no:1}),{transform(t){return t.lists},default(){return[]}},"$TSK1YU9dQd"),v=(t,r)=>{c("view",{id:t,text:r})},x=async t=>{n.value.length&&(await B.confirm(`确定${t?"删除":"清空"}记录？`),await I({type:4,id:t}),d())};return u({refresh:d}),(t,r)=>{const y=w,g=E,k=$;return o(),a("div",q,[e("div",A,[e("div",F,[r[1]||(r[1]=e("div",{class:"font-bold"},"生成记录",-1)),e("div",{class:"text-sm cursor-pointer ml-[10px] text-primary",onClick:r[0]||(r[0]=s=>c("history"))}," 全部记录 ")]),e("div",H,[i(n).length?(o(),j(g,{key:0},{default:z(()=>[e("div",K,[e("div",null,[(o(!0),a(_,null,f(i(n),s=>(o(),a("div",{key:s.id,class:"mb-4"},[e("div",{class:R(["p-[15px] bg-page rounded-[12px] h-full record-item hover:bg-primary-light-9",{"!bg-primary-light-9":t.currentId==s.id}])},[e("div",M," 帮我生成："+l(s.ask),1),(o(!0),a(_,null,f(s.reply,(m,C)=>(o(),a("div",{class:"cursor-pointer",key:C,onClick:b=>v(s.id,m)},[e("div",P,l(m),1),e("div",Q,[e("div",T,l(s.create_time),1),e("div",{class:"cursor-pointer text-tx-secondary flex",onClick:b=>x(s.id)},[p(y,{name:"el-icon-Delete"})],8,U)])],8,O))),128))],2)]))),128))])])]),_:1})):(o(),a("div",X,[p(k,{image:i(L)},null,8,["image"])]))])])])}}}),ie=V(Y,[["__scopeId","data-v-f01564ba"]]);export{ie as default};
