import{_ as L}from"./BUR_EBmg.js";import{b as M,E as Q}from"./C3C96yZa.js";import{l as V,M as n,N as r,O as s,V as T,a2 as O,b as c,m as U,F as q,Z as y,_ as S,aq as D,u as a,a0 as w,a7 as G,r as P,X as W,a5 as B,aa as X,ab as Z,a3 as j,a6 as H,a4 as J}from"./D5LW44Rr.js";import{_ as g}from"./DlAUqK2U.js";import{u as K}from"./CfIJWwds.js";import{ImportTypeEnum as l}from"./BiHhwkbt.js";import R from"./B6PGyYQs.js";import Y from"./CHygP5hd.js";import tt from"./BShZ5ObK.js";import{_ as et}from"./hPkRC50o.js";import{g as ot}from"./Dl64kDm5.js";import"./DY83oLYV.js";import"./l_nRXyiX.js";import"./Bl82a0u_.js";import"./BanEqy-I.js";import"./B8A6LEAg.js";/* empty css        */import"./CEBe9A1W.js";import"./-zT6HmgG.js";import"./Cpg3PDWZ.js";import"./Bjzww7Zm.js";import"./DU1sy8XN.js";import"./DCTLXrZ8.js";import"./l0sNRNKZ.js";/* empty css        */import"./C4qLKnCc.js";import"./DCGOb6jj.js";import"./DP2rzg_V.js";/* empty css        */const st={class:"footer-btns"},at=V({__name:"index",props:{fixed:{type:Boolean,default:!0}},setup(m){return(d,v)=>(n(),r("div",st,[s("div",{class:"footer-btns__content",style:O(m.fixed?"position: fixed":"")},[T(d.$slots,"default",{},void 0,!0)],4)]))}}),nt=g(at,[["__scopeId","data-v-4b8d4336"]]),rt={class:"h-full flex flex-col relative"},it={class:"pb-[20px] flex items-center font-bold cursor-pointer"},ct={class:"flex"},pt=["onClick"],lt={class:"text-info text-[14px]"},mt={class:"flex-1"},dt={key:0},ut=V({__name:"importData",props:{id:{type:Number,default:0},type:{type:String,default:""}},emits:["success","back"],setup(m,{emit:d}){const v=M(),E=d,x=m,p=c(0),F=c([]),N=c([]),$=c([]),A=c([]),i=U(()=>P([{name:"文档导入",type:l.DOC,describe:"选择文本文件，直接将其按分段进行处理",component:Y,show:!0,data:F},{name:"问答对导入",type:l.CVS,describe:"批量导入问答对，效果最佳",component:R,show:!0,data:N},{name:"自动拆分问答对",type:l.QASplit,describe:"选择文本文件，让大模型自动生成问答对",component:tt,show:!0,data:$},{name:"网页解析",type:l.WEB_PAGE,describe:"输入网页链接，快速导入内容",component:et,show:!0,data:A}]).filter(({show:o})=>o)),b=e=>{p.value=e},I=()=>{b(i.value[0].type)},{lockFn:z}=K(async()=>{const e=i.value.find(({type:f})=>f===p.value);console.log(e==null?void 0:e.data);const{data:o,type:u}=e,_={kb_id:x.id,method:u,documents:o};await ot({..._}),k()}),k=()=>{E("back")};return q(()=>{I()}),(e,o)=>{const u=L,_=Q,f=nt;return n(),r("div",rt,[s("div",it,[s("div",{onClick:k,class:"flex items-center"},[y(u,{name:"el-icon-Back",size:"16"}),o[0]||(o[0]=s("span",{class:"ml-2"},"文件导入",-1))])]),s("div",ct,[(n(!0),r(S,null,D(a(i),(t,h)=>(n(),r("div",{key:h,class:W(["unselect w-[290px] p-[16px] text-center rounded-md cursor-pointer mr-4",{isselect:t.type==a(p)}]),onClick:C=>b(t.type)},[s("div",null,B(t.name),1),s("div",lt,B(t.describe),1)],10,pt))),128))]),s("div",mt,[(n(!0),r(S,null,D(a(i),(t,h)=>X((n(),j(H(t.component),{key:t.type,modelValue:t.data,"onUpdate:modelValue":C=>t.data=C,type:x.type},null,8,["modelValue","onUpdate:modelValue","type"])),[[Z,t.type==a(p)]])),128))]),a(i).length>0?(n(),r("div",dt,[y(f,{fixed:!a(v).isMobile},{default:w(()=>[y(_,{type:"primary",onClick:a(z)},{default:w(()=>o[1]||(o[1]=[J(" 保存 ")])),_:1},8,["onClick"])]),_:1},8,["fixed"])])):G("",!0)])}}}),Gt=g(ut,[["__scopeId","data-v-0ebde116"]]);export{Gt as default};
