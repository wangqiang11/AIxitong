import{h as D,p as I,f as v,e as N,o as U,E as L}from"./C3C96yZa.js";import{_ as $}from"./BUR_EBmg.js";import"./DP2rzg_V.js";/* empty css        */import{u as z}from"./CfIJWwds.js";import{w as M}from"./Dl64kDm5.js";import{l as O,b as H,M as s,N as u,O as m,Z as a,a0 as r,_ as k,aq as y,u as c,y as R,a4 as V,a5 as x,a3 as S}from"./D5LW44Rr.js";const T={class:"web-page"},Z={class:"py-4"},j={class:"flex-1"},A={class:"mb-2 text-tx-primary font-medium text-lg"},ae=O({__name:"web-page",props:{modelValue:{}},emits:["update:modelValue"],setup(E,{emit:w}){const o=D(E,"modelValue",w),t=H(""),g=async l=>{await v.confirm(`确定删除：${l.name}？`);const e=o.value.indexOf(l);e!==-1&&o.value.splice(e,1)},{lockFn:b,isLock:h}=z(async()=>{if(!t.value)return v.msgError("请输入网页链接");const l=await M({url:t.value.split(`
`).filter(Boolean)});o.value=[...l.map(e=>({data:[{a:"",q:e.content}],path:"",name:e.url})),...o.value],t.value=""});return(l,e)=>{const p=N,d=U,_=L,B=I,C=$;return s(),u("div",T,[m("div",Z,[a(B,null,{default:r(()=>[a(d,null,{default:r(()=>[m("div",j,[a(p,{modelValue:c(t),"onUpdate:modelValue":e[0]||(e[0]=n=>R(t)?t.value=n:null),placeholder:"请输入要解析的网页链接，添加多个请按回车键分隔",type:"textarea",resize:"none",rows:6},null,8,["modelValue"])])]),_:1}),a(d,null,{default:r(()=>[a(_,{type:"primary",loading:c(h),onClick:c(b)},{default:r(()=>e[1]||(e[1]=[V(" 解析 ")])),_:1},8,["loading","onClick"])]),_:1})]),_:1}),m("div",null,[(s(!0),u(k,null,y(c(o),(n,f)=>(s(),u("div",{key:f,class:"mb-4"},[m("div",A,[V(" #"+x(f+1)+" "+x(n.name)+" ",1),a(_,{link:"",type:"primary"},{default:r(()=>[a(C,{name:"el-icon-Delete",onClick:i=>g(n)},null,8,["onClick"])]),_:2},1024)]),(s(!0),u(k,null,y(n.data,(i,F)=>(s(),S(p,{key:F,modelValue:i.q,"onUpdate:modelValue":q=>i.q=q,placeholder:"文件内容，空内容会自动省略",type:"textarea",resize:"none",rows:15},null,8,["modelValue","onUpdate:modelValue"]))),128))]))),128))])])])}}});export{ae as _};
