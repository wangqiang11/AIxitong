import{_ as q}from"./h98bbEWb.js";import{h as B,o as D,e as I,E as O}from"./C3C96yZa.js";import{E as z,a as F}from"./D0z3eKdY.js";import{E as K,a as L}from"./tEjUnYVU.js";import{E as M}from"./DnGxh7JL.js";import{E as P}from"./C9K-Xzau.js";import"./DP2rzg_V.js";/* empty css        *//* empty css        *//* empty css        *//* empty css        *//* empty css        */import"./l0sNRNKZ.js";import{u as T}from"./BZX5PdZK.js";import{r as $}from"./Dl64kDm5.js";import{_ as j}from"./z_8IKkkb.js";import{t as G}from"./CGpS-fzQ.js";import{l as Z,j as A,b as H,M as r,N as x,Z as e,a0 as n,u as o,a3 as k,a7 as J,O as t,_ as Q,aq as W,a4 as i,n as X}from"./D5LW44Rr.js";const Y={class:"pt-[10px]"},c={class:"w-80"},h={class:"w-80"},ll={class:"flex"},el={class:"w-80"},ol={class:"ml-2 flex items-center"},tl={class:"flex-1 min-w-0"},sl={class:"flex"},al={class:"w-80"},nl={class:"flex w-[400px]"},Nl=Z({__name:"base-config",props:{modelValue:{}},emits:["update:modelValue"],setup(g,{emit:E}){const _=A(),f=H(!1),a=B(g,"modelValue",E),{optionsData:y,refresh:V}=T({knowledge:{api:$,params:{page_type:0},transformData(b){return b.lists||[]}},robotCategory:{api:G}}),U=async()=>{f.value=!0,await X(),_.value.open()};return(b,l)=>{const v=q,d=D,u=I,R=z,C=F,w=O,m=K,p=L,N=M,S=P;return r(),x("div",Y,[e(d,{label:"智能体图标",prop:"image"},{default:n(()=>[t("div",null,[t("div",null,[e(v,{modelValue:o(a).image,"onUpdate:modelValue":l[0]||(l[0]=s=>o(a).image=s)},null,8,["modelValue"])]),l[11]||(l[11]=t("div",{class:"form-tips"},"建议尺寸：240*240px",-1))])]),_:1}),e(d,{label:"智能体名称",prop:"name"},{default:n(()=>[t("div",c,[e(u,{modelValue:o(a).name,"onUpdate:modelValue":l[1]||(l[1]=s=>o(a).name=s),placeholder:"请输入智能体名称",clearable:""},null,8,["modelValue"])])]),_:1}),e(d,{label:"简介",prop:"intro"},{default:n(()=>[t("div",h,[e(u,{modelValue:o(a).intro,"onUpdate:modelValue":l[2]||(l[2]=s=>o(a).intro=s),placeholder:"请简单描述下给你的智能体",type:"textarea",autosize:{minRows:3,maxRows:6},maxlength:200,"show-word-limit":"",clearable:""},null,8,["modelValue"])])]),_:1}),e(d,{label:"关联知识库",prop:"kb_ids"},{default:n(()=>[t("div",null,[t("div",ll,[t("div",el,[e(C,{modelValue:o(a).kb_ids,"onUpdate:modelValue":l[3]||(l[3]=s=>o(a).kb_ids=s),placeholder:"请选择关联知识库",clearable:"",multiple:""},{default:n(()=>[(r(!0),x(Q,null,W(o(y).knowledge,s=>(r(),k(R,{key:s.id,label:`${s.name}`,value:String(s.id)},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),t("div",ol,[e(w,{type:"primary",link:"",onClick:U},{default:n(()=>l[12]||(l[12]=[i(" 新增知识库 ")])),_:1}),l[14]||(l[14]=t("span",{class:"px-1"},"|",-1)),e(w,{type:"primary",link:"",onClick:o(V)},{default:n(()=>l[13]||(l[13]=[i(" 刷新 ")])),_:1},8,["onClick"])])]),l[15]||(l[15]=t("div",{class:"form-tips"},"需选择同一种训练模型的知识库",-1))])]),_:1}),e(d,{label:"角色设定",prop:"roles_prompt"},{default:n(()=>[t("div",tl,[t("div",sl,[t("div",al,[e(u,{modelValue:o(a).roles_prompt,"onUpdate:modelValue":l[4]||(l[4]=s=>o(a).roles_prompt=s),placeholder:"请输入角色设定",type:"textarea",autosize:{minRows:4,maxRows:6},clearable:""},null,8,["modelValue"])])]),l[16]||(l[16]=t("div",{class:"form-tips"}," 引导应用的聊天方向，该内容会被固定在上下文的开头。 ",-1))])]),_:1}),e(d,{label:"对话图标"},{default:n(()=>[t("div",null,[e(v,{modelValue:o(a).icons,"onUpdate:modelValue":l[5]||(l[5]=s=>o(a).icons=s),"exclude-domain":!1,"can-close":!0},null,8,["modelValue"]),l[17]||(l[17]=t("div",{class:"form-tips"}," 不设置的话，对话图标默认拿智能体封面 ",-1))])]),_:1}),e(d,{label:"对话上下文",prop:"is_show_context"},{default:n(()=>[t("div",null,[e(p,{modelValue:o(a).is_show_context,"onUpdate:modelValue":l[6]||(l[6]=s=>o(a).is_show_context=s)},{default:n(()=>[e(m,{label:1},{default:n(()=>l[18]||(l[18]=[i(" 显示 ")])),_:1}),e(m,{label:0},{default:n(()=>l[19]||(l[19]=[i(" 关闭 ")])),_:1})]),_:1},8,["modelValue"]),l[20]||(l[20]=t("div",{class:"form-tips"},"在前台显示对话上下文，默认显示",-1))])]),_:1}),e(d,{label:"引用内容",prop:"is_show_quote"},{default:n(()=>[t("div",null,[e(p,{modelValue:o(a).is_show_quote,"onUpdate:modelValue":l[7]||(l[7]=s=>o(a).is_show_quote=s)},{default:n(()=>[e(m,{label:1},{default:n(()=>l[21]||(l[21]=[i(" 显示 ")])),_:1}),e(m,{label:0},{default:n(()=>l[22]||(l[22]=[i(" 关闭 ")])),_:1})]),_:1},8,["modelValue"]),l[23]||(l[23]=t("div",{class:"form-tips"},"在前台显示引用内容，默认显示",-1))])]),_:1}),e(d,{label:"反馈按钮",prop:"is_show_feedback"},{default:n(()=>[t("div",null,[e(p,{modelValue:o(a).is_show_feedback,"onUpdate:modelValue":l[8]||(l[8]=s=>o(a).is_show_feedback=s)},{default:n(()=>[e(m,{label:1},{default:n(()=>l[24]||(l[24]=[i(" 显示 ")])),_:1}),e(m,{label:0},{default:n(()=>l[25]||(l[25]=[i(" 关闭 ")])),_:1})]),_:1},8,["modelValue"]),l[26]||(l[26]=t("div",{class:"form-tips"},"在前台显示引用内容，默认显示",-1))])]),_:1}),e(d,{label:"问答相似问题推荐",prop:"related_issues_num",required:""},{default:n(()=>[t("div",null,[t("div",nl,[e(N,{modelValue:o(a).related_issues_num,"onUpdate:modelValue":l[9]||(l[9]=s=>o(a).related_issues_num=s),min:0,max:10},null,8,["modelValue"]),e(S,{modelValue:o(a).related_issues_num,"onUpdate:modelValue":l[10]||(l[10]=s=>o(a).related_issues_num=s),min:0,max:10,class:"ml-4 w-[180px]"},null,8,["modelValue"])]),l[27]||(l[27]=t("div",{class:"form-tips"},"作用于智能体对话问题推荐，填0对话问题推荐不生效",-1))])]),_:1}),o(f)?(r(),k(j,{key:0,ref_key:"addkbPopRef",ref:_,onSuccess:o(V)},null,8,["onSuccess"])):J("",!0)])}}});export{Nl as _};
