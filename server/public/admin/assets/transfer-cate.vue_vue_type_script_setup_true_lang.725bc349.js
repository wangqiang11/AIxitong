import{I as x,J as q,D as R,F as V}from"./element-plus.6d5d7657.js";import{P as T}from"./index.c487cb65.js";import{p as P,a as A,b as I,g as J}from"./ai_square.6d6cae03.js";import{d as N,s as m,_,o as i,c as y,T as l,K as u,u as n,S as K,a6 as L,J as M}from"./@vue.7946e41b.js";const O={class:"edit-popup"},H=N({__name:"transfer-cate",props:{type:{type:[Number,String],default:1}},emits:["success","close"],setup(g,{expose:C,emit:v}){const p=v,r=g,d=m(),c=m(),o=_({loading:!0,lists:[]}),a=_({category_id:"",ids:[]}),B={category_id:[{required:!0,message:"\u8BF7\u9009\u62E9\u5206\u7C7B",trigger:["blur"]}]},b=async()=>{var e,t;await((e=d.value)==null?void 0:e.validate()),r.type==1?await P(a):r.type==2?await A(a):r.type==3&&await I(a),(t=c.value)==null||t.close(),p("success")},w=async()=>{o.loading=!0;try{const e=await J({type:r.type});o.lists=e,o.loading=!1}catch(e){o.loading=!1,console.log("\u83B7\u53D6\u5206\u7C7B\u5931\u8D25=>",e)}},E=e=>{var t;w(),a.ids=e,(t=c.value)==null||t.open()},F=async e=>{for(const t in a)e[t]!=null&&e[t]!=null&&(a[t]=e[t])},S=()=>{p("close")};return C({open:E,setFormData:F}),(e,t)=>{const f=x,h=q,k=R,D=V;return i(),y("div",O,[l(T,{ref_key:"popupRef",ref:c,title:"\u6279\u91CF\u79FB\u52A8\u5206\u7C7B",async:!0,width:"550px",onConfirm:b,onClose:S},{default:u(()=>[l(D,{ref_key:"formRef",ref:d,model:n(a),"label-width":"84px",rules:B},{default:u(()=>[l(k,{label:"\u9009\u62E9\u5206\u7C7B",prop:"category_id"},{default:u(()=>[l(h,{class:"w-full",modelValue:n(a).category_id,"onUpdate:modelValue":t[0]||(t[0]=s=>n(a).category_id=s)},{default:u(()=>[l(f,{label:"\u5168\u90E8",value:""}),(i(!0),y(K,null,L(n(o).lists,s=>(i(),M(f,{key:s.id,label:s.name,value:s.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},512)])}}});export{H as _};
