import{X as q,H as J,C as K,D as S,I as G,J as H,w as M,F as O,G as Q,o as X,K as W,L as Y,M as Z}from"./element-plus.6d5d7657.js";import{_ as ee}from"./index.vue_vue_type_script_setup_true_lang.9b97e6c6.js";import{_ as te}from"./index.vue_vue_type_script_setup_true_lang.5e69f4eb.js";import{_ as ae}from"./index.vue_vue_type_script_setup_true_lang.5f8bf4ff.js";import{g as ue,f as oe}from"./index.fc6caf68.js";import{_ as se}from"./addPop.vue_vue_type_script_setup_true_lang.c4291fad.js";import{u as ie}from"./usePaging.9ff9bac2.js";import{f as D,e as le}from"./distribution.419c57d2.js";import{d as ne,_ as re,s as me,r as de,a3 as pe,ag as _e,o as d,c as ce,T as t,K as a,u,Q as l,L as F,J as f,a as i,R as r,j as fe,P as be,n as Fe}from"./@vue.7946e41b.js";import"./@element-plus.7d8ec931.js";import"./lodash-es.0dcbbec0.js";import"./dayjs.34e6308d.js";import"./@iktakahiro.37fa5b2b.js";import"./katex.dbdd07a7.js";import"./async-validator.fb49d0f5.js";import"./@ctrl.b082b0c1.js";import"./@popperjs.36402333.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./index.c487cb65.js";import"./vue-drag-resize.1871ee6b.js";import"./@vueuse.927bd09a.js";import"./lodash.4744e7a5.js";import"./axios.978f8ca9.js";import"./vue-router.c4b4a189.js";import"./pinia.83a6d4dd.js";import"./vue-demi.b3a9cad9.js";import"./css-color-function.f0ee4d0a.js";import"./color.12f7d1c1.js";import"./clone.65ca8e73.js";import"./color-convert.755d189f.js";import"./color-name.e7a4e1d3.js";import"./color-string.e356f5de.js";import"./balanced-match.d2a36341.js";import"./debug.6eeb6e12.js";import"./ms.a9ae1d6d.js";import"./nprogress.7152acad.js";import"./vue-clipboard3.fa3fc3ae.js";import"./clipboard.f56f94fd.js";import"./echarts.8535e5a6.js";import"./zrender.3eba8991.js";import"./tslib.60310f1a.js";import"./highlight.js.4f6161a5.js";import"./@highlightjs.932a13cd.js";import"./consumer.90d54fa3.js";const Be={class:"flex items-center"},Ee=i("span",{class:"mr-4"},"\u5934\u50CF: ",-1),ve={class:"mt-[20px]"},ke=i("span",{class:"mr-4"}," \u6635\u79F0: ",-1),he={class:"mt-[20px]"},ge=i("span",{class:"mr-4"},"\u7F16\u53F7: ",-1),ye={class:"flex items-center"},De={class:"flex-none"},Ce={class:"ml-[10px]"},xe={class:"flex justify-end mt-4"},kt=ne({__name:"lists",setup(Ve){const s=re({user_keyword:"",leader_keyword:"",distribution_status:"",start_time:"",end_time:""}),{pager:m,getLists:b,resetPage:C,resetParams:x}=ie({fetchFun:D,params:s});b();const V=async(p,o)=>{await oe.confirm(`\u786E\u5B9A${o==1?"\u51BB\u7ED3":"\u6062\u590D"}\u8BE5\u7528\u6237\u5206\u9500\u8D44\u683C\uFF1F`),await le({id:p}),b()},k=me(),B=de(!1),A=async()=>{var p;B.value=!0,await Fe(),(p=k.value)==null||p.open()},w=()=>{B.value=!1,b()};return(p,o)=>{const h=K,_=S,E=G,T=H,P=ae,c=M,z=te,U=O,g=Q,y=X,$=q,n=W,I=J,L=pe("router-link"),R=Y,N=ee,v=_e("perms"),j=Z;return d(),ce("div",null,[t(g,{shadow:"never",class:"!border-none"},{default:a(()=>[t(U,{ref:"formRef",class:"mb-[-16px]",model:u(s),inline:!0},{default:a(()=>[t(_,{label:"\u7528\u6237\u4FE1\u606F"},{default:a(()=>[t(h,{class:"w-[280px]",modelValue:u(s).user_keyword,"onUpdate:modelValue":o[0]||(o[0]=e=>u(s).user_keyword=e),placeholder:"\u8BF7\u8F93\u5165\u7528\u6237ID\u7F16\u53F7/\u7528\u6237\u6635\u79F0",clearable:""},null,8,["modelValue"])]),_:1}),t(_,{label:"\u9080\u8BF7\u4EBA"},{default:a(()=>[t(h,{class:"w-[280px]",modelValue:u(s).leader_keyword,"onUpdate:modelValue":o[1]||(o[1]=e=>u(s).leader_keyword=e),placeholder:"\u8BF7\u8F93\u5165\u9080\u8BF7\u4EBAID/\u6635\u79F0/\u624B\u673A\u53F7\u7801",clearable:""},null,8,["modelValue"])]),_:1}),t(_,{label:"\u5206\u9500\u72B6\u6001"},{default:a(()=>[t(T,{class:"w-[280px]",modelValue:u(s).distribution_status,"onUpdate:modelValue":o[2]||(o[2]=e=>u(s).distribution_status=e)},{default:a(()=>[t(E,{value:""},{default:a(()=>[l("\u5168\u90E8")]),_:1}),t(E,{value:1,label:"\u672A\u51BB\u7ED3"},{default:a(()=>[l("\u672A\u51BB\u7ED3")]),_:1}),t(E,{value:0,label:"\u5DF2\u51BB\u7ED3"},{default:a(()=>[l("\u5DF2\u51BB\u7ED3")]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(_,{label:"\u6210\u4E3A\u5206\u9500\u5546\u65F6\u95F4"},{default:a(()=>[t(P,{class:"w-[280px]",startTime:u(s).start_time,"onUpdate:startTime":o[3]||(o[3]=e=>u(s).start_time=e),endTime:u(s).end_time,"onUpdate:endTime":o[4]||(o[4]=e=>u(s).end_time=e)},null,8,["startTime","endTime"])]),_:1}),t(_,null,{default:a(()=>[t(c,{type:"primary",onClick:u(C)},{default:a(()=>[l("\u67E5\u8BE2")]),_:1},8,["onClick"]),t(c,{onClick:u(x)},{default:a(()=>[l("\u91CD\u7F6E")]),_:1},8,["onClick"]),t(z,{class:"ml-2.5","fetch-fun":u(D),params:u(s),"page-size":u(m).size},null,8,["fetch-fun","params","page-size"])]),_:1})]),_:1},8,["model"])]),_:1}),t(g,{shadow:"never",class:"!border-none mt-2"},{default:a(()=>[F((d(),f(c,{type:"primary",onClick:A},{default:a(()=>[l(" \u5F00\u901A\u5206\u9500\u5546 ")]),_:1})),[[v,["distribution.distributor/add"]]]),F((d(),f(R,{size:"large",data:u(m).lists,class:"mt-4"},{default:a(()=>[t(n,{label:"\u7528\u6237\u6635\u79F0",prop:"nickname","min-width":"190"},{default:a(({row:e})=>[t($,{placement:"top",width:"220px",trigger:"hover"},{reference:a(()=>[i("div",ye,[i("div",De,[t(y,{size:50,src:e==null?void 0:e.avatar},{default:a(()=>[l(r(e.nickname),1)]),_:2},1032,["src"])]),i("div",Ce,r(e.nickname),1)])]),default:a(()=>[i("div",Be,[Ee,t(y,{size:50,src:e==null?void 0:e.avatar},null,8,["src"])]),i("div",ve,[ke,i("span",null,r(e.nickname),1)]),i("div",he,[ge,i("span",null,r(e.user_sn),1)])]),_:2},1024)]),_:1}),t(n,{label:"\u53EF\u63D0\u73B0\u4F63\u91D1",prop:"user_money","min-width":"150"}),t(n,{label:"\u83B7\u5F97\u603B\u4F63\u91D1",prop:"total_user_money","min-width":"150"}),t(n,{label:"\u4E0B\u7EA7\u4EBA\u6570",prop:"below_num","min-width":"120"}),t(n,{label:"\u4E0A\u7EA7\u9080\u8BF7\u4EBA",prop:"leader_nickname","min-width":"150"},{default:a(({row:e})=>[l(r(e.leader_nickname||"\u7CFB\u7EDF"),1)]),_:1}),t(n,{label:"\u5206\u9500\u72B6\u6001",prop:"distribution_status_desc","min-width":"120"},{default:a(({row:e})=>[t(I,{type:e.distribution_status==1?"success":"warning"},{default:a(()=>[l(r(e.distribution_status_desc),1)]),_:2},1032,["type"])]),_:1}),t(n,{label:"\u6210\u4E3A\u5206\u9500\u5546\u65F6\u95F4",prop:"distribution_time","min-width":"180"}),t(n,{label:"\u64CD\u4F5C","min-width":"140",fixed:"right"},{default:a(({row:e})=>[F((d(),f(L,{to:{path:u(ue)("distribution.distributor/detail"),query:{id:e.id}}},{default:a(()=>[t(c,{link:"",type:"primary"},{default:a(()=>[l("\u8BE6\u60C5")]),_:1})]),_:2},1032,["to"])),[[v,["distribution.distributor/detail"]]]),F((d(),f(c,{link:"",type:"primary",onClick:Ae=>V(e.id,e.distribution_status)},{default:a(()=>[l(r(e.distribution_status==1?"\u51BB\u7ED3":"\u53D6\u6D88\u51BB\u7ED3"),1)]),_:2},1032,["onClick"])),[[v,["distribution.distributor/status"]]])]),_:1})]),_:1},8,["data"])),[[j,u(m).loading]]),i("div",xe,[t(N,{modelValue:u(m),"onUpdate:modelValue":o[5]||(o[5]=e=>fe(m)?m.value=e:null),onChange:u(b)},null,8,["modelValue","onChange"])])]),_:1}),u(B)?(d(),f(se,{key:0,ref_key:"addPopref",ref:k,onClose:w},null,512)):be("",!0)])}}});export{kt as default};
