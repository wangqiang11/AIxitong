import{Q as D,R as V,D as k,C as N,F as S}from"./element-plus.6d5d7657.js";import{d as q,s as _,_ as $,b as I,w as F,o as j,J as M,K as t,a as P,T as o,u as r,Y as Q,Q as s,R as b}from"./@vue.7946e41b.js";import{P as T}from"./index.c487cb65.js";import{f as C}from"./index.fc6caf68.js";const A={class:"pr-8"},Y=q({__name:"account-adjust",props:{show:{type:Boolean,required:!0},title:{type:String,default:"\u5BF9\u8BDD"},unit:{type:String,default:"\u6761"},value:{type:[Number,String],required:!0}},emits:["update:show","confirm"],setup(n,{emit:E}){const i=_(),d=n,f=E,u=$({action:1,num:"",remark:""}),m=_(),c=I(()=>Number(d.value)+Number(u.num)*(u.action==1?1:-1)),v={num:[{required:!0,message:"\u8BF7\u8F93\u5165\u8C03\u6574\u7684\u4F59\u989D"}]},w=e=>{if(e.includes("-"))return C.msgError("\u8BF7\u8F93\u5165\u6B63\u6574\u6570");u.num=e},y=async()=>{var e;await((e=i.value)==null?void 0:e.validate()),f("confirm",u)},h=()=>{var e;f("update:show",!1),(e=i.value)==null||e.resetFields()};return F(()=>d.show,e=>{var a,l;e?(a=m.value)==null||a.open():(l=m.value)==null||l.close()}),F(c,e=>{e<0&&(C.msgError("\u8C03\u6574\u540E\u6570\u91CF\u9700\u5927\u4E8E0"),u.num="")}),(e,a)=>{const l=k,p=D,B=V,R=N,g=S;return j(),M(T,{ref_key:"popupRef",ref:m,title:`\u8C03\u6574${n.title}`,width:"500px",onConfirm:y,async:!0,onClose:h},{default:t(()=>[P("div",A,[o(g,{ref_key:"formRef",ref:i,model:r(u),"label-width":"120px",rules:v,onSubmit:a[1]||(a[1]=Q(()=>{},["prevent"]))},{default:t(()=>[o(l,{label:`\u5F53\u524D${n.title}`},{default:t(()=>[s(b(n.value),1)]),_:1},8,["label"]),o(l,{label:`${n.title}\u589E\u51CF`,required:"",prop:"action"},{default:t(()=>[o(B,{modelValue:r(u).action,"onUpdate:modelValue":a[0]||(a[0]=x=>r(u).action=x)},{default:t(()=>[o(p,{label:1},{default:t(()=>[s("\u589E\u52A0")]),_:1}),o(p,{label:2},{default:t(()=>[s("\u6263\u51CF")]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),o(l,{label:"\u8C03\u6574\u6570\u91CF",prop:"num"},{default:t(()=>[o(R,{"model-value":r(u).num,placeholder:"\u8BF7\u8F93\u5165\u8C03\u6574\u7684\u6570\u91CF",type:"number",onInput:w},null,8,["model-value"])]),_:1}),o(l,{label:`\u8C03\u6574\u540E${n.title}`},{default:t(()=>[s(b(r(c).toFixed(2)),1)]),_:1},8,["label"])]),_:1},8,["model"])])]),_:1},8,["title"])}}});export{Y as _};
