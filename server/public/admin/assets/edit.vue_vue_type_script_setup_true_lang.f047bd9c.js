import{C as w,D as x,v as R,t as h,F as A}from"./element-plus.6d5d7657.js";import{P as k}from"./index.c487cb65.js";import{p as y,c as I}from"./robot_square.88ac39c9.js";import{a as N}from"./lodash-es.0dcbbec0.js";import{d as T,s as c,r as U,b as g,_ as q,o as P,c as S,T as t,K as l,u as a,a as f}from"./@vue.7946e41b.js";const K={class:"edit-popup"},j=f("div",{class:"form-tips"},"\u9ED8\u8BA4\u4E3A0\uFF0C\u6570\u503C\u8D8A\u5927\u8D8A\u6392\u524D\u9762",-1),W=T({__name:"edit",emits:["success","close"],setup(z,{expose:_,emit:F}){const d=F,m=c(),r=c(),i=U("add"),v=g(()=>i.value=="edit"?"\u7F16\u8F91\u667A\u80FD\u4F53\u5206\u7C7B":"\u65B0\u589E\u667A\u80FD\u4F53\u5206\u7C7B"),o=q({id:"",name:"",image:"",sort:0,is_enable:1}),C={name:[{required:!0,message:"\u8BF7\u8F93\u5165\u5206\u7C7B\u540D\u79F0"}]},b=async()=>{var u,e;await((u=m.value)==null?void 0:u.validate()),i.value=="edit"?await y(o):await I(o),(e=r.value)==null||e.close(),d("success")},B=()=>{d("close")};return _({open:(u="add")=>{var e;i.value=u,(e=r.value)==null||e.open(),setTimeout(()=>{var n;u=="add"&&((n=m.value)==null||n.resetFields())},100)},setFormData:async u=>{for(const e in o)u[e]!=null&&u[e]!=null&&(N(o[e],u[e])||(o[e]=u[e]))}}),(u,e)=>{const n=w,p=x,D=R,E=h,V=A;return P(),S("div",K,[t(k,{ref_key:"popupRef",ref:r,title:a(v),async:!0,width:"550px",onConfirm:b,onClose:B},{default:l(()=>[t(V,{class:"ls-form",ref_key:"formRef",ref:m,rules:C,model:a(o),"label-width":"100px"},{default:l(()=>[t(p,{label:"\u5206\u7C7B\u540D\u79F0",prop:"name"},{default:l(()=>[t(n,{class:"ls-input",modelValue:a(o).name,"onUpdate:modelValue":e[0]||(e[0]=s=>a(o).name=s),placeholder:"\u8BF7\u8F93\u5165\u5206\u7C7B\u540D\u79F0",clearable:""},null,8,["modelValue"])]),_:1}),t(p,{label:"\u6392\u5E8F",prop:"sort"},{default:l(()=>[f("div",null,[t(D,{modelValue:a(o).sort,"onUpdate:modelValue":e[1]||(e[1]=s=>a(o).sort=s),min:0,max:9999},null,8,["modelValue"]),j])]),_:1}),t(p,{label:"\u72B6\u6001",prop:"sort"},{default:l(()=>[t(E,{modelValue:a(o).is_enable,"onUpdate:modelValue":e[2]||(e[2]=s=>a(o).is_enable=s),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])])}}});export{W as _};
