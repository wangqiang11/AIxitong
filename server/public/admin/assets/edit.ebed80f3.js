import{_ as N}from"./index.c3587517.js";import{_ as Q,a1 as T,G as $,D as J,C as G,I as H,J as K,w as O,c as P,a as j,t as W,F as X}from"./element-plus.6d5d7657.js";import{_ as Y}from"./picker.c6906711.js";import{u as Z,a as uu}from"./vue-router.c4b4a189.js";import"./index.c487cb65.js";import{s as eu}from"./type.bd975770.js";import{e as tu,a as ou,s as lu}from"./manage.62d17bfe.js";import{d as su,s as C,b as au,_ as ru,r as A,a3 as nu,o as c,c as g,T as u,K as s,u as l,a,S as mu,a6 as iu,J as pu,Q as _}from"./@vue.7946e41b.js";import"./vue-drag-resize.1871ee6b.js";import"./@element-plus.7d8ec931.js";import"./lodash-es.0dcbbec0.js";import"./dayjs.34e6308d.js";import"./@iktakahiro.37fa5b2b.js";import"./katex.dbdd07a7.js";import"./async-validator.fb49d0f5.js";import"./@ctrl.b082b0c1.js";import"./@popperjs.36402333.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./index.ec37127a.js";import"./index.vue_vue_type_script_setup_true_lang.9b97e6c6.js";import"./index.410c53ff.js";import"./index.fc6caf68.js";import"./@vueuse.927bd09a.js";import"./lodash.4744e7a5.js";import"./axios.978f8ca9.js";import"./pinia.83a6d4dd.js";import"./vue-demi.b3a9cad9.js";import"./css-color-function.f0ee4d0a.js";import"./color.12f7d1c1.js";import"./clone.65ca8e73.js";import"./color-convert.755d189f.js";import"./color-name.e7a4e1d3.js";import"./color-string.e356f5de.js";import"./balanced-match.d2a36341.js";import"./debug.6eeb6e12.js";import"./ms.a9ae1d6d.js";import"./nprogress.7152acad.js";import"./vue-clipboard3.fa3fc3ae.js";import"./clipboard.f56f94fd.js";import"./echarts.8535e5a6.js";import"./zrender.3eba8991.js";import"./tslib.60310f1a.js";import"./highlight.js.4f6161a5.js";import"./@highlightjs.932a13cd.js";import"./index.vue_vue_type_script_setup_true_lang.266c4e6e.js";import"./index.vue_vue_type_script_setup_true_lang.9933e104.js";import"./usePaging.9ff9bac2.js";import"./preview.vue_vue_type_script_setup_true_lang.6702fed0.js";import"./file.vue_vue_type_style_index_0_scoped_ba7daef9_lang.b66d1428.js";import"./vue3-video-play.e85b6285.js";import"./vuedraggable.0170ba82.js";import"./vue.c48aa7bc.js";import"./sortablejs.65032496.js";const du={class:"w-[380px]"},Fu={class:"w-[380px]"},Eu={class:"w-[380px]"},cu={class:"w-[380px]"},_u={class:"w-[380px]"},xu={class:"form-tips !text-base"},Bu={class:"w-[380px]"},Du={class:"flex flex-wrap"},fu={class:"w-[190px] mr-[20px] mb-[20px]"},Cu={class:"flex items-center text-tx-regular text-xs"},Au=a("span",{class:"mr-[4px] mt-[2px]"},"\u4E0A\u4E0B\u6587\u603B\u6570",-1),gu={class:"w-[190px] mr-[20px] mb-[20px]"},Vu={class:"flex items-center text-tx-regular text-xs"},bu=a("span",{class:"mr-[4px] mt-[2px]"},"\u56DE\u590D\u6761\u6570",-1),vu={class:"w-[190px] mr-[20px] mb-[20px]"},yu={class:"flex items-center text-tx-regular text-xs"},wu=a("span",{class:"mr-[4px] mt-[2px]"},"\u8BCD\u6C47\u5C5E\u6027",-1),ku={class:"w-[190px] mr-[20px] mb-[20px]"},Uu={class:"flex items-center text-tx-regular text-xs"},hu=a("span",{class:"mr-[4px] mt-[2px]"},"\u968F\u673A\u5C5E\u6027",-1),qu={class:"w-[190px] mr-[20px] mb-[20px]"},Su={class:"flex items-center text-tx-regular text-xs"},zu=a("span",{class:"mr-[4px] mt-[2px]"},"\u8BDD\u9898\u5C5E\u6027",-1),Iu={class:"w-[380px]"},Me=su({__name:"edit",emits:["success","close"],setup(Ru,{emit:Lu}){const x=C();C();const{query:E}=Z(),V=uu(),b=au(()=>E.mode=="edit"?"\u7F16\u8F91\u89D2\u8272\u7BA1\u7406":"\u65B0\u589E\u89D2\u8272\u7BA1\u7406"),t=ru({id:"",name:"",category_id:"",content:"",sort:0,status:1,image:"",tips:"",system:"",describe:"",model:"gpt-3.5-turbo",n:0,temperature:.7,context_num:2,top_p:.9,presence_penalty:.5,frequency_penalty:.5}),B=A([]);A([]);const v={name:[{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0",trigger:["blur"]}],image:[{required:!0,message:"\u8BF7\u9009\u62E9\u56FE\u7247",trigger:["blur"]}],category_id:[{required:!0,message:"\u8BF7\u9009\u62E9\u7C7B\u522B",trigger:["blur"]}],content:[{required:!0,message:"\u8BF7\u8F93\u5165\u8C03\u6559\u6587\u6848",trigger:["blur"]}],tips:[{required:!0,message:"\u8BF7\u8F93\u5165\u63D0\u793A\u5185\u5BB9",trigger:["blur"]}],model:[{required:!0,message:"\u8BF7\u9009\u62E9\u6A21\u578B",trigger:["blur"]}],context_num:[{required:!0,message:"\u8BF7\u9009\u62E9\u6A21\u578B\u53C2\u6570",trigger:["blur"]}]},y=async()=>{var r;await((r=x.value)==null?void 0:r.validate()),E.mode=="edit"?await tu(t):await ou(t),V.back()},w=async()=>{try{const r=await lu({id:E.id});U(r)}catch(r){console.log(r)}},k=async()=>{const{lists:r}=await eu();B.value=r},U=async r=>{for(const e in t)r[e]!=null&&r[e]!=null&&(t[e]=r[e])};return E.id&&w(),k(),(r,e)=>{const h=Q,D=$,q=Y,n=J,m=G,S=H,z=K,f=O,i=nu("QuestionFilled"),p=P,d=j,F=T,I=W,R=X,L=N;return c(),g("div",null,[u(D,{class:"!border-none",shadow:"never"},{default:s(()=>[u(h,{content:l(b),onBack:e[0]||(e[0]=o=>r.$router.back())},null,8,["content"])]),_:1}),u(D,{class:"!border-none mt-4",shadow:"never"},{default:s(()=>[u(R,{ref_key:"formRef",ref:x,model:l(t),"label-width":"84px",rules:v},{default:s(()=>[u(n,{label:"\u56FE\u6807",prop:"image"},{default:s(()=>[u(q,{modelValue:l(t).image,"onUpdate:modelValue":e[1]||(e[1]=o=>l(t).image=o),limit:1},null,8,["modelValue"])]),_:1}),u(n,{label:"\u89D2\u8272\u540D\u79F0",prop:"name"},{default:s(()=>[a("div",du,[u(m,{placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0",modelValue:l(t).name,"onUpdate:modelValue":e[2]||(e[2]=o=>l(t).name=o)},null,8,["modelValue"])])]),_:1}),u(n,{label:"\u89D2\u8272\u63CF\u8FF0",prop:"describe"},{default:s(()=>[a("div",Fu,[u(m,{modelValue:l(t).describe,"onUpdate:modelValue":e[3]||(e[3]=o=>l(t).describe=o),placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u63CF\u8FF0",rows:3,type:"textarea"},null,8,["modelValue"])])]),_:1}),u(n,{label:"\u6240\u5C5E\u7C7B\u522B",prop:"category_id"},{default:s(()=>[a("div",Eu,[u(z,{placeholder:"\u8BF7\u9009\u62E9",class:"w-full",modelValue:l(t).category_id,"onUpdate:modelValue":e[4]||(e[4]=o=>l(t).category_id=o)},{default:s(()=>[(c(!0),g(mu,null,iu(l(B),(o,M)=>(c(),pu(S,{key:M,label:o.name,value:o.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),_:1}),u(n,{label:"\u8C03\u6559\u6587\u6848",prop:"content"},{default:s(()=>[a("div",cu,[u(m,{modelValue:l(t).content,"onUpdate:modelValue":e[5]||(e[5]=o=>l(t).content=o),placeholder:"\u8BF7\u8F93\u5165\u8C03\u6559\u6587\u6848",rows:3,type:"textarea"},null,8,["modelValue"])])]),_:1}),u(n,{label:"\u6B22\u8FCE\u8BED",prop:"tips"},{default:s(()=>[a("div",_u,[u(m,{placeholder:"\u6253\u5F00\u804A\u5929\u7A97\u53E3\u540E\u4F1A\u4E3B\u52A8\u53D1\u9001\uFF0C\u524D\u540E\u6DFB\u52A0\u4E95\u53F7\u53EF\u6DFB\u52A0\u95EE\u9898\u793A\u4F8B",rows:6,type:"textarea",modelValue:l(t).tips,"onUpdate:modelValue":e[6]||(e[6]=o=>l(t).tips=o)},null,8,["modelValue"]),a("div",xu,[_(" \u6253\u5F00\u804A\u5929\u7A97\u53E3\u540E\u4F1A\u4E3B\u52A8\u53D1\u9001\uFF0C\u524D\u540E\u6DFB\u52A0\u4E95\u53F7\u53EF\u6DFB\u52A0\u63D0\u95EE\u793A\u4F8B\uFF0C\u4F8B\u5982\uFF1A#\u5E2E\u6211\u5199\u4E00\u5219\u5173\u4E8Exxx\u7684\u6587\u6848# \u591A\u4E2A\u95EE\u9898\u8BF7\u7528\u56DE\u8F66\u6362\u884C "),u(f,{type:"primary",link:"",onClick:e[7]||(e[7]=o=>l(t).tips=`\u4F60\u597D\uFF0C\u6211\u662F\u4F60\u7684AI\u597D\u53CB\u5199\u4F5C\u52A9\u624B\uFF0C\u6211\u53EF\u4EE5\u4E3A\u4F60\u63D0\u4F9B\u5199\u4F5C\u65B9\u9762\u7684\u5E2E\u52A9\u3002\u53EA\u9700\u8981\u5C06\u60A8\u7684\u6587\u7AE0\u63D0\u4EA4\u7ED9\u6211\uFF0C\u6211\u5C31\u53EF\u4EE5\u4FEE\u6539\u548C\u4F18\u5316\u3002

\u4F60\u53EF\u4EE5\u8BD5\u8BD5\u8FD9\u6837\u63D0\u95EE\uFF1A
#\u6211\u60F3\u8BA9\u6587\u7AE0\u7684\u8BED\u6CD5\u66F4\u52A0\u51C6\u786E\u3002#
#\u6211\u60F3\u8BA9\u6587\u7AE0\u66F4\u52A0\u6D41\u7545\u6613\u8BFB\u3002#
#\u8BF7\u7ED9\u6211\u4E00\u4E9B\u5173\u4E8E\u5982\u4F55\u63D0\u9AD8\u6587\u672C\u8FDE\u8D2F\u6027\u548C\u53EF\u8BFB\u6027\u7684\u5EFA\u8BAE\u3002#
                            `)},{default:s(()=>[_(" \u4F7F\u7528\u7CFB\u7EDF\u793A\u4F8B ")]),_:1})])])]),_:1}),u(n,{label:"\u5168\u5C40\u6307\u4EE4",prop:"system"},{default:s(()=>[a("div",Bu,[u(m,{placeholder:"\u5982\u679C\u586B\u5199\u4E86\u8BE5\u5168\u5C40\u6307\u4EE4\u5219\u4F1A\u66FF\u6362\u5BF9\u8BDD\u8BBE\u7F6E\u7684\u5168\u5C40\u6307\u4EE4",rows:3,type:"textarea",modelValue:l(t).system,"onUpdate:modelValue":e[8]||(e[8]=o=>l(t).system=o)},null,8,["modelValue"])])]),_:1}),u(n,{label:"\u6A21\u578B\u53C2\u6570",prop:"context_num"},{default:s(()=>[a("div",Du,[a("div",fu,[a("div",Cu,[Au,u(d,{class:"box-item",effect:"dark",content:"\u751F\u6210\u6587\u672C\u7684\u6700\u5927\u957F\u5EA6\uFF0C\u53D6\u503C\u8303\u56F4\u4E3A1~5\u4E4B\u95F4\u7684\u6574\u6570",placement:"top"},{default:s(()=>[u(p,{size:"16px"},{default:s(()=>[u(i)]),_:1})]),_:1})]),u(F,{modelValue:l(t).context_num,"onUpdate:modelValue":e[9]||(e[9]=o=>l(t).context_num=o),min:1,max:5},null,8,["modelValue"])]),a("div",gu,[a("div",Vu,[bu,u(d,{class:"box-item",effect:"dark",content:"\u4E3A\u6BCF\u4E2A\u8F93\u5165\u6D88\u606F\u751F\u6210\u591A\u4E2A\u56DE\u590D\uFF0C\u53D6\u503C\u8303\u56F4\u4E3A1~5\u4E4B\u95F4\u7684\u6574\u6570\u3002",placement:"top"},{default:s(()=>[u(p,{size:"16px"},{default:s(()=>[u(i)]),_:1})]),_:1})]),u(F,{modelValue:l(t).n,"onUpdate:modelValue":e[10]||(e[10]=o=>l(t).n=o),min:1,max:5},null,8,["modelValue"])]),a("div",vu,[a("div",yu,[wu,u(d,{class:"box-item",effect:"dark",content:"\u7528\u4E8E\u63A7\u5236\u751F\u6210\u6587\u672C\u7684\u968F\u673A\u6027\uFF0C\u53D6\u503C\u8303\u56F4\u4E3A0~1\u4E4B\u95F4\u7684\u6D6E\u70B9\u6570\uFF0C\u5EFA\u8BAE\u53D6\u503C0.7\u5DE6\u53F3\u3002",placement:"top"},{default:s(()=>[u(p,{size:"16px"},{default:s(()=>[u(i)]),_:1})]),_:1})]),u(F,{modelValue:l(t).temperature,"onUpdate:modelValue":e[11]||(e[11]=o=>l(t).temperature=o),min:0,max:1,step:.1},null,8,["modelValue"])]),a("div",ku,[a("div",Uu,[hu,u(d,{class:"box-item",effect:"dark",content:"\u7528\u4E8E\u63A7\u5236\u751F\u6210\u6587\u672C\u7684\u591A\u6837\u6027\uFF0C\u53D6\u503C\u8303\u56F4\u4E3A0~1\u4E4B\u95F4\u7684\u6D6E\u70B9\u6570\uFF0C\u5EFA\u8BAE\u53D6\u503C0.9\u5DE6\u53F3\u3002",placement:"top"},{default:s(()=>[u(p,{size:"16px"},{default:s(()=>[u(i)]),_:1})]),_:1})]),u(F,{modelValue:l(t).top_p,"onUpdate:modelValue":e[12]||(e[12]=o=>l(t).top_p=o),min:0,max:1,step:.1},null,8,["modelValue"])]),a("div",qu,[a("div",Su,[zu,u(d,{class:"box-item",effect:"dark",content:"\u7528\u4E8E\u63A7\u5236\u751F\u6210\u6587\u672C\u4E2D\u662F\u5426\u51FA\u73B0\u7ED9\u5B9A\u7684\u5173\u952E\u8BCD\uFF0C\u53D6\u503C\u8303\u56F4\u4E3A0~1\u4E4B\u95F4\u7684\u6D6E\u70B9\u6570\uFF0C\u5EFA\u8BAE\u53D6\u503C0.5\u5DE6\u53F3\u3002",placement:"top"},{default:s(()=>[u(p,{size:"16px"},{default:s(()=>[u(i)]),_:1})]),_:1})]),u(F,{modelValue:l(t).presence_penalty,"onUpdate:modelValue":e[13]||(e[13]=o=>l(t).presence_penalty=o),step:.1,min:0,max:1},null,8,["modelValue"])])])]),_:1}),u(n,{label:"\u6392\u5E8F"},{default:s(()=>[a("div",Iu,[u(m,{modelValue:l(t).sort,"onUpdate:modelValue":e[14]||(e[14]=o=>l(t).sort=o),placeholder:""},null,8,["modelValue"])])]),_:1}),u(n,{label:"\u72B6\u6001"},{default:s(()=>[u(I,{modelValue:l(t).status,"onUpdate:modelValue":e[15]||(e[15]=o=>l(t).status=o),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1}),u(L,null,{default:s(()=>[u(f,{type:"primary",onClick:y},{default:s(()=>[_("\u4FDD\u5B58")]),_:1})]),_:1})])}}});export{Me as default};
