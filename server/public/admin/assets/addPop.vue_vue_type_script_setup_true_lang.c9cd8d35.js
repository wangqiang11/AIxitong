import{P as U}from"./index.c487cb65.js";import{Q as G,R as I,D as N,I as S,J as q,C as J,t as O,F as Q}from"./element-plus.6d5d7657.js";import{_ as T}from"./picker.c6906711.js";import{b as $,f as j,h as K}from"./bg.7b9dd790.js";import{d as M,s as C,r as d,o as m,J as v,K as a,T as o,u,a as r,Q as y,c as h,S as z,a6 as H}from"./@vue.7946e41b.js";const W=r("div",{class:"form-tips"},"\u80CC\u666F\u56FE\u8981\u6C42\uFF1A\u6A2A\u7248\uFF1A1920*1080\uFF0C\u7AD6\u7248\uFF1A1080*1920",-1),X=r("div",{class:"form-tips"},"\u9ED8\u8BA4\u4E3A0\uFF0C\u6570\u503C\u8D8A\u5927\u8D8A\u6392\u524D\u9762",-1),ae=M({__name:"addPop",emits:["success","close"],setup(Y,{expose:E,emit:g}){const V=g,p=C(),c=C(),i=d(!1),t=d({id:"",status:1,sort:"0",url:[],category_id:0,type:1}),A={type:[{required:!0}],url:[{required:!0,message:"\u80CC\u666F\u56FE\u4E0D\u80FD\u4E3A\u7A7A\uFF01",trigger:["change","blur"]}]},_=d(),b=async()=>{_.value=await K()},B=async()=>{var s;try{i.value=!0,await((s=p.value)==null?void 0:s.validate());const e={...t.value};t.value.id?await $(e):await j(e),V("success")}catch{i.value=!1}};return E({open:async s=>{c.value.open(),s&&(Object.keys(t.value).map(e=>{t.value[e]=s[e]}),t.value.id=s.id),await b()}}),(s,e)=>{const w=T,n=N,f=G,D=I,F=S,k=q,R=J,x=O,L=Q,P=U;return m(),v(P,{ref_key:"popRef",ref:c,title:u(t).id?"\u7F16\u8F91\u80CC\u666F":"\u65B0\u589E\u80CC\u666F",width:"600px",async:"",onConfirm:B,onClose:e[5]||(e[5]=l=>s.$emit("close")),"confirm-loading":u(i)},{default:a(()=>[o(L,{"label-width":"90px",ref_key:"formRef",ref:p,model:u(t),rules:A},{default:a(()=>[o(n,{label:"\u80CC\u666F\u56FE",prop:"url"},{default:a(()=>[r("div",null,[o(w,{limit:u(t).id?1:10,modelValue:u(t).url,"onUpdate:modelValue":e[0]||(e[0]=l=>u(t).url=l),data:{use_type:2}},null,8,["limit","modelValue"]),W])]),_:1}),o(n,{label:"\u9009\u62E9\u7248\u578B",prop:"type"},{default:a(()=>[o(D,{modelValue:u(t).type,"onUpdate:modelValue":e[1]||(e[1]=l=>u(t).type=l)},{default:a(()=>[o(f,{label:1},{default:a(()=>[y("\u7AD6\u7248")]),_:1}),o(f,{label:2},{default:a(()=>[y("\u6A2A\u7248")]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(n,{label:"\u6240\u5C5E\u5206\u7C7B"},{default:a(()=>[o(k,{modelValue:u(t).category_id,"onUpdate:modelValue":e[2]||(e[2]=l=>u(t).category_id=l)},{default:a(()=>[o(F,{label:"\u65E0\u5206\u7C7B",value:0}),(m(!0),h(z,null,H(u(_),l=>(m(),v(F,{label:l.name,key:l.id,value:l.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(n,{label:"\u6392\u5E8F"},{default:a(()=>[r("div",null,[o(R,{modelValue:u(t).sort,"onUpdate:modelValue":e[3]||(e[3]=l=>u(t).sort=l),class:"w-[320px]"},null,8,["modelValue"]),X])]),_:1}),o(n,{label:"\u72B6\u6001"},{default:a(()=>[o(x,{"active-value":1,"inactive-value":0,modelValue:u(t).status,"onUpdate:modelValue":e[4]||(e[4]=l=>u(t).status=l)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title","confirm-loading"])}}});export{ae as _};
