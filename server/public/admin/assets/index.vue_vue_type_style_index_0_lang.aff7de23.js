import{M as w}from"./markdown-it.0d5ee94e.js";import{H as v}from"./highlight.js.4f6161a5.js";/* empty css                            */import{m as B}from"./@iktakahiro.37fa5b2b.js";import{u as C}from"./vue-clipboard3.fa3fc3ae.js";import{d as E,r as $,s as T,_ as M,l as R,w as L,o as x,c as _,a as S,u as N,Z as j,P,n as H}from"./@vue.7946e41b.js";const O={name:"bash",ext:"sh",aliases:["bash","sh","shell","zsh"]},D={name:"csharp",ext:"cs",aliases:["cs","csharp"]},V={name:"docker",ext:"docker",aliases:["docker","dockerfile"]},z={name:"fsharp",ext:"fs",aliases:["fs","fsharp"]},A={name:"javascript",ext:"js",aliases:["javascript","js"]},J={name:"kotlin",ext:"kt",aliases:["kotlin","kt"]},I={name:"markdown",ext:"md",aliases:["markdown","md"]},K={name:"python",ext:"py",aliases:["py","python"]},F={name:"ruby",ext:"rb",aliases:["rb","ruby"]},W={name:"rust",ext:"rs",aliases:["rs","rust"]},X={name:"stylus",ext:"styl",aliases:["styl","stylus"]},Y={name:"typescript",ext:"ts",aliases:["ts","typescript"]},Z={name:"yaml",ext:"yml",aliases:["yaml","yml"]},q=Object.freeze(Object.defineProperty({__proto__:null,languageBash:O,languageCsharp:D,languageDocker:V,languageFsharp:z,languageJavascript:A,languageKotlin:J,languageMarkdown:I,languagePython:K,languageRuby:F,languageRust:W,languageStylus:X,languageTypescript:Y,languageYaml:Z},Symbol.toStringTag,{value:"Module"}));let b;const G=()=>(b||(b=Object.values(q).reduce((o,a)=>(a.aliases.forEach(l=>{o[l]=a}),o),{})),b),Q=o=>{var l,i;const a=((l=o.match(/^([^ :[{]+)/))==null?void 0:l[1])||"";return(i=G()[a])!=null?i:{name:a,ext:a,aliases:[a]}},U=o=>/:line-numbers\b/.test(o)?!0:/:no-line-numbers\b/.test(o)?!1:null,ee=(o,{lineNumbers:a=!0}={})=>{o.renderer.rules.fence=(l,i,d,m,g)=>{var s,u;const c=l[i],f=c.info?o.utils.unescapeAll(c.info).trim():"",p=Q(f),y=`${d.langPrefix}${p.name}`,t=((s=d.highlight)==null?void 0:s.call(d,c.content,p.name,""))||o.utils.escapeHtml(c.content);c.attrJoin("class",y);let e=t.startsWith("<pre")?t:`<pre${g.renderAttrs(c)}><code>${t}</code></pre>`;e=`<div  data-ext="${p.ext}" v-pre class="code-copy-line">
      <div class="code-copy-btn">\u590D\u5236\u4EE3\u7801</div>
    </div>${e}`;const n=t.split(`
`).slice(0,-1),r=(u=U(f))!=null?u:typeof a=="number"?n.length>=a:a;return r&&(e=`<div class="line-numbers" aria-hidden="true">${n.map(()=>'<div class="line-number"></div>').join("")}</div>${e}`),e=`<div><div class="${y}${r?" line-numbers-mode":""}"><div class="pre-code-scroll">${e}</div></div></div>`,e}},te={class:"markdown-it-container"},ae=["innerHTML"],ce=E({__name:"index",props:{content:{default:""},html:{type:Boolean,default:!0},breaks:{type:Boolean,default:!0},linkify:{type:Boolean,default:!1},typographer:{type:Boolean,default:!0},lineNumbers:{type:Boolean,default:!0},typing:{type:Boolean,default:!1}},setup(o){const a=o,l=$(""),i=T(),d=t=>{const e=new w({...t,langPrefix:"language-",highlight(n,r){try{return r&&v.getLanguage(r)?v.highlight(r,n,!0).value:v.highlightAuto(n).value}catch{return n}}});return e.use(ee,{lineNumbers:t.lineNumbers}),e.use(B,{output:"mathml"}),e};let m;const g=t=>{var n;const e=t.childNodes;for(let r=e.length-1;r>=0;r--){const s=e[r];if(s.nodeType===Node.TEXT_NODE&&/\S/.test(s.nodeValue))return(n=s.nodeValue)==null||n.replace(/\S+$/,""),s;if(s.nodeType===Node.ELEMENT_NODE){const u=g(s);if(u)return u}}},c=M({top:"auto",left:"auto"}),f=()=>{var t,e,n;if(i.value){const r=g(i.value),s=document.createTextNode("\u200B");r?(t=r.parentElement)==null||t.appendChild(s):(e=i.value)==null||e.appendChild(s);const u=document.createRange();u.setStart(s,0),u.setEnd(s,0);const h=u.getBoundingClientRect(),k=(n=i.value)==null?void 0:n.getBoundingClientRect();c.left=`${h.left-k.left}px`,c.top=`${h.top-k.top}px`,s.remove()}};R(()=>{m=d({html:a.html,breaks:a.breaks,typographer:a.typographer,linkify:a.linkify,lineNumbers:a.lineNumbers}),l.value=m.render(a.content)}),L(()=>a.content,async t=>{l.value=m==null?void 0:m.render(t),await H(),f()},{immediate:!0});const{toClipboard:p}=C(),y=async t=>{if(t.target.className==="code-copy-btn"){console.log(t);const n=t.target.parentElement.nextElementSibling.textContent;await p(n)}};return(t,e)=>(x(),_("div",te,[S("div",{ref_key:"markdownBodyRef",ref:i,class:"markdown-body",onClick:e[0]||(e[0]=n=>y(n)),innerHTML:N(l)},null,8,ae),t.typing?(x(),_("div",{key:0,class:"markdown-typing",style:j(N(c))},null,4)):P("",!0)]))}});export{ce as _};
