import{C as h,D as C,t as x,F as D}from"./element-plus.6d5d7657.js";import{P as y}from"./index.c487cb65.js";import{e as b,a as R,g as k}from"./draw_example.4ab43482.js";import{d as P,s as f,r as U,_,o as q,c as I,T as l,K as r,u as o,a as i}from"./@vue.7946e41b.js";const N={class:"edit-popup"},S={class:"w-full"},T={class:"w-full"},z=i("div",{class:"form-tips"},"\u9ED8\u8BA4\u4E3A0\uFF0C\u6570\u503C\u8D8A\u5927\u8D8A\u6392\u524D\u9762",-1),L=P({__name:"edit",emits:["success","close"],setup(K,{expose:F,emit:B}){const d=B,c=f(),n=f(),m=U(""),u=_({id:"",prompt:"",prompt_en:"",sort:"",status:1,model:"dalle3"}),v=_({prompt:[{required:!0,message:"\u8BF7\u8F93\u5165\u4E2D\u6587\u793A\u4F8B",trigger:["change","blur"]}],prompt_en:[{required:!0,message:"\u8BF7\u8F93\u5165\u82F1\u6587\u793A\u4F8B",trigger:["change","blur"]}]}),E=async s=>{try{const e=await k({id:s});for(const t in u)e[t]!=null&&e[t]!=null&&(u[t]=e[t])}catch(e){console.log("\u83B7\u53D6\u8BE6\u60C5=>",e)}},w=async()=>{var s,e;try{await((s=c.value)==null?void 0:s.validate()),u.id?await b(u):await R(u),d("success"),(e=n.value)==null||e.close()}catch(t){return t}},A=()=>{d("close")};return F({open:(s,e)=>{var t;e?(m.value="\u7F16\u8F91\u793A\u4F8B",E(e)):m.value="\u65B0\u589E\u793A\u4F8B",(t=n.value)==null||t.open()}}),(s,e)=>{const t=h,p=C,V=x,g=D;return q(),I("div",N,[l(y,{ref_key:"popupRef",ref:n,title:o(m),async:!0,width:"520px",onConfirm:w,onClose:A},{default:r(()=>[l(g,{ref_key:"formRef",ref:c,class:"mt-4",model:o(u),rules:o(v),inline:!1,"label-width":"80px"},{default:r(()=>[l(p,{label:"\u793A\u4F8B\u6807\u9898",prop:"prompt"},{default:r(()=>[i("div",S,[l(t,{modelValue:o(u).prompt,"onUpdate:modelValue":e[0]||(e[0]=a=>o(u).prompt=a),placeholder:"\u4F8B\u5982\uFF1A\u53EF\u7231\u7684\u7F8E\u5C11\u5973"},null,8,["modelValue"])])]),_:1}),l(p,{label:"\u793A\u4F8B\u5185\u5BB9",prop:"prompt_en"},{default:r(()=>[l(t,{modelValue:o(u).prompt_en,"onUpdate:modelValue":e[1]||(e[1]=a=>o(u).prompt_en=a),type:"textarea",autosize:{minRows:8,maxRows:20},placeholder:"\u8BF7\u8F93\u5165\u793A\u4F8B\u5185\u5BB9\uFF0C\u5C06\u4F1A\u88AB\u586B\u5145\u8FDB\u8F93\u5165\u6846\u7684\u5185\u5BB9"},null,8,["modelValue"])]),_:1}),l(p,{label:"\u6392\u5E8F",prop:"sort"},{default:r(()=>[i("div",T,[l(t,{modelValue:o(u).sort,"onUpdate:modelValue":e[2]||(e[2]=a=>o(u).sort=a),modelModifiers:{number:!0},placeholder:"\u8BF7\u8F93\u5165"},null,8,["modelValue"]),z])]),_:1}),l(p,{label:"\u72B6\u6001",prop:"status"},{default:r(()=>[l(V,{modelValue:o(u).status,"onUpdate:modelValue":e[3]||(e[3]=a=>o(u).status=a),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title"])])}}});export{L as _};
