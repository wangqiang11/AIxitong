import{x as R,y as $,b as z,w as N,G as P}from"./element-plus.6d5d7657.js";import{g,b as j}from"./index.fc6caf68.js";import{_ as q}from"./session.vue_vue_type_script_setup_true_lang.c20dd24e.js";import{_ as v}from"./embedding.vue_vue_type_script_setup_true_lang.c123ae22.js";import{c as U,e as G}from"./model.7491be3a.js";import{D as J}from"./vuedraggable.0170ba82.js";import{d as M,s as d,r as y,_ as K,b as h,a3 as Q,ag as H,o as p,c as w,T as n,K as r,u as a,j as D,S as O,a6 as W,J as _,a as t,M as B,R as E,L as F,Q as X}from"./@vue.7946e41b.js";import"./@element-plus.7d8ec931.js";import"./lodash-es.0dcbbec0.js";import"./dayjs.34e6308d.js";import"./@iktakahiro.37fa5b2b.js";import"./katex.dbdd07a7.js";import"./async-validator.fb49d0f5.js";import"./@ctrl.b082b0c1.js";import"./@popperjs.36402333.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./@vueuse.927bd09a.js";import"./lodash.4744e7a5.js";import"./axios.978f8ca9.js";import"./vue-router.c4b4a189.js";import"./pinia.83a6d4dd.js";import"./vue-demi.b3a9cad9.js";import"./css-color-function.f0ee4d0a.js";import"./color.12f7d1c1.js";import"./clone.65ca8e73.js";import"./color-convert.755d189f.js";import"./color-name.e7a4e1d3.js";import"./color-string.e356f5de.js";import"./balanced-match.d2a36341.js";import"./debug.6eeb6e12.js";import"./ms.a9ae1d6d.js";import"./vue-drag-resize.1871ee6b.js";import"./nprogress.7152acad.js";import"./vue-clipboard3.fa3fc3ae.js";import"./clipboard.f56f94fd.js";import"./echarts.8535e5a6.js";import"./zrender.3eba8991.js";import"./tslib.60310f1a.js";import"./highlight.js.4f6161a5.js";import"./@highlightjs.932a13cd.js";import"./vue.c48aa7bc.js";import"./sortablejs.65032496.js";const Y={class:"mx-[10px] mb-[20px]"},Z={class:"flex items-center px-[15px] py-[25px] w-[300px] bg-[#f8f8f8] dark:bg-page rounded-[12px] h-full cursor-move hover:bg-primary-light-9 border border-solid border-page hover:border-primary"},ee={class:"mx-[16px] flex-1 min-w-0"},oe={class:"text-xl font-bold mb-[4px]"},te={class:"mx-[10px] mb-[20px] min-h-[100px]"},re={class:"flex items-center justify-center px-[15px] py-[25px] w-[300px] bg-[#f8f8f8] dark:bg-page rounded-[12px] h-full hover:bg-primary-light-9 border border-solid border-page hover:border-primary"},ae=t("div",{class:"text-xl font-bold ml-1"},"\u81EA\u5B9A\u4E49\u6A21\u578B",-1),se=M({name:"aiModel"}),We=M({...se,setup(le){d();const s=y("chatModels"),c=K([{name:"AI\u5BF9\u8BDD\u914D\u7F6E",label:"chatModels",component:d(q),type:1},{name:"\u5411\u91CF\u6A21\u578B\u914D\u7F6E",label:"vectorModels",component:d(v),type:2},{name:"\u91CD\u6392\u6A21\u578B\u914D\u7F6E",label:"rankingModels",component:d(v),type:11}]),k=h(()=>{var o;const l=c.findIndex(i=>i.label===s.value);return(o=c[l].type)!=null?o:1}),u=y({chatModels:[],vectorModels:[]}),m=h({get(){return u.value[s.value]},set(l){u.value[s.value]=l}}),f=async()=>{u.value=await U()},V=async()=>{const l=m.value.map((o,i)=>({id:o.id,sort:i}));try{await G({orders:l})}catch{f()}};return f(),(l,o)=>{const i=R,A=$,C=z,T=N,b=Q("router-link"),S=j,I=P,x=H("perms");return p(),w("div",null,[n(I,{shadow:"never",class:"!border-none"},{default:r(()=>[n(A,{modelValue:a(s),"onUpdate:modelValue":o[0]||(o[0]=e=>D(s)?s.value=e:null)},{default:r(()=>[(p(!0),w(O,null,W(a(c),(e,L)=>(p(),_(i,{label:`${e.name}`,name:e.label,key:L,lazy:""},null,8,["label","name"]))),128))]),_:1},8,["modelValue"]),n(a(J),{class:"flex flex-wrap mx-[-10px]",modelValue:a(m),"onUpdate:modelValue":o[1]||(o[1]=e=>D(m)?m.value=e:null),animation:"300",onSort:V},{item:r(({element:e})=>[t("div",Y,[t("div",Z,[t("div",{class:B(["flex items-center flex-1 min-w-0",{"opacity-60":!e.is_enable}])},[n(C,{src:e.logo,class:"w-[44px] h-[44px]"},null,8,["src"]),t("div",ee,[t("div",oe,E(e.name),1),t("div",{class:B(["flex items-center text-tx-secondary before:mr-[6px] before:block before:w-[8px] before:h-[8px] before:bg-success before:rounded-[50%]",{"before:!bg-danger":!e.is_enable}])},E(e.is_enable?"\u5DF2\u542F\u7528":"\u5DF2\u505C\u7528"),3)])],2),F((p(),_(b,{to:{path:a(g)("setting.ai.models/edit"),query:{id:e.id,type:e.type}}},{default:r(()=>[n(T,{type:"primary",plain:""},{default:r(()=>[X("\u7F16\u8F91")]),_:1})]),_:2},1032,["to"])),[[x,["setting.ai.models/edit"]]])])])]),footer:r(()=>[t("div",te,[F((p(),_(b,{to:{path:a(g)("setting.ai.models/add"),query:{type:a(k)}}},{default:r(()=>[t("div",re,[n(S,{name:"el-icon-Plus",size:20}),ae])]),_:1},8,["to"])),[[x,["setting.ai.models/add"]]])])]),_:1},8,["modelValue"])]),_:1})])}}});export{We as default};
