import{_ as ie,G as ne,o as le,w as re,D as me,F as de}from"./element-plus.6d5d7657.js";import{_ as pe}from"./index.vue_vue_type_script_setup_true_lang.9933e104.js";import{g as T,l as _e,f as U,b as ce}from"./index.fc6caf68.js";import{u as fe,a as Fe}from"./vue-router.c4b4a189.js";import{j as ye,k as H,l as be,m as I,n as ke,o as Ce,p as ve}from"./consumer.90d54fa3.js";import{_ as Ee}from"./account-adjust.vue_vue_type_script_setup_true_lang.5ebd41dc.js";import{_ as xe}from"./resetPasswordPop.vue_vue_type_script_setup_true_lang.d830bf4f.js";import{_ as we}from"./adjust-group.vue_vue_type_script_setup_true_lang.c6c16850.js";import{_ as Ae}from"./num-adjust.vue_vue_type_script_setup_true_lang.ddee3b62.js";import{_ as Be}from"./vip-adjust.vue_vue_type_style_index_0_lang.58c0aebe.js";import{_ as De}from"./leader-adjust.vue_vue_type_script_setup_true_lang.473891a3.js";import{_ as ge}from"./vip-record.vue_vue_type_script_setup_true_lang.0a4fd0e5.js";import{d as M,s as x,r as $,_ as P,a3 as he,ag as je,o as m,c as $e,T as s,K as o,u as e,a as _,Q as i,R as l,L as f,J as d,P as v,H as K,n as D}from"./@vue.7946e41b.js";import"./@element-plus.7d8ec931.js";import"./lodash-es.0dcbbec0.js";import"./dayjs.34e6308d.js";import"./@iktakahiro.37fa5b2b.js";import"./katex.dbdd07a7.js";import"./async-validator.fb49d0f5.js";import"./@ctrl.b082b0c1.js";import"./@popperjs.36402333.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./@vueuse.927bd09a.js";import"./lodash.4744e7a5.js";import"./axios.978f8ca9.js";import"./pinia.83a6d4dd.js";import"./vue-demi.b3a9cad9.js";import"./css-color-function.f0ee4d0a.js";import"./color.12f7d1c1.js";import"./clone.65ca8e73.js";import"./color-convert.755d189f.js";import"./color-name.e7a4e1d3.js";import"./color-string.e356f5de.js";import"./balanced-match.d2a36341.js";import"./debug.6eeb6e12.js";import"./ms.a9ae1d6d.js";import"./vue-drag-resize.1871ee6b.js";import"./nprogress.7152acad.js";import"./vue-clipboard3.fa3fc3ae.js";import"./clipboard.f56f94fd.js";import"./echarts.8535e5a6.js";import"./zrender.3eba8991.js";import"./tslib.60310f1a.js";import"./highlight.js.4f6161a5.js";import"./@highlightjs.932a13cd.js";import"./index.c487cb65.js";import"./useDictOptions.aef4d901.js";const Pe={class:"bg-page flex py-2.5 mb-10 items-center flex-wrap"},Re={class:"basis-40 flex flex-1 flex-col py-[10px] justify-center items-center"},qe=_("div",{class:"mb-2 text-tx-regular"},"\u7528\u6237\u5934\u50CF",-1),Ne={class:"basis-40 flex flex-1 flex-col py-[10px] justify-center items-center"},Ve=_("div",{class:"text-tx-regular"},"\u7535\u529B\u503C\u6570\u91CF",-1),Le={class:"mt-2 flex items-center text-[20px]"},Se={class:"basis-40 flex-1 flex flex-col py-[10px] justify-center items-center"},Ge=_("div",{class:"text-tx-regular"},"\u5DF2\u4F7F\u7528/\u667A\u80FD\u4F53\u603B\u6570",-1),Te={class:"mt-2 flex items-center text-[20px]"},Ue={class:"basis-40 flex flex-1 flex-col py-[10px] justify-center items-center"},He=_("div",{class:"text-tx-regular"},"\u7D2F\u8BA1\u63D0\u95EE\u6B21\u6570",-1),Ie={class:"mt-2 flex items-center text-[20px]"},Ke={class:"text-[#F2A626]"},Me=M({name:"consumerDetail"}),Ut=M({...Me,setup(ze){const R=x(),q=x(),E=$(!1),F=fe(),z=Fe(),u=P({id:0,avatar:"",channel:"",create_time:"",login_time:"",mobile:"",nickname:"",real_name:0,package_name:"",package_time:"",package_id:"",is_perpetual:"",sex:0,sn:"",account:"",balance:0,total_chat:"",is_blacklist:0,is_distribution:1,is_distribution_desc:"",distribution_status:"",distribution_time:"",inviter_name:"",invite_num:"",email:"",group_name:"",robot_num:0,use_robot_num:0,use_robot:0,total_robot_num:0,use_kb:0,kb_num:0,group_ids:[],video_num:0,multipoint_login:1}),g=$(!1),h=x(),y=P({show:!1,value:0,title:"",unit:"",type:""}),N=x(),b=P({type:"",show:!1,value:"",use:""}),J=x(),j=$(!1),V=x(),k=async()=>{const a=await ye({id:F.query.id});Object.keys(u).forEach(t=>{u[t]=a[t]})},w=async(a,t)=>{_e(a)||(await H({id:F.query.id,field:t,value:a}),k())},O=async()=>{await H({id:F.query.id,field:"multipoint_login",value:u.multipoint_login==1?0:1}),k()},Q=(a,t)=>{switch(y.show=!0,y.value=t,y.type=a,a){case"chat":y.title="\u7535\u529B\u503C",y.unit="\u7535\u529B\u503C";break}},W=async a=>{switch(console.log(a),y.type){case"chat":await I({user_id:F.query.id,scene:"balance",...a});break;case"duration":await be({user_id:F.query.id,scene:"video",...a});break}y.show=!1,k()},X=async()=>{var a,t;g.value=!0,await D(),(a=h.value)==null||a.open("add"),(t=h.value)==null||t.setFormData(u,F.query.id)},Y=(a,t,A)=>{b.type=a,b.show=!0,b.value=t,b.use=A},Z=async a=>{switch(b.type){case"robot":await I({user_id:F.query.id,scene:"robot",...a});break;case"kb":await ke({user_id:F.query.id,...a});break}b.show=!1,k()},ee=async()=>{E.value=!0,await D(),q.value.open({id:[u.id],groupIds:u.group_ids,type:1})},L=async(a,t,A)=>{await U.customConfirm("\u662F\u5426\u5C06 ",` ${a==1?"\u52A0\u5165":"\u79FB\u51FA"}\u9ED1\u540D\u5355\uFF1F\u8BF7\u8C28\u614E\u64CD\u4F5C\uFF01`,A,"color:red"),await Ce({id:t}),k()},te=async()=>{E.value=!0,await D(),R.value.open(u.id)},ue=async()=>{await U.customConfirm("\u786E\u8BA4\u6CE8\u9500","\u5417\uFF1F\u6CE8\u9500\u540E\u8BE5\u7528\u6237\u7684\u5168\u90E8\u8D44\u4EA7\u5C06\u88AB\u6E05\u7A7A\uFF0C\u4E14\u5BF9\u65B9\u5C06\u65E0\u6CD5\u767B\u5F55\uFF01",u.nickname,"color:red","\u6CE8\u9500\u8D26\u53F7"),await ve({user_id:F.query.id}),setTimeout(()=>{z.back()},1e3)},se=async()=>{var a;j.value=!0,await D(),(a=V.value)==null||a.open(F.query.id)};return k(),(a,t)=>{const A=ie,S=ne,oe=le,r=re,p=me,C=ce,B=pe,G=he("router-link"),ae=de,c=je("perms");return m(),$e("div",null,[s(S,{class:"!border-none",shadow:"never"},{default:o(()=>[s(A,{content:"\u7528\u6237\u8BE6\u60C5",onBack:t[0]||(t[0]=n=>a.$router.back())})]),_:1}),s(S,{class:"mt-4 !border-none",header:"\u57FA\u672C\u8D44\u6599",shadow:"never"},{default:o(()=>[s(ae,{ref_key:"formRef",ref:J,class:"ls-form",model:e(u),"label-width":"120px"},{default:o(()=>[_("div",Pe,[_("div",Re,[qe,s(oe,{src:e(u).avatar,size:58},null,8,["src"])]),_("div",Ne,[Ve,_("div",Le,[i(l(e(u).balance||0)+" ",1),f((m(),d(r,{type:"primary",link:"",onClick:t[1]||(t[1]=n=>Q("chat",e(u).balance))},{default:o(()=>[i(" \u8C03\u6574 ")]),_:1})),[[c,["user.user/adjustAccount"]]])])]),_("div",Se,[Ge,_("div",Te,[i(l(e(u).use_robot_num)+"/"+l(e(u).total_robot_num)+" ",1),f((m(),d(r,{type:"primary",link:"",onClick:t[2]||(t[2]=n=>Y("robot",e(u).total_robot_num,e(u).use_robot_num))},{default:o(()=>[i(" \u8C03\u6574 ")]),_:1})),[[c,["user.user/adjustAccount"]]])])]),_("div",Ue,[He,_("div",Ie,l(e(u).total_chat),1)])]),s(p,{label:"\u7528\u6237\u7F16\u53F7\uFF1A"},{default:o(()=>[i(l(e(u).sn),1)]),_:1}),s(p,{label:"\u7528\u6237\u6635\u79F0\uFF1A"},{default:o(()=>[i(l(e(u).nickname),1)]),_:1}),s(p,{label:"\u4F1A\u5458\u7B49\u7EA7\uFF1A"},{default:o(()=>[i(l(`${e(u).package_name}(${e(u).package_time||"\u65E0"})`)+" ",1),s(r,{type:"primary",link:"",onClick:X},{default:o(()=>[s(C,{name:"el-icon-EditPen"})]),_:1})]),_:1}),s(p,{label:"\u8D26\u53F7\uFF1A"},{default:o(()=>[i(l(e(u).account)+" ",1),f((m(),d(B,{class:"ml-[10px]",onConfirm:t[3]||(t[3]=n=>w(n,"account")),limit:32},{default:o(()=>[s(r,{type:"primary",link:""},{default:o(()=>[s(C,{name:"el-icon-EditPen"})]),_:1})]),_:1})),[[c,["user.user/edit"]]])]),_:1}),s(p,{label:"\u771F\u5B9E\u59D3\u540D\uFF1A"},{default:o(()=>[i(l(e(u).real_name||"-")+" ",1),f((m(),d(B,{class:"ml-[10px]",onConfirm:t[4]||(t[4]=n=>w(n,"real_name")),limit:32},{default:o(()=>[s(r,{type:"primary",link:""},{default:o(()=>[s(C,{name:"el-icon-EditPen"})]),_:1})]),_:1})),[[c,["user.user/edit"]]])]),_:1}),s(p,{label:"\u6027\u522B\uFF1A"},{default:o(()=>[i(l(e(u).sex)+" ",1),f((m(),d(B,{class:"ml-[10px]",type:"select",options:[{label:"\u672A\u77E5",value:0},{label:"\u7537",value:1},{label:"\u5973",value:2}],onConfirm:t[5]||(t[5]=n=>w(n,"sex"))},{default:o(()=>[s(r,{type:"primary",link:""},{default:o(()=>[s(C,{name:"el-icon-EditPen"})]),_:1})]),_:1})),[[c,["user.user/edit"]]])]),_:1}),s(p,{label:"\u8054\u7CFB\u7535\u8BDD\uFF1A"},{default:o(()=>[i(l(e(u).mobile||"-")+" ",1),f((m(),d(B,{class:"ml-[10px]",type:"number",onConfirm:t[6]||(t[6]=n=>w(n,"mobile"))},{default:o(()=>[s(r,{type:"primary",link:""},{default:o(()=>[s(C,{name:"el-icon-EditPen"})]),_:1})]),_:1})),[[c,["user.user/edit"]]])]),_:1}),s(p,{label:"\u90AE\u7BB1\u8D26\u53F7\uFF1A"},{default:o(()=>[i(l(e(u).email||"-")+" ",1),f((m(),d(B,{class:"ml-[10px]",onConfirm:t[7]||(t[7]=n=>w(n,"email")),limit:32},{default:o(()=>[s(r,{type:"primary",link:""},{default:o(()=>[s(C,{name:"el-icon-EditPen"})]),_:1})]),_:1})),[[c,["user.user/edit"]]])]),_:1}),s(p,{label:"\u4E0A\u7EA7\u9080\u8BF7\u4EBA"},{default:o(()=>[i(l(e(u).inviter_name||"-")+" ",1),s(r,{type:"primary",link:"",onClick:se},{default:o(()=>[s(C,{name:"el-icon-EditPen"})]),_:1})]),_:1}),s(p,{label:"\u9080\u8BF7\u7684\u7528\u6237"},{default:o(()=>{var n;return[i(l((n=e(u).invite_num)!=null?n:"-")+" ",1),s(G,{to:{path:e(T)("distribution.distributor/belowLists"),query:{id:e(u).id}}},{default:o(()=>[s(r,{link:"",type:"primary"},{default:o(()=>[i(" \u67E5\u770B\u9080\u8BF7\u4EBA\u6570")]),_:1})]),_:1},8,["to"])]}),_:1}),s(p,{label:"\u5206\u9500\u8D44\u683C"},{default:o(()=>[_("span",Ke,l(e(u).is_distribution_desc),1),s(G,{to:{path:e(T)("distribution.distributor/detail"),query:{id:e(u).id}}},{default:o(()=>[e(u).is_distribution==1?(m(),d(r,{key:0,link:"",type:"primary"},{default:o(()=>[i(" \u67E5\u770B\u5206\u9500\u4FE1\u606F")]),_:1})):v("",!0)]),_:1},8,["to"])]),_:1}),s(p,{label:"\u7528\u6237\u5206\u7EC4\uFF1A"},{default:o(()=>[i(l(e(u).group_name||"-")+" ",1),f((m(),d(r,{type:"primary",onClick:ee,class:"ml-[10px]",link:""},{default:o(()=>[s(C,{name:"el-icon-EditPen"})]),_:1})),[[c,["user.user/setGroup"]]])]),_:1}),s(p,{label:"\u6CE8\u518C\u6765\u6E90\uFF1A"},{default:o(()=>[i(l(e(u).channel),1)]),_:1}),s(p,{label:"\u591A\u5904\u767B\u5F55\uFF1A"},{default:o(()=>[_("span",null,l(e(u).multipoint_login==1?"\u5DF2\u5F00\u542F":"\u5DF2\u5173\u95ED"),1),s(r,{link:"",type:"primary",onClick:O},{default:o(()=>[i(l(e(u).multipoint_login==1?"\u5173\u95ED":"\u5F00\u542F"),1)]),_:1})]),_:1}),s(p,{label:"\u6CE8\u518C\u65F6\u95F4\uFF1A"},{default:o(()=>[i(l(e(u).create_time),1)]),_:1}),s(p,{label:"\u6700\u8FD1\u767B\u5F55\u65F6\u95F4\uFF1A"},{default:o(()=>[i(l(e(u).login_time||"-"),1)]),_:1})]),_:1},8,["model"]),s(r,{onClick:t[8]||(t[8]=n=>e(N).open())},{default:o(()=>[i(" \u4F1A\u5458\u5F00\u901A\u8BB0\u5F55 ")]),_:1}),e(u).is_blacklist==0?f((m(),d(r,{key:0,onClick:t[9]||(t[9]=n=>L(1,e(u).id,e(u).nickname))},{default:o(()=>[i("\u52A0\u5165\u9ED1\u540D\u5355")]),_:1})),[[c,["user.user/blacklist"]]]):v("",!0),e(u).is_blacklist==1?(m(),d(r,{key:1,onClick:t[10]||(t[10]=n=>L(2,e(u).id,e(u).nickname))},{default:o(()=>[i(" \u79FB\u51FA\u9ED1\u540D\u5355 ")]),_:1})):v("",!0),f((m(),d(r,{onClick:te},{default:o(()=>[i(" \u91CD\u7F6E\u5BC6\u7801 ")]),_:1})),[[c,["user.user/rePassword"]]]),f((m(),d(r,{onClick:ue},{default:o(()=>[i(" \u6CE8\u9500\u8D26\u53F7 ")]),_:1})),[[c,["user.user/rePassword"]]])]),_:1}),s(Ee,K(e(y),{show:e(y).show,"onUpdate:show":t[11]||(t[11]=n=>e(y).show=n),onConfirm:W}),null,16,["show"]),e(E)?(m(),d(xe,{key:0,ref_key:"popRef",ref:R,onClose:t[12]||(t[12]=n=>E.value=!1)},null,512)):v("",!0),e(E)?(m(),d(we,{key:1,ref_key:"adjustGroupRef",ref:q,onClose:t[13]||(t[13]=()=>{k(),E.value=!1})},null,512)):v("",!0),s(Ae,K(e(b),{show:e(b).show,"onUpdate:show":t[14]||(t[14]=n=>e(b).show=n),onConfirm:Z}),null,16,["show"]),e(g)?(m(),d(Be,{key:2,ref_key:"vipRef",ref:h,onSuccess:k,onClose:t[15]||(t[15]=n=>g.value=!1)},null,512)):v("",!0),e(j)?(m(),d(De,{key:3,ref_key:"leaderAdjustRef",ref:V,"user-info":e(u),onSuccess:k,onClose:t[16]||(t[16]=n=>j.value=!1)},null,8,["user-info"])):v("",!0),s(ge,{ref_key:"recordPopRef",ref:N},null,512)])}}});export{Ut as default};
